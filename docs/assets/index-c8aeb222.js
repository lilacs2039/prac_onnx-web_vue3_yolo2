(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))l(a);new MutationObserver(a=>{for(const d of a)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function u(a){const d={};return a.integrity&&(d.integrity=a.integrity),a.referrerpolicy&&(d.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?d.credentials="include":a.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(a){if(a.ep)return;a.ep=!0;const d=u(a);fetch(a.href,d)}})();function makeMap(o,n){const u=Object.create(null),l=o.split(",");for(let a=0;a<l.length;a++)u[l[a]]=!0;return n?a=>!!u[a.toLowerCase()]:a=>!!u[a]}function normalizeStyle(o){if(isArray$1(o)){const n={};for(let u=0;u<o.length;u++){const l=o[u],a=isString(l)?parseStringStyle(l):normalizeStyle(l);if(a)for(const d in a)n[d]=a[d]}return n}else{if(isString(o))return o;if(isObject(o))return o}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(o){const n={};return o.replace(styleCommentRE,"").split(listDelimiterRE).forEach(u=>{if(u){const l=u.split(propertyDelimiterRE);l.length>1&&(n[l[0].trim()]=l[1].trim())}}),n}function normalizeClass(o){let n="";if(isString(o))n=o;else if(isArray$1(o))for(let u=0;u<o.length;u++){const l=normalizeClass(o[u]);l&&(n+=l+" ")}else if(isObject(o))for(const u in o)o[u]&&(n+=u+" ");return n.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(o){return!!o||o===""}const toDisplayString=o=>isString(o)?o:o==null?"":isArray$1(o)||isObject(o)&&(o.toString===objectToString||!isFunction(o.toString))?JSON.stringify(o,replacer,2):String(o),replacer=(o,n)=>n&&n.__v_isRef?replacer(o,n.value):isMap(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((u,[l,a])=>(u[`${l} =>`]=a,u),{})}:isSet(n)?{[`Set(${n.size})`]:[...n.values()]}:isObject(n)&&!isArray$1(n)&&!isPlainObject(n)?String(n):n,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=o=>onRE.test(o),isModelListener=o=>o.startsWith("onUpdate:"),extend=Object.assign,remove=(o,n)=>{const u=o.indexOf(n);u>-1&&o.splice(u,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(o,n)=>hasOwnProperty.call(o,n),isArray$1=Array.isArray,isMap=o=>toTypeString(o)==="[object Map]",isSet=o=>toTypeString(o)==="[object Set]",isFunction=o=>typeof o=="function",isString=o=>typeof o=="string",isSymbol=o=>typeof o=="symbol",isObject=o=>o!==null&&typeof o=="object",isPromise=o=>isObject(o)&&isFunction(o.then)&&isFunction(o.catch),objectToString=Object.prototype.toString,toTypeString=o=>objectToString.call(o),toRawType=o=>toTypeString(o).slice(8,-1),isPlainObject=o=>toTypeString(o)==="[object Object]",isIntegerKey=o=>isString(o)&&o!=="NaN"&&o[0]!=="-"&&""+parseInt(o,10)===o,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=o=>{const n=Object.create(null);return u=>n[u]||(n[u]=o(u))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(o=>o.replace(camelizeRE,(n,u)=>u?u.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(o=>o.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(o=>o.charAt(0).toUpperCase()+o.slice(1)),toHandlerKey=cacheStringFunction(o=>o?`on${capitalize(o)}`:""),hasChanged=(o,n)=>!Object.is(o,n),invokeArrayFns=(o,n)=>{for(let u=0;u<o.length;u++)o[u](n)},def=(o,n,u)=>{Object.defineProperty(o,n,{configurable:!0,enumerable:!1,value:u})},toNumber=o=>{const n=parseFloat(o);return isNaN(n)?o:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(n){if(this.active){const u=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=u}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(n){if(this.active){let u,l;for(u=0,l=this.effects.length;u<l;u++)this.effects[u].stop();for(u=0,l=this.cleanups.length;u<l;u++)this.cleanups[u]();if(this.scopes)for(u=0,l=this.scopes.length;u<l;u++)this.scopes[u].stop(!0);if(!this.detached&&this.parent&&!n){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(o,n=activeEffectScope){n&&n.active&&n.effects.push(o)}const createDep=o=>{const n=new Set(o);return n.w=0,n.n=0,n},wasTracked=o=>(o.w&trackOpBit)>0,newTracked=o=>(o.n&trackOpBit)>0,initDepMarkers=({deps:o})=>{if(o.length)for(let n=0;n<o.length;n++)o[n].w|=trackOpBit},finalizeDepMarkers=o=>{const{deps:n}=o;if(n.length){let u=0;for(let l=0;l<n.length;l++){const a=n[l];wasTracked(a)&&!newTracked(a)?a.delete(o):n[u++]=a,a.w&=~trackOpBit,a.n&=~trackOpBit}n.length=u}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(n,u=null,l){this.fn=n,this.scheduler=u,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,l)}run(){if(!this.active)return this.fn();let n=activeEffect,u=shouldTrack;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=u,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(o){const{deps:n}=o;if(n.length){for(let u=0;u<n.length;u++)n[u].delete(o);n.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const o=trackStack.pop();shouldTrack=o===void 0?!0:o}function track(o,n,u){if(shouldTrack&&activeEffect){let l=targetMap.get(o);l||targetMap.set(o,l=new Map);let a=l.get(u);a||l.set(u,a=createDep()),trackEffects(a)}}function trackEffects(o,n){let u=!1;effectTrackDepth<=maxMarkerBits?newTracked(o)||(o.n|=trackOpBit,u=!wasTracked(o)):u=!o.has(activeEffect),u&&(o.add(activeEffect),activeEffect.deps.push(o))}function trigger(o,n,u,l,a,d){const c=targetMap.get(o);if(!c)return;let m=[];if(n==="clear")m=[...c.values()];else if(u==="length"&&isArray$1(o)){const b=toNumber(l);c.forEach((f,s)=>{(s==="length"||s>=b)&&m.push(f)})}else switch(u!==void 0&&m.push(c.get(u)),n){case"add":isArray$1(o)?isIntegerKey(u)&&m.push(c.get("length")):(m.push(c.get(ITERATE_KEY)),isMap(o)&&m.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$1(o)||(m.push(c.get(ITERATE_KEY)),isMap(o)&&m.push(c.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(o)&&m.push(c.get(ITERATE_KEY));break}if(m.length===1)m[0]&&triggerEffects(m[0]);else{const b=[];for(const f of m)f&&b.push(...f);triggerEffects(createDep(b))}}function triggerEffects(o,n){const u=isArray$1(o)?o:[...o];for(const l of u)l.computed&&triggerEffect(l);for(const l of u)l.computed||triggerEffect(l)}function triggerEffect(o,n){(o!==activeEffect||o.allowRecurse)&&(o.scheduler?o.scheduler():o.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(o=>o!=="arguments"&&o!=="caller").map(o=>Symbol[o]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const o={};return["includes","indexOf","lastIndexOf"].forEach(n=>{o[n]=function(...u){const l=toRaw(this);for(let d=0,c=this.length;d<c;d++)track(l,"get",d+"");const a=l[n](...u);return a===-1||a===!1?l[n](...u.map(toRaw)):a}}),["push","pop","shift","unshift","splice"].forEach(n=>{o[n]=function(...u){pauseTracking();const l=toRaw(this)[n].apply(this,u);return resetTracking(),l}}),o}function createGetter(o=!1,n=!1){return function(l,a,d){if(a==="__v_isReactive")return!o;if(a==="__v_isReadonly")return o;if(a==="__v_isShallow")return n;if(a==="__v_raw"&&d===(o?n?shallowReadonlyMap:readonlyMap:n?shallowReactiveMap:reactiveMap).get(l))return l;const c=isArray$1(l);if(!o&&c&&hasOwn(arrayInstrumentations,a))return Reflect.get(arrayInstrumentations,a,d);const m=Reflect.get(l,a,d);return(isSymbol(a)?builtInSymbols.has(a):isNonTrackableKeys(a))||(o||track(l,"get",a),n)?m:isRef(m)?c&&isIntegerKey(a)?m:m.value:isObject(m)?o?readonly(m):reactive(m):m}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(o=!1){return function(u,l,a,d){let c=u[l];if(isReadonly(c)&&isRef(c)&&!isRef(a))return!1;if(!o&&(!isShallow(a)&&!isReadonly(a)&&(c=toRaw(c),a=toRaw(a)),!isArray$1(u)&&isRef(c)&&!isRef(a)))return c.value=a,!0;const m=isArray$1(u)&&isIntegerKey(l)?Number(l)<u.length:hasOwn(u,l),b=Reflect.set(u,l,a,d);return u===toRaw(d)&&(m?hasChanged(a,c)&&trigger(u,"set",l,a):trigger(u,"add",l,a)),b}}function deleteProperty(o,n){const u=hasOwn(o,n);o[n];const l=Reflect.deleteProperty(o,n);return l&&u&&trigger(o,"delete",n,void 0),l}function has(o,n){const u=Reflect.has(o,n);return(!isSymbol(n)||!builtInSymbols.has(n))&&track(o,"has",n),u}function ownKeys(o){return track(o,"iterate",isArray$1(o)?"length":ITERATE_KEY),Reflect.ownKeys(o)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(o,n){return!0},deleteProperty(o,n){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=o=>o,getProto=o=>Reflect.getPrototypeOf(o);function get$1(o,n,u=!1,l=!1){o=o.__v_raw;const a=toRaw(o),d=toRaw(n);u||(n!==d&&track(a,"get",n),track(a,"get",d));const{has:c}=getProto(a),m=l?toShallow:u?toReadonly:toReactive;if(c.call(a,n))return m(o.get(n));if(c.call(a,d))return m(o.get(d));o!==a&&o.get(n)}function has$1(o,n=!1){const u=this.__v_raw,l=toRaw(u),a=toRaw(o);return n||(o!==a&&track(l,"has",o),track(l,"has",a)),o===a?u.has(o):u.has(o)||u.has(a)}function size(o,n=!1){return o=o.__v_raw,!n&&track(toRaw(o),"iterate",ITERATE_KEY),Reflect.get(o,"size",o)}function add$1(o){o=toRaw(o);const n=toRaw(this);return getProto(n).has.call(n,o)||(n.add(o),trigger(n,"add",o,o)),this}function set$1(o,n){n=toRaw(n);const u=toRaw(this),{has:l,get:a}=getProto(u);let d=l.call(u,o);d||(o=toRaw(o),d=l.call(u,o));const c=a.call(u,o);return u.set(o,n),d?hasChanged(n,c)&&trigger(u,"set",o,n):trigger(u,"add",o,n),this}function deleteEntry(o){const n=toRaw(this),{has:u,get:l}=getProto(n);let a=u.call(n,o);a||(o=toRaw(o),a=u.call(n,o)),l&&l.call(n,o);const d=n.delete(o);return a&&trigger(n,"delete",o,void 0),d}function clear(){const o=toRaw(this),n=o.size!==0,u=o.clear();return n&&trigger(o,"clear",void 0,void 0),u}function createForEach(o,n){return function(l,a){const d=this,c=d.__v_raw,m=toRaw(c),b=n?toShallow:o?toReadonly:toReactive;return!o&&track(m,"iterate",ITERATE_KEY),c.forEach((f,s)=>l.call(a,b(f),b(s),d))}}function createIterableMethod(o,n,u){return function(...l){const a=this.__v_raw,d=toRaw(a),c=isMap(d),m=o==="entries"||o===Symbol.iterator&&c,b=o==="keys"&&c,f=a[o](...l),s=u?toShallow:n?toReadonly:toReactive;return!n&&track(d,"iterate",b?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:t,done:e}=f.next();return e?{value:t,done:e}:{value:m?[s(t[0]),s(t[1])]:s(t),done:e}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(o){return function(...n){return o==="delete"?!1:this}}function createInstrumentations(){const o={get(d){return get$1(this,d)},get size(){return size(this)},has:has$1,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},n={get(d){return get$1(this,d,!1,!0)},get size(){return size(this)},has:has$1,add:add$1,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},u={get(d){return get$1(this,d,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},l={get(d){return get$1(this,d,!0,!0)},get size(){return size(this,!0)},has(d){return has$1.call(this,d,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(d=>{o[d]=createIterableMethod(d,!1,!1),u[d]=createIterableMethod(d,!0,!1),n[d]=createIterableMethod(d,!1,!0),l[d]=createIterableMethod(d,!0,!0)}),[o,u,n,l]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(o,n){const u=n?o?shallowReadonlyInstrumentations:shallowInstrumentations:o?readonlyInstrumentations:mutableInstrumentations;return(l,a,d)=>a==="__v_isReactive"?!o:a==="__v_isReadonly"?o:a==="__v_raw"?l:Reflect.get(hasOwn(u,a)&&a in l?u:l,a,d)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(o){switch(o){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(o){return o.__v_skip||!Object.isExtensible(o)?0:targetTypeMap(toRawType(o))}function reactive(o){return isReadonly(o)?o:createReactiveObject(o,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(o){return createReactiveObject(o,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(o){return createReactiveObject(o,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(o,n,u,l,a){if(!isObject(o)||o.__v_raw&&!(n&&o.__v_isReactive))return o;const d=a.get(o);if(d)return d;const c=getTargetType(o);if(c===0)return o;const m=new Proxy(o,c===2?l:u);return a.set(o,m),m}function isReactive(o){return isReadonly(o)?isReactive(o.__v_raw):!!(o&&o.__v_isReactive)}function isReadonly(o){return!!(o&&o.__v_isReadonly)}function isShallow(o){return!!(o&&o.__v_isShallow)}function isProxy(o){return isReactive(o)||isReadonly(o)}function toRaw(o){const n=o&&o.__v_raw;return n?toRaw(n):o}function markRaw(o){return def(o,"__v_skip",!0),o}const toReactive=o=>isObject(o)?reactive(o):o,toReadonly=o=>isObject(o)?readonly(o):o;function trackRefValue(o){shouldTrack&&activeEffect&&(o=toRaw(o),trackEffects(o.dep||(o.dep=createDep())))}function triggerRefValue(o,n){o=toRaw(o),o.dep&&triggerEffects(o.dep)}function isRef(o){return!!(o&&o.__v_isRef===!0)}function ref(o){return createRef(o,!1)}function shallowRef(o){return createRef(o,!0)}function createRef(o,n){return isRef(o)?o:new RefImpl(o,n)}class RefImpl{constructor(n,u){this.__v_isShallow=u,this.dep=void 0,this.__v_isRef=!0,this._rawValue=u?n:toRaw(n),this._value=u?n:toReactive(n)}get value(){return trackRefValue(this),this._value}set value(n){const u=this.__v_isShallow||isShallow(n)||isReadonly(n);n=u?n:toRaw(n),hasChanged(n,this._rawValue)&&(this._rawValue=n,this._value=u?n:toReactive(n),triggerRefValue(this))}}function unref(o){return isRef(o)?o.value:o}const shallowUnwrapHandlers={get:(o,n,u)=>unref(Reflect.get(o,n,u)),set:(o,n,u,l)=>{const a=o[n];return isRef(a)&&!isRef(u)?(a.value=u,!0):Reflect.set(o,n,u,l)}};function proxyRefs(o){return isReactive(o)?o:new Proxy(o,shallowUnwrapHandlers)}var _a;class ComputedRefImpl{constructor(n,u,l,a){this._setter=u,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(n,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=l}get value(){const n=toRaw(this);return trackRefValue(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}_a="__v_isReadonly";function computed$1(o,n,u=!1){let l,a;const d=isFunction(o);return d?(l=o,a=NOOP):(l=o.get,a=o.set),new ComputedRefImpl(l,a,d||!a,u)}function warn(o,...n){}function callWithErrorHandling(o,n,u,l){let a;try{a=l?o(...l):o()}catch(d){handleError(d,n,u)}return a}function callWithAsyncErrorHandling(o,n,u,l){if(isFunction(o)){const d=callWithErrorHandling(o,n,u,l);return d&&isPromise(d)&&d.catch(c=>{handleError(c,n,u)}),d}const a=[];for(let d=0;d<o.length;d++)a.push(callWithAsyncErrorHandling(o[d],n,u,l));return a}function handleError(o,n,u,l=!0){const a=n?n.vnode:null;if(n){let d=n.parent;const c=n.proxy,m=u;for(;d;){const f=d.ec;if(f){for(let s=0;s<f.length;s++)if(f[s](o,c,m)===!1)return}d=d.parent}const b=n.appContext.config.errorHandler;if(b){callWithErrorHandling(b,null,10,[o,c,m]);return}}logError(o,u,a,l)}function logError(o,n,u,l=!0){console.error(o)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(o){const n=currentFlushPromise||resolvedPromise;return o?n.then(this?o.bind(this):o):n}function findInsertionIndex(o){let n=flushIndex+1,u=queue.length;for(;n<u;){const l=n+u>>>1;getId(queue[l])<o?n=l+1:u=l}return n}function queueJob(o){(!queue.length||!queue.includes(o,isFlushing&&o.allowRecurse?flushIndex+1:flushIndex))&&(o.id==null?queue.push(o):queue.splice(findInsertionIndex(o.id),0,o),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(o){const n=queue.indexOf(o);n>flushIndex&&queue.splice(n,1)}function queuePostFlushCb(o){isArray$1(o)?pendingPostFlushCbs.push(...o):(!activePostFlushCbs||!activePostFlushCbs.includes(o,o.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(o),queueFlush()}function flushPreFlushCbs(o,n=isFlushing?flushIndex+1:0){for(;n<queue.length;n++){const u=queue[n];u&&u.pre&&(queue.splice(n,1),n--,u())}}function flushPostFlushCbs(o){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,activePostFlushCbs.sort((u,l)=>getId(u)-getId(l)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=o=>o.id==null?1/0:o.id,comparator=(o,n)=>{const u=getId(o)-getId(n);if(u===0){if(o.pre&&!n.pre)return-1;if(n.pre&&!o.pre)return 1}return u};function flushJobs(o){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const n=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const u=queue[flushIndex];u&&u.active!==!1&&callWithErrorHandling(u,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(o,n,...u){if(o.isUnmounted)return;const l=o.vnode.props||EMPTY_OBJ;let a=u;const d=n.startsWith("update:"),c=d&&n.slice(7);if(c&&c in l){const s=`${c==="modelValue"?"model":c}Modifiers`,{number:t,trim:e}=l[s]||EMPTY_OBJ;e&&(a=u.map(r=>isString(r)?r.trim():r)),t&&(a=u.map(toNumber))}let m,b=l[m=toHandlerKey(n)]||l[m=toHandlerKey(camelize(n))];!b&&d&&(b=l[m=toHandlerKey(hyphenate(n))]),b&&callWithAsyncErrorHandling(b,o,6,a);const f=l[m+"Once"];if(f){if(!o.emitted)o.emitted={};else if(o.emitted[m])return;o.emitted[m]=!0,callWithAsyncErrorHandling(f,o,6,a)}}function normalizeEmitsOptions(o,n,u=!1){const l=n.emitsCache,a=l.get(o);if(a!==void 0)return a;const d=o.emits;let c={},m=!1;if(!isFunction(o)){const b=f=>{const s=normalizeEmitsOptions(f,n,!0);s&&(m=!0,extend(c,s))};!u&&n.mixins.length&&n.mixins.forEach(b),o.extends&&b(o.extends),o.mixins&&o.mixins.forEach(b)}return!d&&!m?(isObject(o)&&l.set(o,null),null):(isArray$1(d)?d.forEach(b=>c[b]=null):extend(c,d),isObject(o)&&l.set(o,c),c)}function isEmitListener(o,n){return!o||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn(o,n[0].toLowerCase()+n.slice(1))||hasOwn(o,hyphenate(n))||hasOwn(o,n))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(o){const n=currentRenderingInstance;return currentRenderingInstance=o,currentScopeId=o&&o.type.__scopeId||null,n}function pushScopeId(o){currentScopeId=o}function popScopeId(){currentScopeId=null}function withCtx(o,n=currentRenderingInstance,u){if(!n||o._n)return o;const l=(...a)=>{l._d&&setBlockTracking(-1);const d=setCurrentRenderingInstance(n);let c;try{c=o(...a)}finally{setCurrentRenderingInstance(d),l._d&&setBlockTracking(1)}return c};return l._n=!0,l._c=!0,l._d=!0,l}function markAttrsAccessed(){}function renderComponentRoot(o){const{type:n,vnode:u,proxy:l,withProxy:a,props:d,propsOptions:[c],slots:m,attrs:b,emit:f,render:s,renderCache:t,data:e,setupState:r,ctx:i,inheritAttrs:g}=o;let y,_;const v=setCurrentRenderingInstance(o);try{if(u.shapeFlag&4){const x=a||l;y=normalizeVNode(s.call(x,x,t,d,r,e,i)),_=b}else{const x=n;y=normalizeVNode(x.length>1?x(d,{attrs:b,slots:m,emit:f}):x(d,null)),_=n.props?b:getFunctionalFallthrough(b)}}catch(x){blockStack.length=0,handleError(x,o,1),y=createVNode(Comment)}let w=y;if(_&&g!==!1){const x=Object.keys(_),{shapeFlag:T}=w;x.length&&T&7&&(c&&x.some(isModelListener)&&(_=filterModelListeners(_,c)),w=cloneVNode(w,_))}return u.dirs&&(w=cloneVNode(w),w.dirs=w.dirs?w.dirs.concat(u.dirs):u.dirs),u.transition&&(w.transition=u.transition),y=w,setCurrentRenderingInstance(v),y}const getFunctionalFallthrough=o=>{let n;for(const u in o)(u==="class"||u==="style"||isOn(u))&&((n||(n={}))[u]=o[u]);return n},filterModelListeners=(o,n)=>{const u={};for(const l in o)(!isModelListener(l)||!(l.slice(9)in n))&&(u[l]=o[l]);return u};function shouldUpdateComponent(o,n,u){const{props:l,children:a,component:d}=o,{props:c,children:m,patchFlag:b}=n,f=d.emitsOptions;if(n.dirs||n.transition)return!0;if(u&&b>=0){if(b&1024)return!0;if(b&16)return l?hasPropsChanged(l,c,f):!!c;if(b&8){const s=n.dynamicProps;for(let t=0;t<s.length;t++){const e=s[t];if(c[e]!==l[e]&&!isEmitListener(f,e))return!0}}}else return(a||m)&&(!m||!m.$stable)?!0:l===c?!1:l?c?hasPropsChanged(l,c,f):!0:!!c;return!1}function hasPropsChanged(o,n,u){const l=Object.keys(n);if(l.length!==Object.keys(o).length)return!0;for(let a=0;a<l.length;a++){const d=l[a];if(n[d]!==o[d]&&!isEmitListener(u,d))return!0}return!1}function updateHOCHostEl({vnode:o,parent:n},u){for(;n&&n.subTree===o;)(o=n.vnode).el=u,n=n.parent}const isSuspense=o=>o.__isSuspense;function queueEffectWithSuspense(o,n){n&&n.pendingBranch?isArray$1(o)?n.effects.push(...o):n.effects.push(o):queuePostFlushCb(o)}function provide(o,n){if(currentInstance){let u=currentInstance.provides;const l=currentInstance.parent&&currentInstance.parent.provides;l===u&&(u=currentInstance.provides=Object.create(l)),u[o]=n}}function inject(o,n,u=!1){const l=currentInstance||currentRenderingInstance;if(l){const a=l.parent==null?l.vnode.appContext&&l.vnode.appContext.provides:l.parent.provides;if(a&&o in a)return a[o];if(arguments.length>1)return u&&isFunction(n)?n.call(l.proxy):n}}const INITIAL_WATCHER_VALUE={};function watch(o,n,u){return doWatch(o,n,u)}function doWatch(o,n,{immediate:u,deep:l,flush:a,onTrack:d,onTrigger:c}=EMPTY_OBJ){const m=currentInstance;let b,f=!1,s=!1;if(isRef(o)?(b=()=>o.value,f=isShallow(o)):isReactive(o)?(b=()=>o,l=!0):isArray$1(o)?(s=!0,f=o.some(w=>isReactive(w)||isShallow(w)),b=()=>o.map(w=>{if(isRef(w))return w.value;if(isReactive(w))return traverse(w);if(isFunction(w))return callWithErrorHandling(w,m,2)})):isFunction(o)?n?b=()=>callWithErrorHandling(o,m,2):b=()=>{if(!(m&&m.isUnmounted))return t&&t(),callWithAsyncErrorHandling(o,m,3,[e])}:b=NOOP,n&&l){const w=b;b=()=>traverse(w())}let t,e=w=>{t=_.onStop=()=>{callWithErrorHandling(w,m,4)}},r;if(isInSSRComponentSetup)if(e=NOOP,n?u&&callWithAsyncErrorHandling(n,m,3,[b(),s?[]:void 0,e]):b(),a==="sync"){const w=useSSRContext();r=w.__watcherHandles||(w.__watcherHandles=[])}else return NOOP;let i=s?new Array(o.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const g=()=>{if(_.active)if(n){const w=_.run();(l||f||(s?w.some((x,T)=>hasChanged(x,i[T])):hasChanged(w,i)))&&(t&&t(),callWithAsyncErrorHandling(n,m,3,[w,i===INITIAL_WATCHER_VALUE?void 0:s&&i[0]===INITIAL_WATCHER_VALUE?[]:i,e]),i=w)}else _.run()};g.allowRecurse=!!n;let y;a==="sync"?y=g:a==="post"?y=()=>queuePostRenderEffect(g,m&&m.suspense):(g.pre=!0,m&&(g.id=m.uid),y=()=>queueJob(g));const _=new ReactiveEffect(b,y);n?u?g():i=_.run():a==="post"?queuePostRenderEffect(_.run.bind(_),m&&m.suspense):_.run();const v=()=>{_.stop(),m&&m.scope&&remove(m.scope.effects,_)};return r&&r.push(v),v}function instanceWatch(o,n,u){const l=this.proxy,a=isString(o)?o.includes(".")?createPathGetter(l,o):()=>l[o]:o.bind(l,l);let d;isFunction(n)?d=n:(d=n.handler,u=n);const c=currentInstance;setCurrentInstance(this);const m=doWatch(a,d.bind(l),u);return c?setCurrentInstance(c):unsetCurrentInstance(),m}function createPathGetter(o,n){const u=n.split(".");return()=>{let l=o;for(let a=0;a<u.length&&l;a++)l=l[u[a]];return l}}function traverse(o,n){if(!isObject(o)||o.__v_skip||(n=n||new Set,n.has(o)))return o;if(n.add(o),isRef(o))traverse(o.value,n);else if(isArray$1(o))for(let u=0;u<o.length;u++)traverse(o[u],n);else if(isSet(o)||isMap(o))o.forEach(u=>{traverse(u,n)});else if(isPlainObject(o))for(const u in o)traverse(o[u],n);return o}function defineComponent(o){return isFunction(o)?{setup:o,name:o.name}:o}const isAsyncWrapper=o=>!!o.type.__asyncLoader,isKeepAlive=o=>o.type.__isKeepAlive;function onActivated(o,n){registerKeepAliveHook(o,"a",n)}function onDeactivated(o,n){registerKeepAliveHook(o,"da",n)}function registerKeepAliveHook(o,n,u=currentInstance){const l=o.__wdc||(o.__wdc=()=>{let a=u;for(;a;){if(a.isDeactivated)return;a=a.parent}return o()});if(injectHook(n,l,u),u){let a=u.parent;for(;a&&a.parent;)isKeepAlive(a.parent.vnode)&&injectToKeepAliveRoot(l,n,u,a),a=a.parent}}function injectToKeepAliveRoot(o,n,u,l){const a=injectHook(n,o,l,!0);onUnmounted(()=>{remove(l[n],a)},u)}function injectHook(o,n,u=currentInstance,l=!1){if(u){const a=u[o]||(u[o]=[]),d=n.__weh||(n.__weh=(...c)=>{if(u.isUnmounted)return;pauseTracking(),setCurrentInstance(u);const m=callWithAsyncErrorHandling(n,u,o,c);return unsetCurrentInstance(),resetTracking(),m});return l?a.unshift(d):a.push(d),d}}const createHook=o=>(n,u=currentInstance)=>(!isInSSRComponentSetup||o==="sp")&&injectHook(o,(...l)=>n(...l),u),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(o,n=currentInstance){injectHook("ec",o,n)}function invokeDirectiveHook(o,n,u,l){const a=o.dirs,d=n&&n.dirs;for(let c=0;c<a.length;c++){const m=a[c];d&&(m.oldValue=d[c].value);let b=m.dir[l];b&&(pauseTracking(),callWithAsyncErrorHandling(b,u,8,[o.el,m,o,n]),resetTracking())}}const NULL_DYNAMIC_COMPONENT=Symbol();function renderSlot(o,n,u={},l,a){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return n!=="default"&&(u.name=n),createVNode("slot",u,l&&l());let d=o[n];d&&d._c&&(d._d=!1),openBlock();const c=d&&ensureValidVNode(d(u)),m=createBlock(Fragment,{key:u.key||c&&c.key||`_${n}`},c||(l?l():[]),c&&o._===1?64:-2);return!a&&m.scopeId&&(m.slotScopeIds=[m.scopeId+"-s"]),d&&d._c&&(d._d=!0),m}function ensureValidVNode(o){return o.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?o:null}const getPublicInstance=o=>o?isStatefulComponent(o)?getExposeProxy(o)||o.proxy:getPublicInstance(o.parent):null,publicPropertiesMap=extend(Object.create(null),{$:o=>o,$el:o=>o.vnode.el,$data:o=>o.data,$props:o=>o.props,$attrs:o=>o.attrs,$slots:o=>o.slots,$refs:o=>o.refs,$parent:o=>getPublicInstance(o.parent),$root:o=>getPublicInstance(o.root),$emit:o=>o.emit,$options:o=>resolveMergedOptions(o),$forceUpdate:o=>o.f||(o.f=()=>queueJob(o.update)),$nextTick:o=>o.n||(o.n=nextTick.bind(o.proxy)),$watch:o=>instanceWatch.bind(o)}),hasSetupBinding=(o,n)=>o!==EMPTY_OBJ&&!o.__isScriptSetup&&hasOwn(o,n),PublicInstanceProxyHandlers={get({_:o},n){const{ctx:u,setupState:l,data:a,props:d,accessCache:c,type:m,appContext:b}=o;let f;if(n[0]!=="$"){const r=c[n];if(r!==void 0)switch(r){case 1:return l[n];case 2:return a[n];case 4:return u[n];case 3:return d[n]}else{if(hasSetupBinding(l,n))return c[n]=1,l[n];if(a!==EMPTY_OBJ&&hasOwn(a,n))return c[n]=2,a[n];if((f=o.propsOptions[0])&&hasOwn(f,n))return c[n]=3,d[n];if(u!==EMPTY_OBJ&&hasOwn(u,n))return c[n]=4,u[n];shouldCacheAccess&&(c[n]=0)}}const s=publicPropertiesMap[n];let t,e;if(s)return n==="$attrs"&&track(o,"get",n),s(o);if((t=m.__cssModules)&&(t=t[n]))return t;if(u!==EMPTY_OBJ&&hasOwn(u,n))return c[n]=4,u[n];if(e=b.config.globalProperties,hasOwn(e,n))return e[n]},set({_:o},n,u){const{data:l,setupState:a,ctx:d}=o;return hasSetupBinding(a,n)?(a[n]=u,!0):l!==EMPTY_OBJ&&hasOwn(l,n)?(l[n]=u,!0):hasOwn(o.props,n)||n[0]==="$"&&n.slice(1)in o?!1:(d[n]=u,!0)},has({_:{data:o,setupState:n,accessCache:u,ctx:l,appContext:a,propsOptions:d}},c){let m;return!!u[c]||o!==EMPTY_OBJ&&hasOwn(o,c)||hasSetupBinding(n,c)||(m=d[0])&&hasOwn(m,c)||hasOwn(l,c)||hasOwn(publicPropertiesMap,c)||hasOwn(a.config.globalProperties,c)},defineProperty(o,n,u){return u.get!=null?o._.accessCache[n]=0:hasOwn(u,"value")&&this.set(o,n,u.value,null),Reflect.defineProperty(o,n,u)}};let shouldCacheAccess=!0;function applyOptions(o){const n=resolveMergedOptions(o),u=o.proxy,l=o.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook(n.beforeCreate,o,"bc");const{data:a,computed:d,methods:c,watch:m,provide:b,inject:f,created:s,beforeMount:t,mounted:e,beforeUpdate:r,updated:i,activated:g,deactivated:y,beforeDestroy:_,beforeUnmount:v,destroyed:w,unmounted:x,render:T,renderTracked:A,renderTriggered:E,errorCaptured:O,serverPrefetch:S,expose:P,inheritAttrs:$,components:M,directives:j,filters:H}=n;if(f&&resolveInjections(f,l,null,o.appContext.config.unwrapInjectedRef),c)for(const L in c){const oe=c[L];isFunction(oe)&&(l[L]=oe.bind(u))}if(a){const L=a.call(u,u);isObject(L)&&(o.data=reactive(L))}if(shouldCacheAccess=!0,d)for(const L in d){const oe=d[L],X=isFunction(oe)?oe.bind(u,u):isFunction(oe.get)?oe.get.bind(u,u):NOOP,me=!isFunction(oe)&&isFunction(oe.set)?oe.set.bind(u):NOOP,pe=computed({get:X,set:me});Object.defineProperty(l,L,{enumerable:!0,configurable:!0,get:()=>pe.value,set:_e=>pe.value=_e})}if(m)for(const L in m)createWatcher(m[L],l,u,L);if(b){const L=isFunction(b)?b.call(u):b;Reflect.ownKeys(L).forEach(oe=>{provide(oe,L[oe])})}s&&callHook(s,o,"c");function C(L,oe){isArray$1(oe)?oe.forEach(X=>L(X.bind(u))):oe&&L(oe.bind(u))}if(C(onBeforeMount,t),C(onMounted,e),C(onBeforeUpdate,r),C(onUpdated,i),C(onActivated,g),C(onDeactivated,y),C(onErrorCaptured,O),C(onRenderTracked,A),C(onRenderTriggered,E),C(onBeforeUnmount,v),C(onUnmounted,x),C(onServerPrefetch,S),isArray$1(P))if(P.length){const L=o.exposed||(o.exposed={});P.forEach(oe=>{Object.defineProperty(L,oe,{get:()=>u[oe],set:X=>u[oe]=X})})}else o.exposed||(o.exposed={});T&&o.render===NOOP&&(o.render=T),$!=null&&(o.inheritAttrs=$),M&&(o.components=M),j&&(o.directives=j)}function resolveInjections(o,n,u=NOOP,l=!1){isArray$1(o)&&(o=normalizeInject(o));for(const a in o){const d=o[a];let c;isObject(d)?"default"in d?c=inject(d.from||a,d.default,!0):c=inject(d.from||a):c=inject(d),isRef(c)&&l?Object.defineProperty(n,a,{enumerable:!0,configurable:!0,get:()=>c.value,set:m=>c.value=m}):n[a]=c}}function callHook(o,n,u){callWithAsyncErrorHandling(isArray$1(o)?o.map(l=>l.bind(n.proxy)):o.bind(n.proxy),n,u)}function createWatcher(o,n,u,l){const a=l.includes(".")?createPathGetter(u,l):()=>u[l];if(isString(o)){const d=n[o];isFunction(d)&&watch(a,d)}else if(isFunction(o))watch(a,o.bind(u));else if(isObject(o))if(isArray$1(o))o.forEach(d=>createWatcher(d,n,u,l));else{const d=isFunction(o.handler)?o.handler.bind(u):n[o.handler];isFunction(d)&&watch(a,d,o)}}function resolveMergedOptions(o){const n=o.type,{mixins:u,extends:l}=n,{mixins:a,optionsCache:d,config:{optionMergeStrategies:c}}=o.appContext,m=d.get(n);let b;return m?b=m:!a.length&&!u&&!l?b=n:(b={},a.length&&a.forEach(f=>mergeOptions$1(b,f,c,!0)),mergeOptions$1(b,n,c)),isObject(n)&&d.set(n,b),b}function mergeOptions$1(o,n,u,l=!1){const{mixins:a,extends:d}=n;d&&mergeOptions$1(o,d,u,!0),a&&a.forEach(c=>mergeOptions$1(o,c,u,!0));for(const c in n)if(!(l&&c==="expose")){const m=internalOptionMergeStrats[c]||u&&u[c];o[c]=m?m(o[c],n[c]):n[c]}return o}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(o,n){return n?o?function(){return extend(isFunction(o)?o.call(this,this):o,isFunction(n)?n.call(this,this):n)}:n:o}function mergeInject(o,n){return mergeObjectOptions(normalizeInject(o),normalizeInject(n))}function normalizeInject(o){if(isArray$1(o)){const n={};for(let u=0;u<o.length;u++)n[o[u]]=o[u];return n}return o}function mergeAsArray(o,n){return o?[...new Set([].concat(o,n))]:n}function mergeObjectOptions(o,n){return o?extend(extend(Object.create(null),o),n):n}function mergeWatchOptions(o,n){if(!o)return n;if(!n)return o;const u=extend(Object.create(null),o);for(const l in n)u[l]=mergeAsArray(o[l],n[l]);return u}function initProps(o,n,u,l=!1){const a={},d={};def(d,InternalObjectKey,1),o.propsDefaults=Object.create(null),setFullProps(o,n,a,d);for(const c in o.propsOptions[0])c in a||(a[c]=void 0);u?o.props=l?a:shallowReactive(a):o.type.props?o.props=a:o.props=d,o.attrs=d}function updateProps(o,n,u,l){const{props:a,attrs:d,vnode:{patchFlag:c}}=o,m=toRaw(a),[b]=o.propsOptions;let f=!1;if((l||c>0)&&!(c&16)){if(c&8){const s=o.vnode.dynamicProps;for(let t=0;t<s.length;t++){let e=s[t];if(isEmitListener(o.emitsOptions,e))continue;const r=n[e];if(b)if(hasOwn(d,e))r!==d[e]&&(d[e]=r,f=!0);else{const i=camelize(e);a[i]=resolvePropValue(b,m,i,r,o,!1)}else r!==d[e]&&(d[e]=r,f=!0)}}}else{setFullProps(o,n,a,d)&&(f=!0);let s;for(const t in m)(!n||!hasOwn(n,t)&&((s=hyphenate(t))===t||!hasOwn(n,s)))&&(b?u&&(u[t]!==void 0||u[s]!==void 0)&&(a[t]=resolvePropValue(b,m,t,void 0,o,!0)):delete a[t]);if(d!==m)for(const t in d)(!n||!hasOwn(n,t))&&(delete d[t],f=!0)}f&&trigger(o,"set","$attrs")}function setFullProps(o,n,u,l){const[a,d]=o.propsOptions;let c=!1,m;if(n)for(let b in n){if(isReservedProp(b))continue;const f=n[b];let s;a&&hasOwn(a,s=camelize(b))?!d||!d.includes(s)?u[s]=f:(m||(m={}))[s]=f:isEmitListener(o.emitsOptions,b)||(!(b in l)||f!==l[b])&&(l[b]=f,c=!0)}if(d){const b=toRaw(u),f=m||EMPTY_OBJ;for(let s=0;s<d.length;s++){const t=d[s];u[t]=resolvePropValue(a,b,t,f[t],o,!hasOwn(f,t))}}return c}function resolvePropValue(o,n,u,l,a,d){const c=o[u];if(c!=null){const m=hasOwn(c,"default");if(m&&l===void 0){const b=c.default;if(c.type!==Function&&isFunction(b)){const{propsDefaults:f}=a;u in f?l=f[u]:(setCurrentInstance(a),l=f[u]=b.call(null,n),unsetCurrentInstance())}else l=b}c[0]&&(d&&!m?l=!1:c[1]&&(l===""||l===hyphenate(u))&&(l=!0))}return l}function normalizePropsOptions(o,n,u=!1){const l=n.propsCache,a=l.get(o);if(a)return a;const d=o.props,c={},m=[];let b=!1;if(!isFunction(o)){const s=t=>{b=!0;const[e,r]=normalizePropsOptions(t,n,!0);extend(c,e),r&&m.push(...r)};!u&&n.mixins.length&&n.mixins.forEach(s),o.extends&&s(o.extends),o.mixins&&o.mixins.forEach(s)}if(!d&&!b)return isObject(o)&&l.set(o,EMPTY_ARR),EMPTY_ARR;if(isArray$1(d))for(let s=0;s<d.length;s++){const t=camelize(d[s]);validatePropName(t)&&(c[t]=EMPTY_OBJ)}else if(d)for(const s in d){const t=camelize(s);if(validatePropName(t)){const e=d[s],r=c[t]=isArray$1(e)||isFunction(e)?{type:e}:Object.assign({},e);if(r){const i=getTypeIndex(Boolean,r.type),g=getTypeIndex(String,r.type);r[0]=i>-1,r[1]=g<0||i<g,(i>-1||hasOwn(r,"default"))&&m.push(t)}}}const f=[c,m];return isObject(o)&&l.set(o,f),f}function validatePropName(o){return o[0]!=="$"}function getType(o){const n=o&&o.toString().match(/^\s*function (\w+)/);return n?n[1]:o===null?"null":""}function isSameType(o,n){return getType(o)===getType(n)}function getTypeIndex(o,n){return isArray$1(n)?n.findIndex(u=>isSameType(u,o)):isFunction(n)&&isSameType(n,o)?0:-1}const isInternalKey=o=>o[0]==="_"||o==="$stable",normalizeSlotValue=o=>isArray$1(o)?o.map(normalizeVNode):[normalizeVNode(o)],normalizeSlot$1=(o,n,u)=>{if(n._n)return n;const l=withCtx((...a)=>normalizeSlotValue(n(...a)),u);return l._c=!1,l},normalizeObjectSlots=(o,n,u)=>{const l=o._ctx;for(const a in o){if(isInternalKey(a))continue;const d=o[a];if(isFunction(d))n[a]=normalizeSlot$1(a,d,l);else if(d!=null){const c=normalizeSlotValue(d);n[a]=()=>c}}},normalizeVNodeSlots=(o,n)=>{const u=normalizeSlotValue(n);o.slots.default=()=>u},initSlots=(o,n)=>{if(o.vnode.shapeFlag&32){const u=n._;u?(o.slots=toRaw(n),def(n,"_",u)):normalizeObjectSlots(n,o.slots={})}else o.slots={},n&&normalizeVNodeSlots(o,n);def(o.slots,InternalObjectKey,1)},updateSlots=(o,n,u)=>{const{vnode:l,slots:a}=o;let d=!0,c=EMPTY_OBJ;if(l.shapeFlag&32){const m=n._;m?u&&m===1?d=!1:(extend(a,n),!u&&m===1&&delete a._):(d=!n.$stable,normalizeObjectSlots(n,a)),c=n}else n&&(normalizeVNodeSlots(o,n),c={default:1});if(d)for(const m in a)!isInternalKey(m)&&!(m in c)&&delete a[m]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(o,n){return function(l,a=null){isFunction(l)||(l=Object.assign({},l)),a!=null&&!isObject(a)&&(a=null);const d=createAppContext(),c=new Set;let m=!1;const b=d.app={_uid:uid++,_component:l,_props:a,_container:null,_context:d,_instance:null,version,get config(){return d.config},set config(f){},use(f,...s){return c.has(f)||(f&&isFunction(f.install)?(c.add(f),f.install(b,...s)):isFunction(f)&&(c.add(f),f(b,...s))),b},mixin(f){return d.mixins.includes(f)||d.mixins.push(f),b},component(f,s){return s?(d.components[f]=s,b):d.components[f]},directive(f,s){return s?(d.directives[f]=s,b):d.directives[f]},mount(f,s,t){if(!m){const e=createVNode(l,a);return e.appContext=d,s&&n?n(e,f):o(e,f,t),m=!0,b._container=f,f.__vue_app__=b,getExposeProxy(e.component)||e.component.proxy}},unmount(){m&&(o(null,b._container),delete b._container.__vue_app__)},provide(f,s){return d.provides[f]=s,b}};return b}}function setRef(o,n,u,l,a=!1){if(isArray$1(o)){o.forEach((e,r)=>setRef(e,n&&(isArray$1(n)?n[r]:n),u,l,a));return}if(isAsyncWrapper(l)&&!a)return;const d=l.shapeFlag&4?getExposeProxy(l.component)||l.component.proxy:l.el,c=a?null:d,{i:m,r:b}=o,f=n&&n.r,s=m.refs===EMPTY_OBJ?m.refs={}:m.refs,t=m.setupState;if(f!=null&&f!==b&&(isString(f)?(s[f]=null,hasOwn(t,f)&&(t[f]=null)):isRef(f)&&(f.value=null)),isFunction(b))callWithErrorHandling(b,m,12,[c,s]);else{const e=isString(b),r=isRef(b);if(e||r){const i=()=>{if(o.f){const g=e?hasOwn(t,b)?t[b]:s[b]:b.value;a?isArray$1(g)&&remove(g,d):isArray$1(g)?g.includes(d)||g.push(d):e?(s[b]=[d],hasOwn(t,b)&&(t[b]=s[b])):(b.value=[d],o.k&&(s[o.k]=b.value))}else e?(s[b]=c,hasOwn(t,b)&&(t[b]=c)):r&&(b.value=c,o.k&&(s[o.k]=c))};c?(i.id=-1,queuePostRenderEffect(i,u)):i()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(o){return baseCreateRenderer(o)}function baseCreateRenderer(o,n){const u=getGlobalThis();u.__VUE__=!0;const{insert:l,remove:a,patchProp:d,createElement:c,createText:m,createComment:b,setText:f,setElementText:s,parentNode:t,nextSibling:e,setScopeId:r=NOOP,insertStaticContent:i}=o,g=(D,k,B,G=null,Y=null,ne=null,ue=!1,re=null,ie=!!k.dynamicChildren)=>{if(D===k)return;D&&!isSameVNodeType(D,k)&&(G=Q(D),_e(D,Y,ne,!0),D=null),k.patchFlag===-2&&(ie=!1,k.dynamicChildren=null);const{type:Z,ref:le,shapeFlag:fe}=k;switch(Z){case Text:y(D,k,B,G);break;case Comment:_(D,k,B,G);break;case Static:D==null&&v(k,B,G,ue);break;case Fragment:M(D,k,B,G,Y,ne,ue,re,ie);break;default:fe&1?T(D,k,B,G,Y,ne,ue,re,ie):fe&6?j(D,k,B,G,Y,ne,ue,re,ie):(fe&64||fe&128)&&Z.process(D,k,B,G,Y,ne,ue,re,ie,we)}le!=null&&Y&&setRef(le,D&&D.ref,ne,k||D,!k)},y=(D,k,B,G)=>{if(D==null)l(k.el=m(k.children),B,G);else{const Y=k.el=D.el;k.children!==D.children&&f(Y,k.children)}},_=(D,k,B,G)=>{D==null?l(k.el=b(k.children||""),B,G):k.el=D.el},v=(D,k,B,G)=>{[D.el,D.anchor]=i(D.children,k,B,G,D.el,D.anchor)},w=({el:D,anchor:k},B,G)=>{let Y;for(;D&&D!==k;)Y=e(D),l(D,B,G),D=Y;l(k,B,G)},x=({el:D,anchor:k})=>{let B;for(;D&&D!==k;)B=e(D),a(D),D=B;a(k)},T=(D,k,B,G,Y,ne,ue,re,ie)=>{ue=ue||k.type==="svg",D==null?A(k,B,G,Y,ne,ue,re,ie):S(D,k,Y,ne,ue,re,ie)},A=(D,k,B,G,Y,ne,ue,re)=>{let ie,Z;const{type:le,props:fe,shapeFlag:ge,transition:be,dirs:xe}=D;if(ie=D.el=c(D.type,ne,fe&&fe.is,fe),ge&8?s(ie,D.children):ge&16&&O(D.children,ie,null,G,Y,ne&&le!=="foreignObject",ue,re),xe&&invokeDirectiveHook(D,null,G,"created"),fe){for(const Oe in fe)Oe!=="value"&&!isReservedProp(Oe)&&d(ie,Oe,null,fe[Oe],ne,D.children,G,Y,ee);"value"in fe&&d(ie,"value",null,fe.value),(Z=fe.onVnodeBeforeMount)&&invokeVNodeHook(Z,G,D)}E(ie,D,D.scopeId,ue,G),xe&&invokeDirectiveHook(D,null,G,"beforeMount");const Ie=(!Y||Y&&!Y.pendingBranch)&&be&&!be.persisted;Ie&&be.beforeEnter(ie),l(ie,k,B),((Z=fe&&fe.onVnodeMounted)||Ie||xe)&&queuePostRenderEffect(()=>{Z&&invokeVNodeHook(Z,G,D),Ie&&be.enter(ie),xe&&invokeDirectiveHook(D,null,G,"mounted")},Y)},E=(D,k,B,G,Y)=>{if(B&&r(D,B),G)for(let ne=0;ne<G.length;ne++)r(D,G[ne]);if(Y){let ne=Y.subTree;if(k===ne){const ue=Y.vnode;E(D,ue,ue.scopeId,ue.slotScopeIds,Y.parent)}}},O=(D,k,B,G,Y,ne,ue,re,ie=0)=>{for(let Z=ie;Z<D.length;Z++){const le=D[Z]=re?cloneIfMounted(D[Z]):normalizeVNode(D[Z]);g(null,le,k,B,G,Y,ne,ue,re)}},S=(D,k,B,G,Y,ne,ue)=>{const re=k.el=D.el;let{patchFlag:ie,dynamicChildren:Z,dirs:le}=k;ie|=D.patchFlag&16;const fe=D.props||EMPTY_OBJ,ge=k.props||EMPTY_OBJ;let be;B&&toggleRecurse(B,!1),(be=ge.onVnodeBeforeUpdate)&&invokeVNodeHook(be,B,k,D),le&&invokeDirectiveHook(k,D,B,"beforeUpdate"),B&&toggleRecurse(B,!0);const xe=Y&&k.type!=="foreignObject";if(Z?P(D.dynamicChildren,Z,re,B,G,xe,ne):ue||oe(D,k,re,null,B,G,xe,ne,!1),ie>0){if(ie&16)$(re,k,fe,ge,B,G,Y);else if(ie&2&&fe.class!==ge.class&&d(re,"class",null,ge.class,Y),ie&4&&d(re,"style",fe.style,ge.style,Y),ie&8){const Ie=k.dynamicProps;for(let Oe=0;Oe<Ie.length;Oe++){const Pe=Ie[Oe],F=fe[Pe],U=ge[Pe];(U!==F||Pe==="value")&&d(re,Pe,F,U,Y,D.children,B,G,ee)}}ie&1&&D.children!==k.children&&s(re,k.children)}else!ue&&Z==null&&$(re,k,fe,ge,B,G,Y);((be=ge.onVnodeUpdated)||le)&&queuePostRenderEffect(()=>{be&&invokeVNodeHook(be,B,k,D),le&&invokeDirectiveHook(k,D,B,"updated")},G)},P=(D,k,B,G,Y,ne,ue)=>{for(let re=0;re<k.length;re++){const ie=D[re],Z=k[re],le=ie.el&&(ie.type===Fragment||!isSameVNodeType(ie,Z)||ie.shapeFlag&70)?t(ie.el):B;g(ie,Z,le,null,G,Y,ne,ue,!0)}},$=(D,k,B,G,Y,ne,ue)=>{if(B!==G){if(B!==EMPTY_OBJ)for(const re in B)!isReservedProp(re)&&!(re in G)&&d(D,re,B[re],null,ue,k.children,Y,ne,ee);for(const re in G){if(isReservedProp(re))continue;const ie=G[re],Z=B[re];ie!==Z&&re!=="value"&&d(D,re,Z,ie,ue,k.children,Y,ne,ee)}"value"in G&&d(D,"value",B.value,G.value)}},M=(D,k,B,G,Y,ne,ue,re,ie)=>{const Z=k.el=D?D.el:m(""),le=k.anchor=D?D.anchor:m("");let{patchFlag:fe,dynamicChildren:ge,slotScopeIds:be}=k;be&&(re=re?re.concat(be):be),D==null?(l(Z,B,G),l(le,B,G),O(k.children,B,le,Y,ne,ue,re,ie)):fe>0&&fe&64&&ge&&D.dynamicChildren?(P(D.dynamicChildren,ge,B,Y,ne,ue,re),(k.key!=null||Y&&k===Y.subTree)&&traverseStaticChildren(D,k,!0)):oe(D,k,B,le,Y,ne,ue,re,ie)},j=(D,k,B,G,Y,ne,ue,re,ie)=>{k.slotScopeIds=re,D==null?k.shapeFlag&512?Y.ctx.activate(k,B,G,ue,ie):H(k,B,G,Y,ne,ue,ie):K(D,k,ie)},H=(D,k,B,G,Y,ne,ue)=>{const re=D.component=createComponentInstance(D,G,Y);if(isKeepAlive(D)&&(re.ctx.renderer=we),setupComponent(re),re.asyncDep){if(Y&&Y.registerDep(re,C),!D.el){const ie=re.subTree=createVNode(Comment);_(null,ie,k,B)}return}C(re,D,k,B,Y,ne,ue)},K=(D,k,B)=>{const G=k.component=D.component;if(shouldUpdateComponent(D,k,B))if(G.asyncDep&&!G.asyncResolved){L(G,k,B);return}else G.next=k,invalidateJob(G.update),G.update();else k.el=D.el,G.vnode=k},C=(D,k,B,G,Y,ne,ue)=>{const re=()=>{if(D.isMounted){let{next:le,bu:fe,u:ge,parent:be,vnode:xe}=D,Ie=le,Oe;toggleRecurse(D,!1),le?(le.el=xe.el,L(D,le,ue)):le=xe,fe&&invokeArrayFns(fe),(Oe=le.props&&le.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Oe,be,le,xe),toggleRecurse(D,!0);const Pe=renderComponentRoot(D),F=D.subTree;D.subTree=Pe,g(F,Pe,t(F.el),Q(F),D,Y,ne),le.el=Pe.el,Ie===null&&updateHOCHostEl(D,Pe.el),ge&&queuePostRenderEffect(ge,Y),(Oe=le.props&&le.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Oe,be,le,xe),Y)}else{let le;const{el:fe,props:ge}=k,{bm:be,m:xe,parent:Ie}=D,Oe=isAsyncWrapper(k);if(toggleRecurse(D,!1),be&&invokeArrayFns(be),!Oe&&(le=ge&&ge.onVnodeBeforeMount)&&invokeVNodeHook(le,Ie,k),toggleRecurse(D,!0),fe&&ye){const Pe=()=>{D.subTree=renderComponentRoot(D),ye(fe,D.subTree,D,Y,null)};Oe?k.type.__asyncLoader().then(()=>!D.isUnmounted&&Pe()):Pe()}else{const Pe=D.subTree=renderComponentRoot(D);g(null,Pe,B,G,D,Y,ne),k.el=Pe.el}if(xe&&queuePostRenderEffect(xe,Y),!Oe&&(le=ge&&ge.onVnodeMounted)){const Pe=k;queuePostRenderEffect(()=>invokeVNodeHook(le,Ie,Pe),Y)}(k.shapeFlag&256||Ie&&isAsyncWrapper(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&D.a&&queuePostRenderEffect(D.a,Y),D.isMounted=!0,k=B=G=null}},ie=D.effect=new ReactiveEffect(re,()=>queueJob(Z),D.scope),Z=D.update=()=>ie.run();Z.id=D.uid,toggleRecurse(D,!0),Z()},L=(D,k,B)=>{k.component=D;const G=D.vnode.props;D.vnode=k,D.next=null,updateProps(D,k.props,G,B),updateSlots(D,k.children,B),pauseTracking(),flushPreFlushCbs(),resetTracking()},oe=(D,k,B,G,Y,ne,ue,re,ie=!1)=>{const Z=D&&D.children,le=D?D.shapeFlag:0,fe=k.children,{patchFlag:ge,shapeFlag:be}=k;if(ge>0){if(ge&128){me(Z,fe,B,G,Y,ne,ue,re,ie);return}else if(ge&256){X(Z,fe,B,G,Y,ne,ue,re,ie);return}}be&8?(le&16&&ee(Z,Y,ne),fe!==Z&&s(B,fe)):le&16?be&16?me(Z,fe,B,G,Y,ne,ue,re,ie):ee(Z,Y,ne,!0):(le&8&&s(B,""),be&16&&O(fe,B,G,Y,ne,ue,re,ie))},X=(D,k,B,G,Y,ne,ue,re,ie)=>{D=D||EMPTY_ARR,k=k||EMPTY_ARR;const Z=D.length,le=k.length,fe=Math.min(Z,le);let ge;for(ge=0;ge<fe;ge++){const be=k[ge]=ie?cloneIfMounted(k[ge]):normalizeVNode(k[ge]);g(D[ge],be,B,null,Y,ne,ue,re,ie)}Z>le?ee(D,Y,ne,!0,!1,fe):O(k,B,G,Y,ne,ue,re,ie,fe)},me=(D,k,B,G,Y,ne,ue,re,ie)=>{let Z=0;const le=k.length;let fe=D.length-1,ge=le-1;for(;Z<=fe&&Z<=ge;){const be=D[Z],xe=k[Z]=ie?cloneIfMounted(k[Z]):normalizeVNode(k[Z]);if(isSameVNodeType(be,xe))g(be,xe,B,null,Y,ne,ue,re,ie);else break;Z++}for(;Z<=fe&&Z<=ge;){const be=D[fe],xe=k[ge]=ie?cloneIfMounted(k[ge]):normalizeVNode(k[ge]);if(isSameVNodeType(be,xe))g(be,xe,B,null,Y,ne,ue,re,ie);else break;fe--,ge--}if(Z>fe){if(Z<=ge){const be=ge+1,xe=be<le?k[be].el:G;for(;Z<=ge;)g(null,k[Z]=ie?cloneIfMounted(k[Z]):normalizeVNode(k[Z]),B,xe,Y,ne,ue,re,ie),Z++}}else if(Z>ge)for(;Z<=fe;)_e(D[Z],Y,ne,!0),Z++;else{const be=Z,xe=Z,Ie=new Map;for(Z=xe;Z<=ge;Z++){const ae=k[Z]=ie?cloneIfMounted(k[Z]):normalizeVNode(k[Z]);ae.key!=null&&Ie.set(ae.key,Z)}let Oe,Pe=0;const F=ge-xe+1;let U=!1,te=0;const se=new Array(F);for(Z=0;Z<F;Z++)se[Z]=0;for(Z=be;Z<=fe;Z++){const ae=D[Z];if(Pe>=F){_e(ae,Y,ne,!0);continue}let ve;if(ae.key!=null)ve=Ie.get(ae.key);else for(Oe=xe;Oe<=ge;Oe++)if(se[Oe-xe]===0&&isSameVNodeType(ae,k[Oe])){ve=Oe;break}ve===void 0?_e(ae,Y,ne,!0):(se[ve-xe]=Z+1,ve>=te?te=ve:U=!0,g(ae,k[ve],B,null,Y,ne,ue,re,ie),Pe++)}const J=U?getSequence(se):EMPTY_ARR;for(Oe=J.length-1,Z=F-1;Z>=0;Z--){const ae=xe+Z,ve=k[ae],Fe=ae+1<le?k[ae+1].el:G;se[Z]===0?g(null,ve,B,Fe,Y,ne,ue,re,ie):U&&(Oe<0||Z!==J[Oe]?pe(ve,B,Fe,2):Oe--)}}},pe=(D,k,B,G,Y=null)=>{const{el:ne,type:ue,transition:re,children:ie,shapeFlag:Z}=D;if(Z&6){pe(D.component.subTree,k,B,G);return}if(Z&128){D.suspense.move(k,B,G);return}if(Z&64){ue.move(D,k,B,we);return}if(ue===Fragment){l(ne,k,B);for(let fe=0;fe<ie.length;fe++)pe(ie[fe],k,B,G);l(D.anchor,k,B);return}if(ue===Static){w(D,k,B);return}if(G!==2&&Z&1&&re)if(G===0)re.beforeEnter(ne),l(ne,k,B),queuePostRenderEffect(()=>re.enter(ne),Y);else{const{leave:fe,delayLeave:ge,afterLeave:be}=re,xe=()=>l(ne,k,B),Ie=()=>{fe(ne,()=>{xe(),be&&be()})};ge?ge(ne,xe,Ie):Ie()}else l(ne,k,B)},_e=(D,k,B,G=!1,Y=!1)=>{const{type:ne,props:ue,ref:re,children:ie,dynamicChildren:Z,shapeFlag:le,patchFlag:fe,dirs:ge}=D;if(re!=null&&setRef(re,null,B,D,!0),le&256){k.ctx.deactivate(D);return}const be=le&1&&ge,xe=!isAsyncWrapper(D);let Ie;if(xe&&(Ie=ue&&ue.onVnodeBeforeUnmount)&&invokeVNodeHook(Ie,k,D),le&6)V(D.component,B,G);else{if(le&128){D.suspense.unmount(B,G);return}be&&invokeDirectiveHook(D,null,k,"beforeUnmount"),le&64?D.type.remove(D,k,B,Y,we,G):Z&&(ne!==Fragment||fe>0&&fe&64)?ee(Z,k,B,!1,!0):(ne===Fragment&&fe&384||!Y&&le&16)&&ee(ie,k,B),G&&Ce(D)}(xe&&(Ie=ue&&ue.onVnodeUnmounted)||be)&&queuePostRenderEffect(()=>{Ie&&invokeVNodeHook(Ie,k,D),be&&invokeDirectiveHook(D,null,k,"unmounted")},B)},Ce=D=>{const{type:k,el:B,anchor:G,transition:Y}=D;if(k===Fragment){De(B,G);return}if(k===Static){x(D);return}const ne=()=>{a(B),Y&&!Y.persisted&&Y.afterLeave&&Y.afterLeave()};if(D.shapeFlag&1&&Y&&!Y.persisted){const{leave:ue,delayLeave:re}=Y,ie=()=>ue(B,ne);re?re(D.el,ne,ie):ie()}else ne()},De=(D,k)=>{let B;for(;D!==k;)B=e(D),a(D),D=B;a(k)},V=(D,k,B)=>{const{bum:G,scope:Y,update:ne,subTree:ue,um:re}=D;G&&invokeArrayFns(G),Y.stop(),ne&&(ne.active=!1,_e(ue,D,k,B)),re&&queuePostRenderEffect(re,k),queuePostRenderEffect(()=>{D.isUnmounted=!0},k),k&&k.pendingBranch&&!k.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===k.pendingId&&(k.deps--,k.deps===0&&k.resolve())},ee=(D,k,B,G=!1,Y=!1,ne=0)=>{for(let ue=ne;ue<D.length;ue++)_e(D[ue],k,B,G,Y)},Q=D=>D.shapeFlag&6?Q(D.component.subTree):D.shapeFlag&128?D.suspense.next():e(D.anchor||D.el),ce=(D,k,B)=>{D==null?k._vnode&&_e(k._vnode,null,null,!0):g(k._vnode||null,D,k,null,null,null,B),flushPreFlushCbs(),flushPostFlushCbs(),k._vnode=D},we={p:g,um:_e,m:pe,r:Ce,mt:H,mc:O,pc:oe,pbc:P,n:Q,o};let Te,ye;return n&&([Te,ye]=n(we)),{render:ce,hydrate:Te,createApp:createAppAPI(ce,Te)}}function toggleRecurse({effect:o,update:n},u){o.allowRecurse=n.allowRecurse=u}function traverseStaticChildren(o,n,u=!1){const l=o.children,a=n.children;if(isArray$1(l)&&isArray$1(a))for(let d=0;d<l.length;d++){const c=l[d];let m=a[d];m.shapeFlag&1&&!m.dynamicChildren&&((m.patchFlag<=0||m.patchFlag===32)&&(m=a[d]=cloneIfMounted(a[d]),m.el=c.el),u||traverseStaticChildren(c,m)),m.type===Text&&(m.el=c.el)}}function getSequence(o){const n=o.slice(),u=[0];let l,a,d,c,m;const b=o.length;for(l=0;l<b;l++){const f=o[l];if(f!==0){if(a=u[u.length-1],o[a]<f){n[l]=a,u.push(l);continue}for(d=0,c=u.length-1;d<c;)m=d+c>>1,o[u[m]]<f?d=m+1:c=m;f<o[u[d]]&&(d>0&&(n[l]=u[d-1]),u[d]=l)}}for(d=u.length,c=u[d-1];d-- >0;)u[d]=c,c=n[c];return u}const isTeleport=o=>o.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(o=!1){blockStack.push(currentBlock=o?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(o){isBlockTreeEnabled+=o}function setupBlock(o){return o.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(o),o}function createElementBlock(o,n,u,l,a,d){return setupBlock(createBaseVNode(o,n,u,l,a,d,!0))}function createBlock(o,n,u,l,a){return setupBlock(createVNode(o,n,u,l,a,!0))}function isVNode(o){return o?o.__v_isVNode===!0:!1}function isSameVNodeType(o,n){return o.type===n.type&&o.key===n.key}const InternalObjectKey="__vInternal",normalizeKey=({key:o})=>o??null,normalizeRef=({ref:o,ref_key:n,ref_for:u})=>o!=null?isString(o)||isRef(o)||isFunction(o)?{i:currentRenderingInstance,r:o,k:n,f:!!u}:o:null;function createBaseVNode(o,n=null,u=null,l=0,a=null,d=o===Fragment?0:1,c=!1,m=!1){const b={__v_isVNode:!0,__v_skip:!0,type:o,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:u,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:d,patchFlag:l,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return m?(normalizeChildren(b,u),d&128&&o.normalize(b)):u&&(b.shapeFlag|=isString(u)?8:16),isBlockTreeEnabled>0&&!c&&currentBlock&&(b.patchFlag>0||d&6)&&b.patchFlag!==32&&currentBlock.push(b),b}const createVNode=_createVNode;function _createVNode(o,n=null,u=null,l=0,a=null,d=!1){if((!o||o===NULL_DYNAMIC_COMPONENT)&&(o=Comment),isVNode(o)){const m=cloneVNode(o,n,!0);return u&&normalizeChildren(m,u),isBlockTreeEnabled>0&&!d&&currentBlock&&(m.shapeFlag&6?currentBlock[currentBlock.indexOf(o)]=m:currentBlock.push(m)),m.patchFlag|=-2,m}if(isClassComponent(o)&&(o=o.__vccOpts),n){n=guardReactiveProps(n);let{class:m,style:b}=n;m&&!isString(m)&&(n.class=normalizeClass(m)),isObject(b)&&(isProxy(b)&&!isArray$1(b)&&(b=extend({},b)),n.style=normalizeStyle(b))}const c=isString(o)?1:isSuspense(o)?128:isTeleport(o)?64:isObject(o)?4:isFunction(o)?2:0;return createBaseVNode(o,n,u,l,a,c,d,!0)}function guardReactiveProps(o){return o?isProxy(o)||InternalObjectKey in o?extend({},o):o:null}function cloneVNode(o,n,u=!1){const{props:l,ref:a,patchFlag:d,children:c}=o,m=n?mergeProps(l||{},n):l;return{__v_isVNode:!0,__v_skip:!0,type:o.type,props:m,key:m&&normalizeKey(m),ref:n&&n.ref?u&&a?isArray$1(a)?a.concat(normalizeRef(n)):[a,normalizeRef(n)]:normalizeRef(n):a,scopeId:o.scopeId,slotScopeIds:o.slotScopeIds,children:c,target:o.target,targetAnchor:o.targetAnchor,staticCount:o.staticCount,shapeFlag:o.shapeFlag,patchFlag:n&&o.type!==Fragment?d===-1?16:d|16:d,dynamicProps:o.dynamicProps,dynamicChildren:o.dynamicChildren,appContext:o.appContext,dirs:o.dirs,transition:o.transition,component:o.component,suspense:o.suspense,ssContent:o.ssContent&&cloneVNode(o.ssContent),ssFallback:o.ssFallback&&cloneVNode(o.ssFallback),el:o.el,anchor:o.anchor,ctx:o.ctx}}function createTextVNode(o=" ",n=0){return createVNode(Text,null,o,n)}function normalizeVNode(o){return o==null||typeof o=="boolean"?createVNode(Comment):isArray$1(o)?createVNode(Fragment,null,o.slice()):typeof o=="object"?cloneIfMounted(o):createVNode(Text,null,String(o))}function cloneIfMounted(o){return o.el===null&&o.patchFlag!==-1||o.memo?o:cloneVNode(o)}function normalizeChildren(o,n){let u=0;const{shapeFlag:l}=o;if(n==null)n=null;else if(isArray$1(n))u=16;else if(typeof n=="object")if(l&65){const a=n.default;a&&(a._c&&(a._d=!1),normalizeChildren(o,a()),a._c&&(a._d=!0));return}else{u=32;const a=n._;!a&&!(InternalObjectKey in n)?n._ctx=currentRenderingInstance:a===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,o.patchFlag|=1024))}else isFunction(n)?(n={default:n,_ctx:currentRenderingInstance},u=32):(n=String(n),l&64?(u=16,n=[createTextVNode(n)]):u=8);o.children=n,o.shapeFlag|=u}function mergeProps(...o){const n={};for(let u=0;u<o.length;u++){const l=o[u];for(const a in l)if(a==="class")n.class!==l.class&&(n.class=normalizeClass([n.class,l.class]));else if(a==="style")n.style=normalizeStyle([n.style,l.style]);else if(isOn(a)){const d=n[a],c=l[a];c&&d!==c&&!(isArray$1(d)&&d.includes(c))&&(n[a]=d?[].concat(d,c):c)}else a!==""&&(n[a]=l[a])}return n}function invokeVNodeHook(o,n,u,l=null){callWithAsyncErrorHandling(o,n,7,[u,l])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(o,n,u){const l=o.type,a=(n?n.appContext:o.appContext)||emptyAppContext,d={uid:uid$1++,vnode:o,type:l,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(l,a),emitsOptions:normalizeEmitsOptions(l,a),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:l.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:u,suspenseId:u?u.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return d.ctx={_:d},d.root=n?n.root:d,d.emit=emit$1.bind(null,d),o.ce&&o.ce(d),d}let currentInstance=null;const setCurrentInstance=o=>{currentInstance=o,o.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(o){return o.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(o,n=!1){isInSSRComponentSetup=n;const{props:u,children:l}=o.vnode,a=isStatefulComponent(o);initProps(o,u,a,n),initSlots(o,l);const d=a?setupStatefulComponent(o,n):void 0;return isInSSRComponentSetup=!1,d}function setupStatefulComponent(o,n){const u=o.type;o.accessCache=Object.create(null),o.proxy=markRaw(new Proxy(o.ctx,PublicInstanceProxyHandlers));const{setup:l}=u;if(l){const a=o.setupContext=l.length>1?createSetupContext(o):null;setCurrentInstance(o),pauseTracking();const d=callWithErrorHandling(l,o,0,[o.props,a]);if(resetTracking(),unsetCurrentInstance(),isPromise(d)){if(d.then(unsetCurrentInstance,unsetCurrentInstance),n)return d.then(c=>{handleSetupResult(o,c,n)}).catch(c=>{handleError(c,o,0)});o.asyncDep=d}else handleSetupResult(o,d,n)}else finishComponentSetup(o,n)}function handleSetupResult(o,n,u){isFunction(n)?o.type.__ssrInlineRender?o.ssrRender=n:o.render=n:isObject(n)&&(o.setupState=proxyRefs(n)),finishComponentSetup(o,u)}let compile$2;function finishComponentSetup(o,n,u){const l=o.type;if(!o.render){if(!n&&compile$2&&!l.render){const a=l.template||resolveMergedOptions(o).template;if(a){const{isCustomElement:d,compilerOptions:c}=o.appContext.config,{delimiters:m,compilerOptions:b}=l,f=extend(extend({isCustomElement:d,delimiters:m},c),b);l.render=compile$2(a,f)}}o.render=l.render||NOOP}setCurrentInstance(o),pauseTracking(),applyOptions(o),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(o){return new Proxy(o.attrs,{get(n,u){return track(o,"get","$attrs"),n[u]}})}function createSetupContext(o){const n=l=>{o.exposed=l||{}};let u;return{get attrs(){return u||(u=createAttrsProxy(o))},slots:o.slots,emit:o.emit,expose:n}}function getExposeProxy(o){if(o.exposed)return o.exposeProxy||(o.exposeProxy=new Proxy(proxyRefs(markRaw(o.exposed)),{get(n,u){if(u in n)return n[u];if(u in publicPropertiesMap)return publicPropertiesMap[u](o)},has(n,u){return u in n||u in publicPropertiesMap}}))}function isClassComponent(o){return isFunction(o)&&"__vccOpts"in o}const computed=(o,n)=>computed$1(o,n,isInSSRComponentSetup);function h(o,n,u){const l=arguments.length;return l===2?isObject(n)&&!isArray$1(n)?isVNode(n)?createVNode(o,null,[n]):createVNode(o,n):createVNode(o,null,n):(l>3?u=Array.prototype.slice.call(arguments,2):l===3&&isVNode(u)&&(u=[u]),createVNode(o,n,u))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(o,n,u)=>{n.insertBefore(o,u||null)},remove:o=>{const n=o.parentNode;n&&n.removeChild(o)},createElement:(o,n,u,l)=>{const a=n?doc.createElementNS(svgNS,o):doc.createElement(o,u?{is:u}:void 0);return o==="select"&&l&&l.multiple!=null&&a.setAttribute("multiple",l.multiple),a},createText:o=>doc.createTextNode(o),createComment:o=>doc.createComment(o),setText:(o,n)=>{o.nodeValue=n},setElementText:(o,n)=>{o.textContent=n},parentNode:o=>o.parentNode,nextSibling:o=>o.nextSibling,querySelector:o=>doc.querySelector(o),setScopeId(o,n){o.setAttribute(n,"")},insertStaticContent(o,n,u,l,a,d){const c=u?u.previousSibling:n.lastChild;if(a&&(a===d||a.nextSibling))for(;n.insertBefore(a.cloneNode(!0),u),!(a===d||!(a=a.nextSibling)););else{templateContainer.innerHTML=l?`<svg>${o}</svg>`:o;const m=templateContainer.content;if(l){const b=m.firstChild;for(;b.firstChild;)m.appendChild(b.firstChild);m.removeChild(b)}n.insertBefore(m,u)}return[c?c.nextSibling:n.firstChild,u?u.previousSibling:n.lastChild]}};function patchClass(o,n,u){const l=o._vtc;l&&(n=(n?[n,...l]:[...l]).join(" ")),n==null?o.removeAttribute("class"):u?o.setAttribute("class",n):o.className=n}function patchStyle(o,n,u){const l=o.style,a=isString(u);if(u&&!a){for(const d in u)setStyle(l,d,u[d]);if(n&&!isString(n))for(const d in n)u[d]==null&&setStyle(l,d,"")}else{const d=l.display;a?n!==u&&(l.cssText=u):n&&o.removeAttribute("style"),"_vod"in o&&(l.display=d)}}const importantRE=/\s*!important$/;function setStyle(o,n,u){if(isArray$1(u))u.forEach(l=>setStyle(o,n,l));else if(u==null&&(u=""),n.startsWith("--"))o.setProperty(n,u);else{const l=autoPrefix(o,n);importantRE.test(u)?o.setProperty(hyphenate(l),u.replace(importantRE,""),"important"):o[l]=u}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(o,n){const u=prefixCache[n];if(u)return u;let l=camelize(n);if(l!=="filter"&&l in o)return prefixCache[n]=l;l=capitalize(l);for(let a=0;a<prefixes.length;a++){const d=prefixes[a]+l;if(d in o)return prefixCache[n]=d}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(o,n,u,l,a){if(l&&n.startsWith("xlink:"))u==null?o.removeAttributeNS(xlinkNS,n.slice(6,n.length)):o.setAttributeNS(xlinkNS,n,u);else{const d=isSpecialBooleanAttr(n);u==null||d&&!includeBooleanAttr(u)?o.removeAttribute(n):o.setAttribute(n,d?"":u)}}function patchDOMProp(o,n,u,l,a,d,c){if(n==="innerHTML"||n==="textContent"){l&&c(l,a,d),o[n]=u??"";return}if(n==="value"&&o.tagName!=="PROGRESS"&&!o.tagName.includes("-")){o._value=u;const b=u??"";(o.value!==b||o.tagName==="OPTION")&&(o.value=b),u==null&&o.removeAttribute(n);return}let m=!1;if(u===""||u==null){const b=typeof o[n];b==="boolean"?u=includeBooleanAttr(u):u==null&&b==="string"?(u="",m=!0):b==="number"&&(u=0,m=!0)}try{o[n]=u}catch{}m&&o.removeAttribute(n)}function addEventListener(o,n,u,l){o.addEventListener(n,u,l)}function removeEventListener(o,n,u,l){o.removeEventListener(n,u,l)}function patchEvent(o,n,u,l,a=null){const d=o._vei||(o._vei={}),c=d[n];if(l&&c)c.value=l;else{const[m,b]=parseName(n);if(l){const f=d[n]=createInvoker(l,a);addEventListener(o,m,f,b)}else c&&(removeEventListener(o,m,c,b),d[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(o){let n;if(optionsModifierRE.test(o)){n={};let l;for(;l=o.match(optionsModifierRE);)o=o.slice(0,o.length-l[0].length),n[l[0].toLowerCase()]=!0}return[o[2]===":"?o.slice(3):hyphenate(o.slice(2)),n]}let cachedNow=0;const p=Promise.resolve(),getNow=()=>cachedNow||(p.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(o,n){const u=l=>{if(!l._vts)l._vts=Date.now();else if(l._vts<=u.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(l,u.value),n,5,[l])};return u.value=o,u.attached=getNow(),u}function patchStopImmediatePropagation(o,n){if(isArray$1(n)){const u=o.stopImmediatePropagation;return o.stopImmediatePropagation=()=>{u.call(o),o._stopped=!0},n.map(l=>a=>!a._stopped&&l&&l(a))}else return n}const nativeOnRE=/^on[a-z]/,patchProp=(o,n,u,l,a=!1,d,c,m,b)=>{n==="class"?patchClass(o,l,a):n==="style"?patchStyle(o,u,l):isOn(n)?isModelListener(n)||patchEvent(o,n,u,l,c):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(o,n,l,a))?patchDOMProp(o,n,l,d,c,m,b):(n==="true-value"?o._trueValue=l:n==="false-value"&&(o._falseValue=l),patchAttr(o,n,l,a))};function shouldSetAsProp(o,n,u,l){return l?!!(n==="innerHTML"||n==="textContent"||n in o&&nativeOnRE.test(n)&&isFunction(u)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&o.tagName==="INPUT"||n==="type"&&o.tagName==="TEXTAREA"||nativeOnRE.test(n)&&isString(u)?!1:n in o}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...o)=>{const n=ensureRenderer().createApp(...o),{mount:u}=n;return n.mount=l=>{const a=normalizeContainer(l);if(!a)return;const d=n._component;!isFunction(d)&&!d.render&&!d.template&&(d.template=a.innerHTML),a.innerHTML="";const c=u(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),c},n};function normalizeContainer(o){return isString(o)?document.querySelector(o):o}const _imports_0="/assets/logo-da9b9095.svg";/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof window<"u";function isESModule(o){return o.__esModule||o[Symbol.toStringTag]==="Module"}const assign=Object.assign;function applyToParams(o,n){const u={};for(const l in n){const a=n[l];u[l]=isArray(a)?a.map(o):o(a)}return u}const noop=()=>{},isArray=Array.isArray,TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=o=>o.replace(TRAILING_SLASH_RE,"");function parseURL(o,n,u="/"){let l,a={},d="",c="";const m=n.indexOf("#");let b=n.indexOf("?");return m<b&&m>=0&&(b=-1),b>-1&&(l=n.slice(0,b),d=n.slice(b+1,m>-1?m:n.length),a=o(d)),m>-1&&(l=l||n.slice(0,m),c=n.slice(m,n.length)),l=resolveRelativePath(l??n,u),{fullPath:l+(d&&"?")+d+c,path:l,query:a,hash:c}}function stringifyURL(o,n){const u=n.query?o(n.query):"";return n.path+(u&&"?")+u+(n.hash||"")}function stripBase(o,n){return!n||!o.toLowerCase().startsWith(n.toLowerCase())?o:o.slice(n.length)||"/"}function isSameRouteLocation(o,n,u){const l=n.matched.length-1,a=u.matched.length-1;return l>-1&&l===a&&isSameRouteRecord(n.matched[l],u.matched[a])&&isSameRouteLocationParams(n.params,u.params)&&o(n.query)===o(u.query)&&n.hash===u.hash}function isSameRouteRecord(o,n){return(o.aliasOf||o)===(n.aliasOf||n)}function isSameRouteLocationParams(o,n){if(Object.keys(o).length!==Object.keys(n).length)return!1;for(const u in o)if(!isSameRouteLocationParamsValue(o[u],n[u]))return!1;return!0}function isSameRouteLocationParamsValue(o,n){return isArray(o)?isEquivalentArray(o,n):isArray(n)?isEquivalentArray(n,o):o===n}function isEquivalentArray(o,n){return isArray(n)?o.length===n.length&&o.every((u,l)=>u===n[l]):o.length===1&&o[0]===n}function resolveRelativePath(o,n){if(o.startsWith("/"))return o;if(!o)return n;const u=n.split("/"),l=o.split("/");let a=u.length-1,d,c;for(d=0;d<l.length;d++)if(c=l[d],c!==".")if(c==="..")a>1&&a--;else break;return u.slice(0,a).join("/")+"/"+l.slice(d-(d===l.length?1:0)).join("/")}var NavigationType;(function(o){o.pop="pop",o.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(o){o.back="back",o.forward="forward",o.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(o){if(!o)if(isBrowser){const n=document.querySelector("base");o=n&&n.getAttribute("href")||"/",o=o.replace(/^\w+:\/\/[^\/]+/,"")}else o="/";return o[0]!=="/"&&o[0]!=="#"&&(o="/"+o),removeTrailingSlash(o)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(o,n){return o.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(o,n){const u=document.documentElement.getBoundingClientRect(),l=o.getBoundingClientRect();return{behavior:n.behavior,left:l.left-u.left-(n.left||0),top:l.top-u.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.pageXOffset,top:window.pageYOffset});function scrollToPosition(o){let n;if("el"in o){const u=o.el,l=typeof u=="string"&&u.startsWith("#"),a=typeof u=="string"?l?document.getElementById(u.slice(1)):document.querySelector(u):u;if(!a)return;n=getElementPosition(a,o)}else n=o;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function getScrollKey(o,n){return(history.state?history.state.position-n:-1)+o}const scrollPositions=new Map;function saveScrollPosition(o,n){scrollPositions.set(o,n)}function getSavedScrollPosition(o){const n=scrollPositions.get(o);return scrollPositions.delete(o),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(o,n){const{pathname:u,search:l,hash:a}=n,d=o.indexOf("#");if(d>-1){let m=a.includes(o.slice(d))?o.slice(d).length:1,b=a.slice(m);return b[0]!=="/"&&(b="/"+b),stripBase(b,"")}return stripBase(u,o)+l+a}function useHistoryListeners(o,n,u,l){let a=[],d=[],c=null;const m=({state:e})=>{const r=createCurrentLocation(o,location),i=u.value,g=n.value;let y=0;if(e){if(u.value=r,n.value=e,c&&c===i){c=null;return}y=g?e.position-g.position:0}else l(r);a.forEach(_=>{_(u.value,i,{delta:y,type:NavigationType.pop,direction:y?y>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function b(){c=u.value}function f(e){a.push(e);const r=()=>{const i=a.indexOf(e);i>-1&&a.splice(i,1)};return d.push(r),r}function s(){const{history:e}=window;e.state&&e.replaceState(assign({},e.state,{scroll:computeScrollPosition()}),"")}function t(){for(const e of d)e();d=[],window.removeEventListener("popstate",m),window.removeEventListener("beforeunload",s)}return window.addEventListener("popstate",m),window.addEventListener("beforeunload",s),{pauseListeners:b,listen:f,destroy:t}}function buildState(o,n,u,l=!1,a=!1){return{back:o,current:n,forward:u,replaced:l,position:window.history.length,scroll:a?computeScrollPosition():null}}function useHistoryStateNavigation(o){const{history:n,location:u}=window,l={value:createCurrentLocation(o,u)},a={value:n.state};a.value||d(l.value,{back:null,current:l.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function d(b,f,s){const t=o.indexOf("#"),e=t>-1?(u.host&&document.querySelector("base")?o:o.slice(t))+b:createBaseLocation()+o+b;try{n[s?"replaceState":"pushState"](f,"",e),a.value=f}catch(r){console.error(r),u[s?"replace":"assign"](e)}}function c(b,f){const s=assign({},n.state,buildState(a.value.back,b,a.value.forward,!0),f,{position:a.value.position});d(b,s,!0),l.value=b}function m(b,f){const s=assign({},a.value,n.state,{forward:b,scroll:computeScrollPosition()});d(s.current,s,!0);const t=assign({},buildState(l.value,b,null),{position:s.position+1},f);d(b,t,!1),l.value=b}return{location:l,state:a,push:m,replace:c}}function createWebHistory(o){o=normalizeBase(o);const n=useHistoryStateNavigation(o),u=useHistoryListeners(o,n.state,n.location,n.replace);function l(d,c=!0){c||u.pauseListeners(),history.go(d)}const a=assign({location:"",base:o,go:l,createHref:createHref.bind(null,o)},n,u);return Object.defineProperty(a,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(a,"state",{enumerable:!0,get:()=>n.state.value}),a}function isRouteLocation(o){return typeof o=="string"||o&&typeof o=="object"}function isRouteName(o){return typeof o=="string"||typeof o=="symbol"}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(o){o[o.aborted=4]="aborted",o[o.cancelled=8]="cancelled",o[o.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(o,n){return assign(new Error,{type:o,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(o,n){return o instanceof Error&&NavigationFailureSymbol in o&&(n==null||!!(o.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(o,n){const u=assign({},BASE_PATH_PARSER_OPTIONS,n),l=[];let a=u.start?"^":"";const d=[];for(const f of o){const s=f.length?[]:[90];u.strict&&!f.length&&(a+="/");for(let t=0;t<f.length;t++){const e=f[t];let r=40+(u.sensitive?.25:0);if(e.type===0)t||(a+="/"),a+=e.value.replace(REGEX_CHARS_RE,"\\$&"),r+=40;else if(e.type===1){const{value:i,repeatable:g,optional:y,regexp:_}=e;d.push({name:i,repeatable:g,optional:y});const v=_||BASE_PARAM_PATTERN;if(v!==BASE_PARAM_PATTERN){r+=10;try{new RegExp(`(${v})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${i}" (${v}): `+x.message)}}let w=g?`((?:${v})(?:/(?:${v}))*)`:`(${v})`;t||(w=y&&f.length<2?`(?:/${w})`:"/"+w),y&&(w+="?"),a+=w,r+=20,y&&(r+=-8),g&&(r+=-20),v===".*"&&(r+=-50)}s.push(r)}l.push(s)}if(u.strict&&u.end){const f=l.length-1;l[f][l[f].length-1]+=.7000000000000001}u.strict||(a+="/?"),u.end?a+="$":u.strict&&(a+="(?:/|$)");const c=new RegExp(a,u.sensitive?"":"i");function m(f){const s=f.match(c),t={};if(!s)return null;for(let e=1;e<s.length;e++){const r=s[e]||"",i=d[e-1];t[i.name]=r&&i.repeatable?r.split("/"):r}return t}function b(f){let s="",t=!1;for(const e of o){(!t||!s.endsWith("/"))&&(s+="/"),t=!1;for(const r of e)if(r.type===0)s+=r.value;else if(r.type===1){const{value:i,repeatable:g,optional:y}=r,_=i in f?f[i]:"";if(isArray(_)&&!g)throw new Error(`Provided param "${i}" is an array but it is not repeatable (* or + modifiers)`);const v=isArray(_)?_.join("/"):_;if(!v)if(y)e.length<2&&(s.endsWith("/")?s=s.slice(0,-1):t=!0);else throw new Error(`Missing required param "${i}"`);s+=v}}return s||"/"}return{re:c,score:l,keys:d,parse:m,stringify:b}}function compareScoreArray(o,n){let u=0;for(;u<o.length&&u<n.length;){const l=n[u]-o[u];if(l)return l;u++}return o.length<n.length?o.length===1&&o[0]===40+40?-1:1:o.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function comparePathParserScore(o,n){let u=0;const l=o.score,a=n.score;for(;u<l.length&&u<a.length;){const d=compareScoreArray(l[u],a[u]);if(d)return d;u++}if(Math.abs(a.length-l.length)===1){if(isLastScoreNegative(l))return 1;if(isLastScoreNegative(a))return-1}return a.length-l.length}function isLastScoreNegative(o){const n=o[o.length-1];return o.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(o){if(!o)return[[]];if(o==="/")return[[ROOT_TOKEN]];if(!o.startsWith("/"))throw new Error(`Invalid path "${o}"`);function n(r){throw new Error(`ERR (${u})/"${f}": ${r}`)}let u=0,l=u;const a=[];let d;function c(){d&&a.push(d),d=[]}let m=0,b,f="",s="";function t(){f&&(u===0?d.push({type:0,value:f}):u===1||u===2||u===3?(d.length>1&&(b==="*"||b==="+")&&n(`A repeatable param (${f}) must be alone in its segment. eg: '/:ids+.`),d.push({type:1,value:f,regexp:s,repeatable:b==="*"||b==="+",optional:b==="*"||b==="?"})):n("Invalid state to consume buffer"),f="")}function e(){f+=b}for(;m<o.length;){if(b=o[m++],b==="\\"&&u!==2){l=u,u=4;continue}switch(u){case 0:b==="/"?(f&&t(),c()):b===":"?(t(),u=1):e();break;case 4:e(),u=l;break;case 1:b==="("?u=2:VALID_PARAM_RE.test(b)?e():(t(),u=0,b!=="*"&&b!=="?"&&b!=="+"&&m--);break;case 2:b===")"?s[s.length-1]=="\\"?s=s.slice(0,-1)+b:u=3:s+=b;break;case 3:t(),u=0,b!=="*"&&b!=="?"&&b!=="+"&&m--,s="";break;default:n("Unknown state");break}}return u===2&&n(`Unfinished custom RegExp for param "${f}"`),t(),c(),a}function createRouteRecordMatcher(o,n,u){const l=tokensToParser(tokenizePath(o.path),u),a=assign(l,{record:o,parent:n,children:[],alias:[]});return n&&!a.record.aliasOf==!n.record.aliasOf&&n.children.push(a),a}function createRouterMatcher(o,n){const u=[],l=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function a(s){return l.get(s)}function d(s,t,e){const r=!e,i=normalizeRouteRecord(s);i.aliasOf=e&&e.record;const g=mergeOptions(n,s),y=[i];if("alias"in s){const w=typeof s.alias=="string"?[s.alias]:s.alias;for(const x of w)y.push(assign({},i,{components:e?e.record.components:i.components,path:x,aliasOf:e?e.record:i}))}let _,v;for(const w of y){const{path:x}=w;if(t&&x[0]!=="/"){const T=t.record.path,A=T[T.length-1]==="/"?"":"/";w.path=t.record.path+(x&&A+x)}if(_=createRouteRecordMatcher(w,t,g),e?e.alias.push(_):(v=v||_,v!==_&&v.alias.push(_),r&&s.name&&!isAliasRecord(_)&&c(s.name)),i.children){const T=i.children;for(let A=0;A<T.length;A++)d(T[A],_,e&&e.children[A])}e=e||_,(_.record.components&&Object.keys(_.record.components).length||_.record.name||_.record.redirect)&&b(_)}return v?()=>{c(v)}:noop}function c(s){if(isRouteName(s)){const t=l.get(s);t&&(l.delete(s),u.splice(u.indexOf(t),1),t.children.forEach(c),t.alias.forEach(c))}else{const t=u.indexOf(s);t>-1&&(u.splice(t,1),s.record.name&&l.delete(s.record.name),s.children.forEach(c),s.alias.forEach(c))}}function m(){return u}function b(s){let t=0;for(;t<u.length&&comparePathParserScore(s,u[t])>=0&&(s.record.path!==u[t].record.path||!isRecordChildOf(s,u[t]));)t++;u.splice(t,0,s),s.record.name&&!isAliasRecord(s)&&l.set(s.record.name,s)}function f(s,t){let e,r={},i,g;if("name"in s&&s.name){if(e=l.get(s.name),!e)throw createRouterError(1,{location:s});g=e.record.name,r=assign(paramsFromLocation(t.params,e.keys.filter(v=>!v.optional).map(v=>v.name)),s.params&&paramsFromLocation(s.params,e.keys.map(v=>v.name))),i=e.stringify(r)}else if("path"in s)i=s.path,e=u.find(v=>v.re.test(i)),e&&(r=e.parse(i),g=e.record.name);else{if(e=t.name?l.get(t.name):u.find(v=>v.re.test(t.path)),!e)throw createRouterError(1,{location:s,currentLocation:t});g=e.record.name,r=assign({},t.params,s.params),i=e.stringify(r)}const y=[];let _=e;for(;_;)y.unshift(_.record),_=_.parent;return{name:g,path:i,params:r,matched:y,meta:mergeMetaFields(y)}}return o.forEach(s=>d(s)),{addRoute:d,resolve:f,removeRoute:c,getRoutes:m,getRecordMatcher:a}}function paramsFromLocation(o,n){const u={};for(const l of n)l in o&&(u[l]=o[l]);return u}function normalizeRouteRecord(o){return{path:o.path,redirect:o.redirect,name:o.name,meta:o.meta||{},aliasOf:void 0,beforeEnter:o.beforeEnter,props:normalizeRecordProps(o),children:o.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in o?o.components||null:o.component&&{default:o.component}}}function normalizeRecordProps(o){const n={},u=o.props||!1;if("component"in o)n.default=u;else for(const l in o.components)n[l]=typeof u=="boolean"?u:u[l];return n}function isAliasRecord(o){for(;o;){if(o.record.aliasOf)return!0;o=o.parent}return!1}function mergeMetaFields(o){return o.reduce((n,u)=>assign(n,u.meta),{})}function mergeOptions(o,n){const u={};for(const l in o)u[l]=l in n?n[l]:o[l];return u}function isRecordChildOf(o,n){return n.children.some(u=>u===o||isRecordChildOf(o,u))}const HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(o){return encodeURI(""+o).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(o){return commonEncode(o).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(o){return commonEncode(o).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(o){return encodeQueryValue(o).replace(EQUAL_RE,"%3D")}function encodePath(o){return commonEncode(o).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(o){return o==null?"":encodePath(o).replace(SLASH_RE,"%2F")}function decode(o){try{return decodeURIComponent(""+o)}catch{}return""+o}function parseQuery(o){const n={};if(o===""||o==="?")return n;const l=(o[0]==="?"?o.slice(1):o).split("&");for(let a=0;a<l.length;++a){const d=l[a].replace(PLUS_RE," "),c=d.indexOf("="),m=decode(c<0?d:d.slice(0,c)),b=c<0?null:decode(d.slice(c+1));if(m in n){let f=n[m];isArray(f)||(f=n[m]=[f]),f.push(b)}else n[m]=b}return n}function stringifyQuery(o){let n="";for(let u in o){const l=o[u];if(u=encodeQueryKey(u),l==null){l!==void 0&&(n+=(n.length?"&":"")+u);continue}(isArray(l)?l.map(d=>d&&encodeQueryValue(d)):[l&&encodeQueryValue(l)]).forEach(d=>{d!==void 0&&(n+=(n.length?"&":"")+u,d!=null&&(n+="="+d))})}return n}function normalizeQuery(o){const n={};for(const u in o){const l=o[u];l!==void 0&&(n[u]=isArray(l)?l.map(a=>a==null?null:""+a):l==null?l:""+l)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let o=[];function n(l){return o.push(l),()=>{const a=o.indexOf(l);a>-1&&o.splice(a,1)}}function u(){o=[]}return{add:n,list:()=>o,reset:u}}function guardToPromiseFn(o,n,u,l,a){const d=l&&(l.enterCallbacks[a]=l.enterCallbacks[a]||[]);return()=>new Promise((c,m)=>{const b=t=>{t===!1?m(createRouterError(4,{from:u,to:n})):t instanceof Error?m(t):isRouteLocation(t)?m(createRouterError(2,{from:n,to:t})):(d&&l.enterCallbacks[a]===d&&typeof t=="function"&&d.push(t),c())},f=o.call(l&&l.instances[a],n,u,b);let s=Promise.resolve(f);o.length<3&&(s=s.then(b)),s.catch(t=>m(t))})}function extractComponentsGuards(o,n,u,l){const a=[];for(const d of o)for(const c in d.components){let m=d.components[c];if(!(n!=="beforeRouteEnter"&&!d.instances[c]))if(isRouteComponent(m)){const f=(m.__vccOpts||m)[n];f&&a.push(guardToPromiseFn(f,u,l,d,c))}else{let b=m();a.push(()=>b.then(f=>{if(!f)return Promise.reject(new Error(`Couldn't resolve component "${c}" at "${d.path}"`));const s=isESModule(f)?f.default:f;d.components[c]=s;const e=(s.__vccOpts||s)[n];return e&&guardToPromiseFn(e,u,l,d,c)()}))}}return a}function isRouteComponent(o){return typeof o=="object"||"displayName"in o||"props"in o||"__vccOpts"in o}function useLink(o){const n=inject(routerKey),u=inject(routeLocationKey),l=computed(()=>n.resolve(unref(o.to))),a=computed(()=>{const{matched:b}=l.value,{length:f}=b,s=b[f-1],t=u.matched;if(!s||!t.length)return-1;const e=t.findIndex(isSameRouteRecord.bind(null,s));if(e>-1)return e;const r=getOriginalPath(b[f-2]);return f>1&&getOriginalPath(s)===r&&t[t.length-1].path!==r?t.findIndex(isSameRouteRecord.bind(null,b[f-2])):e}),d=computed(()=>a.value>-1&&includesParams(u.params,l.value.params)),c=computed(()=>a.value>-1&&a.value===u.matched.length-1&&isSameRouteLocationParams(u.params,l.value.params));function m(b={}){return guardEvent(b)?n[unref(o.replace)?"replace":"push"](unref(o.to)).catch(noop):Promise.resolve()}return{route:l,href:computed(()=>l.value.href),isActive:d,isExactActive:c,navigate:m}}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink,setup(o,{slots:n}){const u=reactive(useLink(o)),{options:l}=inject(routerKey),a=computed(()=>({[getLinkClass(o.activeClass,l.linkActiveClass,"router-link-active")]:u.isActive,[getLinkClass(o.exactActiveClass,l.linkExactActiveClass,"router-link-exact-active")]:u.isExactActive}));return()=>{const d=n.default&&n.default(u);return o.custom?d:h("a",{"aria-current":u.isExactActive?o.ariaCurrentValue:null,href:u.href,onClick:u.navigate,class:a.value},d)}}}),RouterLink=RouterLinkImpl;function guardEvent(o){if(!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)&&!o.defaultPrevented&&!(o.button!==void 0&&o.button!==0)){if(o.currentTarget&&o.currentTarget.getAttribute){const n=o.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return o.preventDefault&&o.preventDefault(),!0}}function includesParams(o,n){for(const u in n){const l=n[u],a=o[u];if(typeof l=="string"){if(l!==a)return!1}else if(!isArray(a)||a.length!==l.length||l.some((d,c)=>d!==a[c]))return!1}return!0}function getOriginalPath(o){return o?o.aliasOf?o.aliasOf.path:o.path:""}const getLinkClass=(o,n,u)=>o??n??u,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(o,{attrs:n,slots:u}){const l=inject(routerViewLocationKey),a=computed(()=>o.route||l.value),d=inject(viewDepthKey,0),c=computed(()=>{let f=unref(d);const{matched:s}=a.value;let t;for(;(t=s[f])&&!t.components;)f++;return f}),m=computed(()=>a.value.matched[c.value]);provide(viewDepthKey,computed(()=>c.value+1)),provide(matchedRouteKey,m),provide(routerViewLocationKey,a);const b=ref();return watch(()=>[b.value,m.value,o.name],([f,s,t],[e,r,i])=>{s&&(s.instances[t]=f,r&&r!==s&&f&&f===e&&(s.leaveGuards.size||(s.leaveGuards=r.leaveGuards),s.updateGuards.size||(s.updateGuards=r.updateGuards))),f&&s&&(!r||!isSameRouteRecord(s,r)||!e)&&(s.enterCallbacks[t]||[]).forEach(g=>g(f))},{flush:"post"}),()=>{const f=a.value,s=o.name,t=m.value,e=t&&t.components[s];if(!e)return normalizeSlot(u.default,{Component:e,route:f});const r=t.props[s],i=r?r===!0?f.params:typeof r=="function"?r(f):r:null,y=h(e,assign({},i,n,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(t.instances[s]=null)},ref:b}));return normalizeSlot(u.default,{Component:y,route:f})||y}}});function normalizeSlot(o,n){if(!o)return null;const u=o(n);return u.length===1?u[0]:u}const RouterView=RouterViewImpl;function createRouter(o){const n=createRouterMatcher(o.routes,o),u=o.parseQuery||parseQuery,l=o.stringifyQuery||stringifyQuery,a=o.history,d=useCallbacks(),c=useCallbacks(),m=useCallbacks(),b=shallowRef(START_LOCATION_NORMALIZED);let f=START_LOCATION_NORMALIZED;isBrowser&&o.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const s=applyToParams.bind(null,V=>""+V),t=applyToParams.bind(null,encodeParam),e=applyToParams.bind(null,decode);function r(V,ee){let Q,ce;return isRouteName(V)?(Q=n.getRecordMatcher(V),ce=ee):ce=V,n.addRoute(ce,Q)}function i(V){const ee=n.getRecordMatcher(V);ee&&n.removeRoute(ee)}function g(){return n.getRoutes().map(V=>V.record)}function y(V){return!!n.getRecordMatcher(V)}function _(V,ee){if(ee=assign({},ee||b.value),typeof V=="string"){const D=parseURL(u,V,ee.path),k=n.resolve({path:D.path},ee),B=a.createHref(D.fullPath);return assign(D,k,{params:e(k.params),hash:decode(D.hash),redirectedFrom:void 0,href:B})}let Q;if("path"in V)Q=assign({},V,{path:parseURL(u,V.path,ee.path).path});else{const D=assign({},V.params);for(const k in D)D[k]==null&&delete D[k];Q=assign({},V,{params:t(V.params)}),ee.params=t(ee.params)}const ce=n.resolve(Q,ee),we=V.hash||"";ce.params=s(e(ce.params));const Te=stringifyURL(l,assign({},V,{hash:encodeHash(we),path:ce.path})),ye=a.createHref(Te);return assign({fullPath:Te,hash:we,query:l===stringifyQuery?normalizeQuery(V.query):V.query||{}},ce,{redirectedFrom:void 0,href:ye})}function v(V){return typeof V=="string"?parseURL(u,V,b.value.path):assign({},V)}function w(V,ee){if(f!==V)return createRouterError(8,{from:ee,to:V})}function x(V){return E(V)}function T(V){return x(assign(v(V),{replace:!0}))}function A(V){const ee=V.matched[V.matched.length-1];if(ee&&ee.redirect){const{redirect:Q}=ee;let ce=typeof Q=="function"?Q(V):Q;return typeof ce=="string"&&(ce=ce.includes("?")||ce.includes("#")?ce=v(ce):{path:ce},ce.params={}),assign({query:V.query,hash:V.hash,params:"path"in ce?{}:V.params},ce)}}function E(V,ee){const Q=f=_(V),ce=b.value,we=V.state,Te=V.force,ye=V.replace===!0,D=A(Q);if(D)return E(assign(v(D),{state:typeof D=="object"?assign({},we,D.state):we,force:Te,replace:ye}),ee||Q);const k=Q;k.redirectedFrom=ee;let B;return!Te&&isSameRouteLocation(l,ce,Q)&&(B=createRouterError(16,{to:k,from:ce}),me(ce,ce,!0,!1)),(B?Promise.resolve(B):S(k,ce)).catch(G=>isNavigationFailure(G)?isNavigationFailure(G,2)?G:X(G):L(G,k,ce)).then(G=>{if(G){if(isNavigationFailure(G,2))return E(assign({replace:ye},v(G.to),{state:typeof G.to=="object"?assign({},we,G.to.state):we,force:Te}),ee||k)}else G=$(k,ce,!0,ye,we);return P(k,ce,G),G})}function O(V,ee){const Q=w(V,ee);return Q?Promise.reject(Q):Promise.resolve()}function S(V,ee){let Q;const[ce,we,Te]=extractChangingRecords(V,ee);Q=extractComponentsGuards(ce.reverse(),"beforeRouteLeave",V,ee);for(const D of ce)D.leaveGuards.forEach(k=>{Q.push(guardToPromiseFn(k,V,ee))});const ye=O.bind(null,V,ee);return Q.push(ye),runGuardQueue(Q).then(()=>{Q=[];for(const D of d.list())Q.push(guardToPromiseFn(D,V,ee));return Q.push(ye),runGuardQueue(Q)}).then(()=>{Q=extractComponentsGuards(we,"beforeRouteUpdate",V,ee);for(const D of we)D.updateGuards.forEach(k=>{Q.push(guardToPromiseFn(k,V,ee))});return Q.push(ye),runGuardQueue(Q)}).then(()=>{Q=[];for(const D of V.matched)if(D.beforeEnter&&!ee.matched.includes(D))if(isArray(D.beforeEnter))for(const k of D.beforeEnter)Q.push(guardToPromiseFn(k,V,ee));else Q.push(guardToPromiseFn(D.beforeEnter,V,ee));return Q.push(ye),runGuardQueue(Q)}).then(()=>(V.matched.forEach(D=>D.enterCallbacks={}),Q=extractComponentsGuards(Te,"beforeRouteEnter",V,ee),Q.push(ye),runGuardQueue(Q))).then(()=>{Q=[];for(const D of c.list())Q.push(guardToPromiseFn(D,V,ee));return Q.push(ye),runGuardQueue(Q)}).catch(D=>isNavigationFailure(D,8)?D:Promise.reject(D))}function P(V,ee,Q){for(const ce of m.list())ce(V,ee,Q)}function $(V,ee,Q,ce,we){const Te=w(V,ee);if(Te)return Te;const ye=ee===START_LOCATION_NORMALIZED,D=isBrowser?history.state:{};Q&&(ce||ye?a.replace(V.fullPath,assign({scroll:ye&&D&&D.scroll},we)):a.push(V.fullPath,we)),b.value=V,me(V,ee,Q,ye),X()}let M;function j(){M||(M=a.listen((V,ee,Q)=>{if(!De.listening)return;const ce=_(V),we=A(ce);if(we){E(assign(we,{replace:!0}),ce).catch(noop);return}f=ce;const Te=b.value;isBrowser&&saveScrollPosition(getScrollKey(Te.fullPath,Q.delta),computeScrollPosition()),S(ce,Te).catch(ye=>isNavigationFailure(ye,12)?ye:isNavigationFailure(ye,2)?(E(ye.to,ce).then(D=>{isNavigationFailure(D,20)&&!Q.delta&&Q.type===NavigationType.pop&&a.go(-1,!1)}).catch(noop),Promise.reject()):(Q.delta&&a.go(-Q.delta,!1),L(ye,ce,Te))).then(ye=>{ye=ye||$(ce,Te,!1),ye&&(Q.delta&&!isNavigationFailure(ye,8)?a.go(-Q.delta,!1):Q.type===NavigationType.pop&&isNavigationFailure(ye,20)&&a.go(-1,!1)),P(ce,Te,ye)}).catch(noop)}))}let H=useCallbacks(),K=useCallbacks(),C;function L(V,ee,Q){X(V);const ce=K.list();return ce.length?ce.forEach(we=>we(V,ee,Q)):console.error(V),Promise.reject(V)}function oe(){return C&&b.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((V,ee)=>{H.add([V,ee])})}function X(V){return C||(C=!V,j(),H.list().forEach(([ee,Q])=>V?Q(V):ee()),H.reset()),V}function me(V,ee,Q,ce){const{scrollBehavior:we}=o;if(!isBrowser||!we)return Promise.resolve();const Te=!Q&&getSavedScrollPosition(getScrollKey(V.fullPath,0))||(ce||!Q)&&history.state&&history.state.scroll||null;return nextTick().then(()=>we(V,ee,Te)).then(ye=>ye&&scrollToPosition(ye)).catch(ye=>L(ye,V,ee))}const pe=V=>a.go(V);let _e;const Ce=new Set,De={currentRoute:b,listening:!0,addRoute:r,removeRoute:i,hasRoute:y,getRoutes:g,resolve:_,options:o,push:x,replace:T,go:pe,back:()=>pe(-1),forward:()=>pe(1),beforeEach:d.add,beforeResolve:c.add,afterEach:m.add,onError:K.add,isReady:oe,install(V){const ee=this;V.component("RouterLink",RouterLink),V.component("RouterView",RouterView),V.config.globalProperties.$router=ee,Object.defineProperty(V.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(b)}),isBrowser&&!_e&&b.value===START_LOCATION_NORMALIZED&&(_e=!0,x(a.location).catch(we=>{}));const Q={};for(const we in START_LOCATION_NORMALIZED)Q[we]=computed(()=>b.value[we]);V.provide(routerKey,ee),V.provide(routeLocationKey,reactive(Q)),V.provide(routerViewLocationKey,b);const ce=V.unmount;Ce.add(V),V.unmount=function(){Ce.delete(V),Ce.size<1&&(f=START_LOCATION_NORMALIZED,M&&M(),M=null,b.value=START_LOCATION_NORMALIZED,_e=!1,C=!1),ce()}}};return De}function runGuardQueue(o){return o.reduce((n,u)=>n.then(()=>u()),Promise.resolve())}function extractChangingRecords(o,n){const u=[],l=[],a=[],d=Math.max(n.matched.length,o.matched.length);for(let c=0;c<d;c++){const m=n.matched[c];m&&(o.matched.find(f=>isSameRouteRecord(f,m))?l.push(m):u.push(m));const b=o.matched[c];b&&(n.matched.find(f=>isSameRouteRecord(f,b))||a.push(b))}return[u,l,a]}const _withScopeId$2=o=>(pushScopeId("data-v-ff9008ec"),o=o(),popScopeId(),o),_hoisted_1$9={class:"greetings"},_hoisted_2$9={class:"green"},_hoisted_3$7=_withScopeId$2(()=>createBaseVNode("h3",null,[createTextVNode(" You’ve successfully created a project with "),createBaseVNode("a",{href:"https://vitejs.dev/",target:"_blank",rel:"noopener"},"Vite"),createTextVNode(" + "),createBaseVNode("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"Vue 3"),createTextVNode(". What's next? ")],-1)),_sfc_main$a=defineComponent({__name:"HelloWorld",props:{msg:null},setup(o){return(n,u)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("h1",_hoisted_2$9,toDisplayString(o.msg),1),_hoisted_3$7]))}}),HelloWorld_vue_vue_type_style_index_0_scoped_ff9008ec_lang="",_export_sfc=(o,n)=>{const u=o.__vccOpts||o;for(const[l,a]of n)u[l]=a;return u},HelloWorld=_export_sfc(_sfc_main$a,[["__scopeId","data-v-ff9008ec"]]),_withScopeId$1=o=>(pushScopeId("data-v-fa26fd45"),o=o(),popScopeId(),o),_hoisted_1$8=_withScopeId$1(()=>createBaseVNode("img",{alt:"Vue logo",class:"logo",src:_imports_0,width:"125",height:"125"},null,-1)),_hoisted_2$8={class:"wrapper"},_sfc_main$9=defineComponent({__name:"App",setup(o){return(n,u)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",null,[_hoisted_1$8,createBaseVNode("div",_hoisted_2$8,[createVNode(HelloWorld,{msg:"You did it!"}),createBaseVNode("nav",null,[createVNode(unref(RouterLink),{to:"/"},{default:withCtx(()=>[createTextVNode("Home")]),_:1}),createVNode(unref(RouterLink),{to:"/about"},{default:withCtx(()=>[createTextVNode("About")]),_:1}),createVNode(unref(RouterLink),{to:"/yolo"},{default:withCtx(()=>[createTextVNode("Yolo")]),_:1})])])]),createVNode(unref(RouterView))],64))}}),App_vue_vue_type_style_index_0_scoped_fa26fd45_lang="",App=_export_sfc(_sfc_main$9,[["__scopeId","data-v-fa26fd45"]]),scriptRel="modulepreload",assetsURL=function(o){return"/"+o},seen={},__vitePreload=function(n,u,l){if(!u||u.length===0)return n();const a=document.getElementsByTagName("link");return Promise.all(u.map(d=>{if(d=assetsURL(d),d in seen)return;seen[d]=!0;const c=d.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(!!l)for(let s=a.length-1;s>=0;s--){const t=a[s];if(t.href===d&&(!c||t.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${m}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":scriptRel,c||(f.as="script",f.crossOrigin=""),f.href=d,document.head.appendChild(f),c)return new Promise((s,t)=>{f.addEventListener("load",s),f.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>n())},WelcomeItem_vue_vue_type_style_index_0_scoped_02aeb4b6_lang="",_sfc_main$8={},_hoisted_1$7={class:"item"},_hoisted_2$7={class:"details"};function _sfc_render$5(o,n){return openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("i",null,[renderSlot(o.$slots,"icon",{},void 0,!0)]),createBaseVNode("div",_hoisted_2$7,[createBaseVNode("h3",null,[renderSlot(o.$slots,"heading",{},void 0,!0)]),renderSlot(o.$slots,"default",{},void 0,!0)])])}const WelcomeItem=_export_sfc(_sfc_main$8,[["render",_sfc_render$5],["__scopeId","data-v-02aeb4b6"]]),_sfc_main$7={},_hoisted_1$6={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},_hoisted_2$6=createBaseVNode("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),_hoisted_3$6=[_hoisted_2$6];function _sfc_render$4(o,n){return openBlock(),createElementBlock("svg",_hoisted_1$6,_hoisted_3$6)}const DocumentationIcon=_export_sfc(_sfc_main$7,[["render",_sfc_render$4]]),_sfc_main$6={},_hoisted_1$5={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},_hoisted_2$5=createBaseVNode("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),_hoisted_3$5=[_hoisted_2$5];function _sfc_render$3(o,n){return openBlock(),createElementBlock("svg",_hoisted_1$5,_hoisted_3$5)}const ToolingIcon=_export_sfc(_sfc_main$6,[["render",_sfc_render$3]]),_sfc_main$5={},_hoisted_1$4={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},_hoisted_2$4=createBaseVNode("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),_hoisted_3$4=[_hoisted_2$4];function _sfc_render$2(o,n){return openBlock(),createElementBlock("svg",_hoisted_1$4,_hoisted_3$4)}const EcosystemIcon=_export_sfc(_sfc_main$5,[["render",_sfc_render$2]]),_sfc_main$4={},_hoisted_1$3={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},_hoisted_2$3=createBaseVNode("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),_hoisted_3$3=[_hoisted_2$3];function _sfc_render$1(o,n){return openBlock(),createElementBlock("svg",_hoisted_1$3,_hoisted_3$3)}const CommunityIcon=_export_sfc(_sfc_main$4,[["render",_sfc_render$1]]),_sfc_main$3={},_hoisted_1$2={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},_hoisted_2$2=createBaseVNode("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),_hoisted_3$2=[_hoisted_2$2];function _sfc_render(o,n){return openBlock(),createElementBlock("svg",_hoisted_1$2,_hoisted_3$2)}const SupportIcon=_export_sfc(_sfc_main$3,[["render",_sfc_render]]),_hoisted_1$1=createBaseVNode("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1),_hoisted_2$1=createBaseVNode("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),_hoisted_3$1=createBaseVNode("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),_hoisted_4$1=createBaseVNode("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),_hoisted_5=createBaseVNode("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),_hoisted_6=createBaseVNode("a",{href:"https://on.cypress.io/component",target:"_blank"},"Cypress Component Testing",-1),_hoisted_7=createBaseVNode("br",null,null,-1),_hoisted_8=createBaseVNode("code",null,"README.md",-1),_hoisted_9=createBaseVNode("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1),_hoisted_10=createBaseVNode("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1),_hoisted_11=createBaseVNode("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1),_hoisted_12=createBaseVNode("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1),_hoisted_13=createBaseVNode("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1),_hoisted_14=createBaseVNode("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1),_hoisted_15=createBaseVNode("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1),_hoisted_16=createBaseVNode("a",{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"},"our mailing list",-1),_hoisted_17=createBaseVNode("a",{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1),_hoisted_18=createBaseVNode("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1),_sfc_main$2=defineComponent({__name:"TheWelcome",setup(o){return(n,u)=>(openBlock(),createElementBlock(Fragment,null,[createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(DocumentationIcon)]),heading:withCtx(()=>[createTextVNode("Documentation")]),default:withCtx(()=>[createTextVNode(" Vue’s "),_hoisted_1$1,createTextVNode(" provides you with all information you need to get started. ")]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(ToolingIcon)]),heading:withCtx(()=>[createTextVNode("Tooling")]),default:withCtx(()=>[createTextVNode(" This project is served and bundled with "),_hoisted_2$1,createTextVNode(". The recommended IDE setup is "),_hoisted_3$1,createTextVNode(" + "),_hoisted_4$1,createTextVNode(". If you need to test your components and web pages, check out "),_hoisted_5,createTextVNode(" and "),_hoisted_6,createTextVNode(". "),_hoisted_7,createTextVNode(" More instructions are available in "),_hoisted_8,createTextVNode(". ")]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(EcosystemIcon)]),heading:withCtx(()=>[createTextVNode("Ecosystem")]),default:withCtx(()=>[createTextVNode(" Get official tools and libraries for your project: "),_hoisted_9,createTextVNode(", "),_hoisted_10,createTextVNode(", "),_hoisted_11,createTextVNode(", and "),_hoisted_12,createTextVNode(". If you need more resources, we suggest paying "),_hoisted_13,createTextVNode(" a visit. ")]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(CommunityIcon)]),heading:withCtx(()=>[createTextVNode("Community")]),default:withCtx(()=>[createTextVNode(" Got stuck? Ask your question on "),_hoisted_14,createTextVNode(", our official Discord server, or "),_hoisted_15,createTextVNode(". You should also subscribe to "),_hoisted_16,createTextVNode(" and follow the official "),_hoisted_17,createTextVNode(" twitter account for latest news in the Vue world. ")]),_:1}),createVNode(WelcomeItem,null,{icon:withCtx(()=>[createVNode(SupportIcon)]),heading:withCtx(()=>[createTextVNode("Support Vue")]),default:withCtx(()=>[createTextVNode(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),_hoisted_18,createTextVNode(". ")]),_:1})],64))}}),_sfc_main$1=defineComponent({__name:"HomeView",setup(o){return(n,u)=>(openBlock(),createElementBlock("main",null,[createVNode(_sfc_main$2)]))}});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var n=o.default;if(typeof n=="function"){var u=function l(){if(this instanceof l){var a=[null];a.push.apply(a,arguments);var d=Function.bind.apply(n,a);return new d}return n.apply(this,arguments)};u.prototype=n.prototype}else u={};return Object.defineProperty(u,"__esModule",{value:!0}),Object.keys(o).forEach(function(l){var a=Object.getOwnPropertyDescriptor(o,l);Object.defineProperty(u,l,a.get?a:{enumerable:!0,get:function(){return o[l]}})}),u}var ortWeb_minExports={},ortWeb_min={get exports(){return ortWeb_minExports},set exports(o){ortWeb_minExports=o}};const backends={},backendsSortedByPriority=[],registerBackend=(o,n,u)=>{if(n&&typeof n.init=="function"&&typeof n.createSessionHandler=="function"){const l=backends[o];if(l===void 0)backends[o]={backend:n,priority:u};else{if(l.priority>u)return;if(l.priority===u&&l.backend!==n)throw new Error(`cannot register backend "${o}" using priority ${u}`)}if(u>=0){const a=backendsSortedByPriority.indexOf(o);a!==-1&&backendsSortedByPriority.splice(a,1);for(let d=0;d<backendsSortedByPriority.length;d++)if(backends[backendsSortedByPriority[d]].priority<=u){backendsSortedByPriority.splice(d,0,o);return}backendsSortedByPriority.push(o)}return}throw new TypeError("not a valid backend")},resolveBackend=async o=>{const n=o.length===0?backendsSortedByPriority:o,u=[];for(const l of n){const a=backends[l];if(a){if(a.initialized)return a.backend;if(a.aborted)continue;const d=!!a.initPromise;try{return d||(a.initPromise=a.backend.init()),await a.initPromise,a.initialized=!0,a.backend}catch(c){d||u.push({name:l,err:c}),a.aborted=!0}finally{delete a.initPromise}}}throw new Error(`no available backend found. ERR: ${u.map(l=>`[${l.name}] ${l.err}`).join(", ")}`)};class EnvImpl{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(n){if(n!==void 0){if(typeof n!="string"||["verbose","info","warning","error","fatal"].indexOf(n)===-1)throw new Error(`Unsupported logging level: ${n}`);this.logLevelInternal=n}}get logLevel(){return this.logLevelInternal}}const env=new EnvImpl,isBigInt64ArrayAvailable=typeof BigInt64Array<"u"&&typeof BigInt64Array.from=="function",isBigUint64ArrayAvailable=typeof BigUint64Array<"u"&&typeof BigUint64Array.from=="function",NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);isBigInt64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("int64",BigInt64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigInt64Array,"int64"));isBigUint64ArrayAvailable&&(NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.set("uint64",BigUint64Array),NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.set(BigUint64Array,"uint64"));const calculateSize=o=>{let n=1;for(let u=0;u<o.length;u++){const l=o[u];if(typeof l!="number"||!Number.isSafeInteger(l))throw new TypeError(`dims[${u}] must be an integer, got: ${l}`);if(l<0)throw new RangeError(`dims[${u}] must be a non-negative integer, got: ${l}`);n*=l}return n};let Tensor$1=class{constructor(n,u,l){let a,d,c;if(typeof n=="string")if(a=n,c=l,n==="string"){if(!Array.isArray(u))throw new TypeError("A string tensor's data must be a string array.");d=u}else{const b=NUMERIC_TENSOR_TYPE_TO_TYPEDARRAY_MAP.get(n);if(b===void 0)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(u))d=b.from(u);else if(u instanceof b)d=u;else throw new TypeError(`A ${a} tensor's data must be type of ${b}`)}else if(c=u,Array.isArray(n)){if(n.length===0)throw new TypeError("Tensor type cannot be inferred from an empty array.");const b=typeof n[0];if(b==="string")a="string",d=n;else if(b==="boolean")a="bool",d=Uint8Array.from(n);else throw new TypeError(`Invalid element type of data array: ${b}.`)}else{const b=NUMERIC_TENSOR_TYPEDARRAY_TO_TYPE_MAP.get(n.constructor);if(b===void 0)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);a=b,d=n}if(c===void 0)c=[d.length];else if(!Array.isArray(c))throw new TypeError("A tensor's dims must be a number array");const m=calculateSize(c);if(m!==d.length)throw new Error(`Tensor's size(${m}) does not match data length(${d.length}).`);this.dims=c,this.type=a,this.data=d,this.size=m}reshape(n){return new Tensor$1(this.type,this.data,n)}};const Tensor=Tensor$1;let InferenceSession$1=class{constructor(n){this.handler=n}async run(n,u,l){const a={};let d={};if(typeof n!="object"||n===null||n instanceof Tensor||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let c=!0;if(typeof u=="object"){if(u===null)throw new TypeError("Unexpected argument[1]: cannot be null.");if(u instanceof Tensor)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(u)){if(u.length===0)throw new TypeError("'fetches' cannot be an empty array.");c=!1;for(const f of u){if(typeof f!="string")throw new TypeError("'fetches' must be a string array or an object.");if(this.outputNames.indexOf(f)===-1)throw new RangeError(`'fetches' contains invalid output name: ${f}.`);a[f]=null}if(typeof l=="object"&&l!==null)d=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else{let f=!1;const s=Object.getOwnPropertyNames(u);for(const t of this.outputNames)if(s.indexOf(t)!==-1){const e=u[t];(e===null||e instanceof Tensor)&&(f=!0,c=!1,a[t]=e)}if(f){if(typeof l=="object"&&l!==null)d=l;else if(typeof l<"u")throw new TypeError("'options' must be an object.")}else d=u}}else if(typeof u<"u")throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const f of this.inputNames)if(typeof n[f]>"u")throw new Error(`input '${f}' is missing in 'feeds'.`);if(c)for(const f of this.outputNames)a[f]=null;const m=await this.handler.run(n,a,d),b={};for(const f in m)Object.hasOwnProperty.call(m,f)&&(b[f]=new Tensor(m[f].type,m[f].data,m[f].dims));return b}static async create(n,u,l,a){let d,c={};if(typeof n=="string"){if(d=n,typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(d=n,typeof u=="object"&&u!==null)c=u;else if(typeof u<"u")throw new TypeError("'options' must be an object.")}else if(n instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&n instanceof SharedArrayBuffer){const t=n;let e=0,r=n.byteLength;if(typeof u=="object"&&u!==null)c=u;else if(typeof u=="number"){if(e=u,!Number.isSafeInteger(e))throw new RangeError("'byteOffset' must be an integer.");if(e<0||e>=t.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${t.byteLength}).`);if(r=n.byteLength-e,typeof l=="number"){if(r=l,!Number.isSafeInteger(r))throw new RangeError("'byteLength' must be an integer.");if(r<=0||e+r>t.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${t.byteLength-e}].`);if(typeof a=="object"&&a!==null)c=a;else if(typeof a<"u")throw new TypeError("'options' must be an object.")}else if(typeof l<"u")throw new TypeError("'byteLength' must be a number.")}else if(typeof u<"u")throw new TypeError("'options' must be an object.");d=new Uint8Array(t,e,r)}else throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");const b=(c.executionProviders||[]).map(t=>typeof t=="string"?t:t.name),s=await(await resolveBackend(b)).createSessionHandler(d,c);return new InferenceSession$1(s)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}};const InferenceSession=InferenceSession$1,lib=Object.freeze(Object.defineProperty({__proto__:null,InferenceSession,Tensor,env,registerBackend},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(lib);/*!
* ONNX Runtime Web v1.13.1
* Copyright (c) Microsoft Corporation. All rights reserved.
* Licensed under the MIT License.
*/(function(module,exports){(function(o,n){module.exports=n(require$$0)})(self,function(__WEBPACK_EXTERNAL_MODULE__2174__){return(()=>{var __webpack_modules__={3474:(o,n,u)=>{var l,a=(l=(l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){function c(){return X.buffer!=pe&&k(X.buffer),_e}function m(){return X.buffer!=pe&&k(X.buffer),Ce}function b(){return X.buffer!=pe&&k(X.buffer),De}function f(){return X.buffer!=pe&&k(X.buffer),V}function s(){return X.buffer!=pe&&k(X.buffer),ee}var t,e,r;d=d||{},t||(t=d!==void 0?d:{}),t.ready=new Promise(function(I,R){e=I,r=R});var i,g,y,_,v,w,x=Object.assign({},t),T="./this.program",A=(I,R)=>{throw R},E=typeof window=="object",O=typeof importScripts=="function",S=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",P=t.ENVIRONMENT_IS_PTHREAD||!1,$="";function M(I){return t.locateFile?t.locateFile(I,$):$+I}if(S){let I;$=O?u(908).dirname($)+"/":"//",w=()=>{v||(_=u(1384),v=u(908))},i=function(R,N){return w(),R=v.normalize(R),_.readFileSync(R,N?void 0:"utf8")},y=R=>((R=i(R,!0)).buffer||(R=new Uint8Array(R)),R),g=(R,N,z)=>{w(),R=v.normalize(R),_.readFile(R,function(de,he){de?z(de):N(he.buffer)})},1<process.argv.length&&(T=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(R){if(!(R instanceof Pe))throw R}),process.on("unhandledRejection",function(R){throw R}),A=(R,N)=>{if(ie())throw process.exitCode=R,N;N instanceof Pe||L("exiting due to exception: "+N),process.exit(R)},t.inspect=function(){return"[Emscripten Module object]"};try{I=u(9925)}catch(R){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),R}u.g.Worker=I.Worker}else(E||O)&&(O?$=self.location.href:typeof document<"u"&&document.currentScript&&($=document.currentScript.src),l&&($=l),$=$.indexOf("blob:")!==0?$.substr(0,$.replace(/[?#].*/,"").lastIndexOf("/")+1):"",S||(i=I=>{var R=new XMLHttpRequest;return R.open("GET",I,!1),R.send(null),R.responseText},O&&(y=I=>{var R=new XMLHttpRequest;return R.open("GET",I,!1),R.responseType="arraybuffer",R.send(null),new Uint8Array(R.response)}),g=(I,R,N)=>{var z=new XMLHttpRequest;z.open("GET",I,!0),z.responseType="arraybuffer",z.onload=()=>{z.status==200||z.status==0&&z.response?R(z.response):N()},z.onerror=N,z.send(null)}));S&&typeof performance>"u"&&(u.g.performance=u(6953).performance);var j=console.log.bind(console),H=console.warn.bind(console);S&&(w(),j=I=>_.writeSync(1,I+`
`),H=I=>_.writeSync(2,I+`
`));var K,C=t.print||j,L=t.printErr||H;Object.assign(t,x),x=null,t.thisProgram&&(T=t.thisProgram),t.quit&&(A=t.quit),t.wasmBinary&&(K=t.wasmBinary);var oe=t.noExitRuntime||!1;typeof WebAssembly!="object"&&be("no native wasm support detected");var X,me,pe,_e,Ce,De,V,ee,Q=!1,ce=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function we(I,R,N){var z=(R>>>=0)+N;for(N=R;I[N]&&!(N>=z);)++N;if(16<N-R&&I.buffer&&ce)return ce.decode(I.buffer instanceof SharedArrayBuffer?I.slice(R,N):I.subarray(R,N));for(z="";R<N;){var de=I[R++];if(128&de){var he=63&I[R++];if((224&de)==192)z+=String.fromCharCode((31&de)<<6|he);else{var Se=63&I[R++];65536>(de=(240&de)==224?(15&de)<<12|he<<6|Se:(7&de)<<18|he<<12|Se<<6|63&I[R++])?z+=String.fromCharCode(de):(de-=65536,z+=String.fromCharCode(55296|de>>10,56320|1023&de))}}else z+=String.fromCharCode(de)}return z}function Te(I,R){return(I>>>=0)?we(m(),I,R):""}function ye(I,R,N,z){if(!(0<z))return 0;var de=N>>>=0;z=N+z-1;for(var he=0;he<I.length;++he){var Se=I.charCodeAt(he);if(55296<=Se&&57343>=Se&&(Se=65536+((1023&Se)<<10)|1023&I.charCodeAt(++he)),127>=Se){if(N>=z)break;R[N++>>>0]=Se}else{if(2047>=Se){if(N+1>=z)break;R[N++>>>0]=192|Se>>6}else{if(65535>=Se){if(N+2>=z)break;R[N++>>>0]=224|Se>>12}else{if(N+3>=z)break;R[N++>>>0]=240|Se>>18,R[N++>>>0]=128|Se>>12&63}R[N++>>>0]=128|Se>>6&63}R[N++>>>0]=128|63&Se}}return R[N>>>0]=0,N-de}function D(I){for(var R=0,N=0;N<I.length;++N){var z=I.charCodeAt(N);127>=z?R++:2047>=z?R+=2:55296<=z&&57343>=z?(R+=4,++N):R+=3}return R}function k(I){pe=I,t.HEAP8=_e=new Int8Array(I),t.HEAP16=new Int16Array(I),t.HEAP32=De=new Int32Array(I),t.HEAPU8=Ce=new Uint8Array(I),t.HEAPU16=new Uint16Array(I),t.HEAPU32=V=new Uint32Array(I),t.HEAPF32=new Float32Array(I),t.HEAPF64=ee=new Float64Array(I)}P&&(pe=t.buffer);var B=t.INITIAL_MEMORY||16777216;if(P)X=t.wasmMemory,pe=t.buffer;else if(t.wasmMemory)X=t.wasmMemory;else if(!((X=new WebAssembly.Memory({initial:B/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw L("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),S&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");X&&(pe=X.buffer),B=pe.byteLength,k(pe);var G,Y=[],ne=[],ue=[],re=[];function ie(){return oe||!1}function Z(){var I=t.preRun.shift();Y.unshift(I)}var le,fe=0,ge=null;function be(I){throw P?postMessage({cmd:"onAbort",arg:I}):t.onAbort&&t.onAbort(I),L(I="Aborted("+I+")"),Q=!0,I=new WebAssembly.RuntimeError(I+". Build with -sASSERTIONS for more info."),r(I),I}function xe(){return le.startsWith("data:application/octet-stream;base64,")}function Ie(){var I=le;try{if(I==le&&K)return new Uint8Array(K);if(y)return y(I);throw"both async and sync fetching of the wasm failed"}catch(R){be(R)}}le="ort-wasm-threaded.wasm",xe()||(le=M(le));var Oe={};function Pe(I){this.name="ExitStatus",this.message="Program terminated with exit("+I+")",this.status=I}function F(I){(I=J.Ma[I])||be(),J.Xa(I)}function U(I){var R=J.mb();if(!R)return 6;J.Sa.push(R),J.Ma[I.La]=R,R.La=I.La;var N={cmd:"run",start_routine:I.qb,arg:I.jb,pthread_ptr:I.La};return R.Ra=()=>{N.time=performance.now(),R.postMessage(N,I.vb)},R.loaded&&(R.Ra(),delete R.Ra),0}function te(I){if(P)return Re(1,1,I);ie()||(J.Za(),t.onExit&&t.onExit(I),Q=!0),A(I,new Pe(I))}function se(I,R){if(!R&&P)throw Fe(I),"unwind";ie()||P||(Ct(),ae(ue),kt(0),nt[1].length&&rt(1,10),nt[2].length&&rt(2,10),J.Za()),te(I)}var J={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){P&&J.nb()},xb:function(){},nb:function(){J.receiveObjectTransfer=J.pb,J.threadInitTLS=J.$a,J.setExitStatus=J.Ya,oe=!1},Ya:function(){},Za:function(){for(var I of Object.values(J.Ma))J.Xa(I);for(I of J.Pa)I.terminate();J.Pa=[]},Xa:function(I){var R=I.La;delete J.Ma[R],J.Pa.push(I),J.Sa.splice(J.Sa.indexOf(I),1),I.La=0,it(R)},pb:function(){},$a:function(){J.ab.forEach(I=>I())},ob:function(I,R){I.onmessage=N=>{var z=(N=N.data).cmd;if(I.La&&(J.lb=I.La),N.targetThread&&N.targetThread!=Ke()){var de=J.Ma[N.yb];de?de.postMessage(N,N.transferList):L('Internal error! Worker sent a message "'+z+'" to target pthread '+N.targetThread+", but that thread no longer exists!")}else z==="processProxyingQueue"?Je(N.queue):z==="spawnThread"?U(N):z==="cleanupThread"?F(N.thread):z==="killThread"?(N=N.thread,z=J.Ma[N],delete J.Ma[N],z.terminate(),it(N),J.Sa.splice(J.Sa.indexOf(z),1),z.La=0):z==="cancelThread"?J.Ma[N.thread].postMessage({cmd:"cancel"}):z==="loaded"?(I.loaded=!0,R&&R(I),I.Ra&&(I.Ra(),delete I.Ra)):z==="print"?C("Thread "+N.threadId+": "+N.text):z==="printErr"?L("Thread "+N.threadId+": "+N.text):z==="alert"?alert("Thread "+N.threadId+": "+N.text):N.target==="setimmediate"?I.postMessage(N):z==="onAbort"?t.onAbort&&t.onAbort(N.arg):z&&L("worker sent an unknown command "+z);J.lb=void 0},I.onerror=N=>{throw L("worker sent an error! "+N.filename+":"+N.lineno+": "+N.message),N},S&&(I.on("message",function(N){I.onmessage({data:N})}),I.on("error",function(N){I.onerror(N)}),I.on("detachedExit",function(){})),I.postMessage({cmd:"load",urlOrBlob:t.mainScriptUrlOrBlob||l,wasmMemory:X,wasmModule:me})},ib:function(){var I=M("ort-wasm-threaded.worker.js");J.Pa.push(new Worker(I))},mb:function(){return J.Pa.length==0&&(J.ib(),J.ob(J.Pa[0])),J.Pa.pop()}};function ae(I){for(;0<I.length;)I.shift()(t)}function ve(I){var R=st();return I=I(),Qe(R),I}function Fe(I){if(P)return Re(2,0,I);try{se(I)}catch(R){R instanceof Pe||R=="unwind"||A(1,R)}}t.PThread=J,t.establishStackSpace=function(){var I=Ke(),R=b()[I+44>>2>>>0];I=b()[I+48>>2>>>0],Lt(R,R-I),Qe(R)};var Me,Le,$e=[];function He(I){this.Qa=I-24,this.hb=function(R){f()[this.Qa+4>>2>>>0]=R},this.eb=function(R){f()[this.Qa+8>>2>>>0]=R},this.fb=function(){b()[this.Qa>>2>>>0]=0},this.cb=function(){c()[this.Qa+12>>0>>>0]=0},this.gb=function(){c()[this.Qa+13>>0>>>0]=0},this.Va=function(R,N){this.bb(),this.hb(R),this.eb(N),this.fb(),this.cb(),this.gb()},this.bb=function(){f()[this.Qa+16>>2>>>0]=0}}function ze(I,R,N,z){return P?Re(3,1,I,R,N,z):W(I,R,N,z)}function W(I,R,N,z){if(typeof SharedArrayBuffer>"u")return L("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var de=[];return P&&de.length===0?ze(I,R,N,z):(I={qb:N,La:I,jb:z,vb:de},P?(I.wb="spawnThread",postMessage(I,de),0):U(I))}function Ae(I,R,N){return P?Re(4,1,I,R,N):0}function ke(I,R){if(P)return Re(5,1,I,R)}function Ve(I,R){if(P)return Re(6,1,I,R)}function qe(I,R,N){if(P)return Re(7,1,I,R,N)}function ut(I,R,N){return P?Re(8,1,I,R,N):0}function lt(I,R){if(P)return Re(9,1,I,R)}function ct(I,R,N){if(P)return Re(10,1,I,R,N)}function ft(I,R,N,z){if(P)return Re(11,1,I,R,N,z)}function dt(I,R,N,z){if(P)return Re(12,1,I,R,N,z)}function pt(I,R,N,z){if(P)return Re(13,1,I,R,N,z)}function ht(I){if(P)return Re(14,1,I)}function gt(I,R){if(P)return Re(15,1,I,R)}function mt(I,R,N){if(P)return Re(16,1,I,R,N)}function Je(I){Atomics.store(b(),I>>2,1),Ke()&&Ft(I),Atomics.compareExchange(b(),I>>2,1,0)}function bt(I){return f()[I>>>2]+4294967296*b()[I+4>>>2]}function yt(I,R,N,z,de,he){return P?Re(17,1,I,R,N,z,de,he):-52}function _t(I,R,N,z,de,he){if(P)return Re(18,1,I,R,N,z,de,he)}function vt(I){var R=D(I)+1,N=ot(R);return N&&ye(I,c(),N,R),N}function wt(I,R,N){function z(Be){return(Be=Be.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Be[1]:"GMT"}if(P)return Re(19,1,I,R,N);var de=new Date().getFullYear(),he=new Date(de,0,1),Se=new Date(de,6,1);de=he.getTimezoneOffset();var je=Se.getTimezoneOffset(),Ge=Math.max(de,je);b()[I>>2>>>0]=60*Ge,b()[R>>2>>>0]=Number(de!=je),I=z(he),R=z(Se),I=vt(I),R=vt(R),je<de?(f()[N>>2>>>0]=I,f()[N+4>>2>>>0]=R):(f()[N>>2>>>0]=R,f()[N+4>>2>>>0]=I)}function Re(I,R){var N=arguments.length-2,z=arguments;return ve(()=>{for(var de=at(8*N),he=de>>3,Se=0;Se<N;Se++){var je=z[2+Se];s()[he+Se>>>0]=je}return Nt(I,N,de,R)})}t.invokeEntryPoint=function(I,R){var N=$e[I];N||(I>=$e.length&&($e.length=I+1),$e[I]=N=G.get(I)),I=N(R),ie()?J.Ya(I):Mt(I)},t.executeNotifiedProxyingQueue=Je,Le=S?()=>{var I=process.hrtime();return 1e3*I[0]+I[1]/1e6}:P?()=>performance.now()-t.__performance_now_clock_drift:()=>performance.now();var Ze,et=[],tt={};function xt(){if(!Ze){var I,R={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:T||"./this.program"};for(I in tt)tt[I]===void 0?delete R[I]:R[I]=tt[I];var N=[];for(I in R)N.push(I+"="+R[I]);Ze=N}return Ze}function Tt(I,R){if(P)return Re(20,1,I,R);var N=0;return xt().forEach(function(z,de){var he=R+N;for(de=f()[I+4*de>>2>>>0]=he,he=0;he<z.length;++he)c()[de++>>0>>>0]=z.charCodeAt(he);c()[de>>0>>>0]=0,N+=z.length+1}),0}function St(I,R){if(P)return Re(21,1,I,R);var N=xt();f()[I>>2>>>0]=N.length;var z=0;return N.forEach(function(de){z+=de.length+1}),f()[R>>2>>>0]=z,0}function At(I){return P?Re(22,1,I):52}function Ot(I,R,N,z){return P?Re(23,1,I,R,N,z):52}function Et(I,R,N,z,de){return P?Re(24,1,I,R,N,z,de):70}var nt=[null,[],[]];function rt(I,R){var N=nt[I];R===0||R===10?((I===1?C:L)(we(N,0)),N.length=0):N.push(R)}function It(I,R,N,z){if(P)return Re(25,1,I,R,N,z);for(var de=0,he=0;he<N;he++){var Se=f()[R>>2>>>0],je=f()[R+4>>2>>>0];R+=8;for(var Ge=0;Ge<je;Ge++)rt(I,m()[Se+Ge>>>0]);de+=je}return f()[z>>2>>>0]=de,0}function Ye(I){return I%4==0&&(I%100!=0||I%400==0)}var Pt=[31,29,31,30,31,30,31,31,30,31,30,31],Dt=[31,28,31,30,31,30,31,31,30,31,30,31];function Rt(I,R,N,z){function de(q,Ee,Ne){for(q=typeof q=="number"?q.toString():q||"";q.length<Ee;)q=Ne[0]+q;return q}function he(q,Ee){return de(q,Ee,"0")}function Se(q,Ee){function Ne(Ut){return 0>Ut?-1:0<Ut?1:0}var We;return(We=Ne(q.getFullYear()-Ee.getFullYear()))===0&&(We=Ne(q.getMonth()-Ee.getMonth()))===0&&(We=Ne(q.getDate()-Ee.getDate())),We}function je(q){switch(q.getDay()){case 0:return new Date(q.getFullYear()-1,11,29);case 1:return q;case 2:return new Date(q.getFullYear(),0,3);case 3:return new Date(q.getFullYear(),0,2);case 4:return new Date(q.getFullYear(),0,1);case 5:return new Date(q.getFullYear()-1,11,31);case 6:return new Date(q.getFullYear()-1,11,30)}}function Ge(q){var Ee=q.Na;for(q=new Date(new Date(q.Oa+1900,0,1).getTime());0<Ee;){var Ne=q.getMonth(),We=(Ye(q.getFullYear())?Pt:Dt)[Ne];if(!(Ee>We-q.getDate())){q.setDate(q.getDate()+Ee);break}Ee-=We-q.getDate()+1,q.setDate(1),11>Ne?q.setMonth(Ne+1):(q.setMonth(0),q.setFullYear(q.getFullYear()+1))}return Ne=new Date(q.getFullYear()+1,0,4),Ee=je(new Date(q.getFullYear(),0,4)),Ne=je(Ne),0>=Se(Ee,q)?0>=Se(Ne,q)?q.getFullYear()+1:q.getFullYear():q.getFullYear()-1}var Be=b()[z+40>>2>>>0];for(var Ue in z={tb:b()[z>>2>>>0],sb:b()[z+4>>2>>>0],Ta:b()[z+8>>2>>>0],Wa:b()[z+12>>2>>>0],Ua:b()[z+16>>2>>>0],Oa:b()[z+20>>2>>>0],Ka:b()[z+24>>2>>>0],Na:b()[z+28>>2>>>0],zb:b()[z+32>>2>>>0],rb:b()[z+36>>2>>>0],ub:Be?Te(Be):""},N=Te(N),Be={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})N=N.replace(new RegExp(Ue,"g"),Be[Ue]);var Bt="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),Vt="January February March April May June July August September October November December".split(" ");for(Ue in Be={"%a":function(q){return Bt[q.Ka].substring(0,3)},"%A":function(q){return Bt[q.Ka]},"%b":function(q){return Vt[q.Ua].substring(0,3)},"%B":function(q){return Vt[q.Ua]},"%C":function(q){return he((q.Oa+1900)/100|0,2)},"%d":function(q){return he(q.Wa,2)},"%e":function(q){return de(q.Wa,2," ")},"%g":function(q){return Ge(q).toString().substring(2)},"%G":function(q){return Ge(q)},"%H":function(q){return he(q.Ta,2)},"%I":function(q){return(q=q.Ta)==0?q=12:12<q&&(q-=12),he(q,2)},"%j":function(q){for(var Ee=0,Ne=0;Ne<=q.Ua-1;Ee+=(Ye(q.Oa+1900)?Pt:Dt)[Ne++]);return he(q.Wa+Ee,3)},"%m":function(q){return he(q.Ua+1,2)},"%M":function(q){return he(q.sb,2)},"%n":function(){return`
`},"%p":function(q){return 0<=q.Ta&&12>q.Ta?"AM":"PM"},"%S":function(q){return he(q.tb,2)},"%t":function(){return"	"},"%u":function(q){return q.Ka||7},"%U":function(q){return he(Math.floor((q.Na+7-q.Ka)/7),2)},"%V":function(q){var Ee=Math.floor((q.Na+7-(q.Ka+6)%7)/7);if(2>=(q.Ka+371-q.Na-2)%7&&Ee++,Ee)Ee==53&&((Ne=(q.Ka+371-q.Na)%7)==4||Ne==3&&Ye(q.Oa)||(Ee=1));else{Ee=52;var Ne=(q.Ka+7-q.Na-1)%7;(Ne==4||Ne==5&&Ye(q.Oa%400-1))&&Ee++}return he(Ee,2)},"%w":function(q){return q.Ka},"%W":function(q){return he(Math.floor((q.Na+7-(q.Ka+6)%7)/7),2)},"%y":function(q){return(q.Oa+1900).toString().substring(2)},"%Y":function(q){return q.Oa+1900},"%z":function(q){var Ee=0<=(q=q.rb);return q=Math.abs(q)/60,(Ee?"+":"-")+String("0000"+(q/60*100+q%60)).slice(-4)},"%Z":function(q){return q.ub},"%%":function(){return"%"}},N=N.replace(/%%/g,"\0\0"),Be)N.includes(Ue)&&(N=N.replace(new RegExp(Ue,"g"),Be[Ue](z)));return Ue=function(q){var Ee=Array(D(q)+1);return ye(q,Ee,0,Ee.length),Ee}(N=N.replace(/\0\0/g,"%")),Ue.length>R?0:(function(q,Ee){c().set(q,Ee>>>0)}(Ue,I),Ue.length-1)}J.Va();var zt=[null,te,Fe,ze,Ae,ke,Ve,qe,ut,lt,ct,ft,dt,pt,ht,gt,mt,yt,_t,wt,Tt,St,At,Ot,Et,It],Ht={b:function(I){return ot(I+24)+24},c:function(I,R,N){throw new He(I).Va(R,N),I},L:function(I){$t(I,!O,1,!E),J.$a()},m:function(I){P?postMessage({cmd:"cleanupThread",thread:I}):F(I)},D:W,i:Ae,S:ke,y:Ve,B:qe,t:ut,Q:lt,I:ct,P:ft,o:dt,z:pt,w:ht,R:gt,x:mt,q:function(){},j:function(){be("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){be("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(I,R,N,z){if(I==R)setTimeout(()=>Je(z));else if(P)postMessage({targetThread:I,cmd:"processProxyingQueue",queue:z});else{if(!(I=J.Ma[I]))return;I.postMessage({cmd:"processProxyingQueue",queue:z})}return 1},K:function(){return-1},V:function(I,R){I=new Date(1e3*bt(I)),b()[R>>2>>>0]=I.getUTCSeconds(),b()[R+4>>2>>>0]=I.getUTCMinutes(),b()[R+8>>2>>>0]=I.getUTCHours(),b()[R+12>>2>>>0]=I.getUTCDate(),b()[R+16>>2>>>0]=I.getUTCMonth(),b()[R+20>>2>>>0]=I.getUTCFullYear()-1900,b()[R+24>>2>>>0]=I.getUTCDay(),I=(I.getTime()-Date.UTC(I.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,b()[R+28>>2>>>0]=I},W:function(I,R){I=new Date(1e3*bt(I)),b()[R>>2>>>0]=I.getSeconds(),b()[R+4>>2>>>0]=I.getMinutes(),b()[R+8>>2>>>0]=I.getHours(),b()[R+12>>2>>>0]=I.getDate(),b()[R+16>>2>>>0]=I.getMonth(),b()[R+20>>2>>>0]=I.getFullYear()-1900,b()[R+24>>2>>>0]=I.getDay();var N=new Date(I.getFullYear(),0,1),z=(I.getTime()-N.getTime())/864e5|0;b()[R+28>>2>>>0]=z,b()[R+36>>2>>>0]=-60*I.getTimezoneOffset(),z=new Date(I.getFullYear(),6,1).getTimezoneOffset(),I=0|(z!=(N=N.getTimezoneOffset())&&I.getTimezoneOffset()==Math.min(N,z)),b()[R+32>>2>>>0]=I},X:function(I){var R=new Date(b()[I+20>>2>>>0]+1900,b()[I+16>>2>>>0],b()[I+12>>2>>>0],b()[I+8>>2>>>0],b()[I+4>>2>>>0],b()[I>>2>>>0],0),N=b()[I+32>>2>>>0],z=R.getTimezoneOffset(),de=new Date(R.getFullYear(),0,1),he=new Date(R.getFullYear(),6,1).getTimezoneOffset(),Se=de.getTimezoneOffset(),je=Math.min(Se,he);return 0>N?b()[I+32>>2>>>0]=Number(he!=Se&&je==z):0<N!=(je==z)&&(he=Math.max(Se,he),R.setTime(R.getTime()+6e4*((0<N?je:he)-z))),b()[I+24>>2>>>0]=R.getDay(),N=(R.getTime()-de.getTime())/864e5|0,b()[I+28>>2>>>0]=N,b()[I>>2>>>0]=R.getSeconds(),b()[I+4>>2>>>0]=R.getMinutes(),b()[I+8>>2>>>0]=R.getHours(),b()[I+12>>2>>>0]=R.getDate(),b()[I+16>>2>>>0]=R.getMonth(),R.getTime()/1e3|0},G:yt,H:_t,Y:function I(R,N,z){I.kb||(I.kb=!0,wt(R,N,z))},d:function(){be("")},n:function(){if(!S&&!O){var I="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";Me||(Me={}),Me[I]||(Me[I]=1,S&&(I="warning: "+I),L(I))}},v:function(){return 4294901760},f:Le,O:function(I,R,N){m().copyWithin(I>>>0,R>>>0,R+N>>>0)},g:function(){return S?u(3993).cpus().length:navigator.hardwareConcurrency},J:function(I,R,N){et.length=R,N>>=3;for(var z=0;z<R;z++)et[z]=s()[N+z>>>0];return(0>I?Oe[-I-1]:zt[I]).apply(null,et)},u:function(I){var R=m().length;if((I>>>=0)<=R||4294901760<I)return!1;for(var N=1;4>=N;N*=2){var z=R*(1+.2/N);z=Math.min(z,I+100663296);var de=Math;z=Math.max(I,z),de=de.min.call(de,4294901760,z+(65536-z%65536)%65536);e:{try{X.grow(de-pe.byteLength+65535>>>16),k(X.buffer);var he=1;break e}catch{}he=void 0}if(he)return!0}return!1},T:function(){throw"unwind"},M:Tt,N:St,C:se,h:At,l:Ot,s:Et,k:It,a:X||t.wasmMemory,A:Rt,e:function(I,R,N,z){return Rt(I,R,N,z)}};(function(){function I(de,he){t.asm=de.exports,J.ab.push(t.asm.wa),G=t.asm.ya,ne.unshift(t.asm.Z),me=he,P||(fe--,t.monitorRunDependencies&&t.monitorRunDependencies(fe),fe==0&&ge&&(de=ge,ge=null,de()))}function R(de){I(de.instance,de.module)}function N(de){return function(){if(!K&&(E||O)){if(typeof fetch=="function"&&!le.startsWith("file://"))return fetch(le,{credentials:"same-origin"}).then(function(he){if(!he.ok)throw"failed to load wasm binary file at '"+le+"'";return he.arrayBuffer()}).catch(function(){return Ie()});if(g)return new Promise(function(he,Se){g(le,function(je){he(new Uint8Array(je))},Se)})}return Promise.resolve().then(function(){return Ie()})}().then(function(he){return WebAssembly.instantiate(he,z)}).then(function(he){return he}).then(de,function(he){L("failed to asynchronously prepare wasm: "+he),be(he)})}var z={a:Ht};if(P||(fe++,t.monitorRunDependencies&&t.monitorRunDependencies(fe)),t.instantiateWasm)try{return t.instantiateWasm(z,I)}catch(de){return L("Module.instantiateWasm callback failed with error: "+de),!1}(K||typeof WebAssembly.instantiateStreaming!="function"||xe()||le.startsWith("file://")||S||typeof fetch!="function"?N(R):fetch(le,{credentials:"same-origin"}).then(function(de){return WebAssembly.instantiateStreaming(de,z).then(R,function(he){return L("wasm streaming compile failed: "+he),L("falling back to ArrayBuffer instantiation"),N(R)})})).catch(r)})(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.Z).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm._).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.$).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.aa).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.ba).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.ca).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.da).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.ea).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.fa).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.ga).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.ha).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.ia).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm.ja).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.ka).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.la).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ma).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.na).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.oa).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.pa).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.qa).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ra).apply(null,arguments)};var Ke=t._pthread_self=function(){return(Ke=t._pthread_self=t.asm.sa).apply(null,arguments)},ot=t._malloc=function(){return(ot=t._malloc=t.asm.ta).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ua).apply(null,arguments)};var kt=t._fflush=function(){return(kt=t._fflush=t.asm.va).apply(null,arguments)};t.__emscripten_tls_init=function(){return(t.__emscripten_tls_init=t.asm.wa).apply(null,arguments)};var Ct=t.___funcs_on_exit=function(){return(Ct=t.___funcs_on_exit=t.asm.xa).apply(null,arguments)},$t=t.__emscripten_thread_init=function(){return($t=t.__emscripten_thread_init=t.asm.za).apply(null,arguments)};t.__emscripten_thread_crashed=function(){return(t.__emscripten_thread_crashed=t.asm.Aa).apply(null,arguments)};var Xe,Nt=t._emscripten_run_in_main_runtime_thread_js=function(){return(Nt=t._emscripten_run_in_main_runtime_thread_js=t.asm.Ba).apply(null,arguments)},Ft=t.__emscripten_proxy_execute_task_queue=function(){return(Ft=t.__emscripten_proxy_execute_task_queue=t.asm.Ca).apply(null,arguments)},it=t.__emscripten_thread_free_data=function(){return(it=t.__emscripten_thread_free_data=t.asm.Da).apply(null,arguments)},Mt=t.__emscripten_thread_exit=function(){return(Mt=t.__emscripten_thread_exit=t.asm.Ea).apply(null,arguments)},Lt=t._emscripten_stack_set_limits=function(){return(Lt=t._emscripten_stack_set_limits=t.asm.Fa).apply(null,arguments)},st=t.stackSave=function(){return(st=t.stackSave=t.asm.Ga).apply(null,arguments)},Qe=t.stackRestore=function(){return(Qe=t.stackRestore=t.asm.Ha).apply(null,arguments)},at=t.stackAlloc=function(){return(at=t.stackAlloc=t.asm.Ia).apply(null,arguments)};function jt(){function I(){if(!Xe&&(Xe=!0,t.calledRun=!0,!Q)&&(P||ae(ne),e(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),!P)){if(t.postRun)for(typeof t.postRun=="function"&&(t.postRun=[t.postRun]);t.postRun.length;){var R=t.postRun.shift();re.unshift(R)}ae(re)}}if(!(0<fe))if(P)e(t),P||ae(ne),postMessage({cmd:"loaded"});else{if(t.preRun)for(typeof t.preRun=="function"&&(t.preRun=[t.preRun]);t.preRun.length;)Z();ae(Y),0<fe||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),I()},1)):I())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.Ja).apply(null,arguments)},t.UTF8ToString=Te,t.stringToUTF8=function(I,R,N){return ye(I,m(),R,N)},t.lengthBytesUTF8=D,t.keepRuntimeAlive=ie,t.wasmMemory=X,t.stackSave=st,t.stackRestore=Qe,t.stackAlloc=at,t.ExitStatus=Pe,t.PThread=J,ge=function I(){Xe||jt(),Xe||(ge=I)},t.preInit)for(typeof t.preInit=="function"&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return jt(),d.ready});o.exports=a},5118:o=>{o.exports=`"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};
`},932:(o,n,u)=>{var l,a=(l=(l=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(d){var c,m,b;d=d||{},c||(c=d!==void 0?d:{}),c.ready=new Promise(function(F,U){m=F,b=U});var f,s,t,e,r,i,g=Object.assign({},c),y="./this.program",_=typeof window=="object",v=typeof importScripts=="function",w=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",x="";w?(x=v?u(908).dirname(x)+"/":"//",i=()=>{r||(e=u(1384),r=u(908))},f=function(F,U){return i(),F=r.normalize(F),e.readFileSync(F,U?void 0:"utf8")},t=F=>((F=f(F,!0)).buffer||(F=new Uint8Array(F)),F),s=(F,U,te)=>{i(),F=r.normalize(F),e.readFile(F,function(se,J){se?te(se):U(J.buffer)})},1<process.argv.length&&(y=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(F){throw F}),process.on("unhandledRejection",function(F){throw F}),c.inspect=function(){return"[Emscripten Module object]"}):(_||v)&&(v?x=self.location.href:typeof document<"u"&&document.currentScript&&(x=document.currentScript.src),l&&(x=l),x=x.indexOf("blob:")!==0?x.substr(0,x.replace(/[?#].*/,"").lastIndexOf("/")+1):"",f=F=>{var U=new XMLHttpRequest;return U.open("GET",F,!1),U.send(null),U.responseText},v&&(t=F=>{var U=new XMLHttpRequest;return U.open("GET",F,!1),U.responseType="arraybuffer",U.send(null),new Uint8Array(U.response)}),s=(F,U,te)=>{var se=new XMLHttpRequest;se.open("GET",F,!0),se.responseType="arraybuffer",se.onload=()=>{se.status==200||se.status==0&&se.response?U(se.response):te()},se.onerror=te,se.send(null)});var T,A=c.print||console.log.bind(console),E=c.printErr||console.warn.bind(console);Object.assign(c,g),g=null,c.thisProgram&&(y=c.thisProgram),c.wasmBinary&&(T=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&ce("no native wasm support detected");var O,S,P,$,M,j,H=!1,K=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function C(F,U,te){var se=(U>>>=0)+te;for(te=U;F[te]&&!(te>=se);)++te;if(16<te-U&&F.buffer&&K)return K.decode(F.subarray(U,te));for(se="";U<te;){var J=F[U++];if(128&J){var ae=63&F[U++];if((224&J)==192)se+=String.fromCharCode((31&J)<<6|ae);else{var ve=63&F[U++];65536>(J=(240&J)==224?(15&J)<<12|ae<<6|ve:(7&J)<<18|ae<<12|ve<<6|63&F[U++])?se+=String.fromCharCode(J):(J-=65536,se+=String.fromCharCode(55296|J>>10,56320|1023&J))}}else se+=String.fromCharCode(J)}return se}function L(F,U){return(F>>>=0)?C($,F,U):""}function oe(F,U,te,se){if(!(0<se))return 0;var J=te>>>=0;se=te+se-1;for(var ae=0;ae<F.length;++ae){var ve=F.charCodeAt(ae);if(55296<=ve&&57343>=ve&&(ve=65536+((1023&ve)<<10)|1023&F.charCodeAt(++ae)),127>=ve){if(te>=se)break;U[te++>>>0]=ve}else{if(2047>=ve){if(te+1>=se)break;U[te++>>>0]=192|ve>>6}else{if(65535>=ve){if(te+2>=se)break;U[te++>>>0]=224|ve>>12}else{if(te+3>=se)break;U[te++>>>0]=240|ve>>18,U[te++>>>0]=128|ve>>12&63}U[te++>>>0]=128|ve>>6&63}U[te++>>>0]=128|63&ve}}return U[te>>>0]=0,te-J}function X(F){for(var U=0,te=0;te<F.length;++te){var se=F.charCodeAt(te);127>=se?U++:2047>=se?U+=2:55296<=se&&57343>=se?(U+=4,++te):U+=3}return U}function me(){var F=O.buffer;S=F,c.HEAP8=P=new Int8Array(F),c.HEAP16=new Int16Array(F),c.HEAP32=M=new Int32Array(F),c.HEAPU8=$=new Uint8Array(F),c.HEAPU16=new Uint16Array(F),c.HEAPU32=j=new Uint32Array(F),c.HEAPF32=new Float32Array(F),c.HEAPF64=new Float64Array(F)}var pe=[],_e=[],Ce=[];function De(){var F=c.preRun.shift();pe.unshift(F)}var V,ee=0,Q=null;function ce(F){throw c.onAbort&&c.onAbort(F),E(F="Aborted("+F+")"),H=!0,F=new WebAssembly.RuntimeError(F+". Build with -sASSERTIONS for more info."),b(F),F}function we(){return V.startsWith("data:application/octet-stream;base64,")}if(V="ort-wasm.wasm",!we()){var Te=V;V=c.locateFile?c.locateFile(Te,x):x+Te}function ye(){var F=V;try{if(F==V&&T)return new Uint8Array(T);if(t)return t(F);throw"both async and sync fetching of the wasm failed"}catch(U){ce(U)}}function D(F){for(;0<F.length;)F.shift()(c)}function k(F){this.ra=F-24,this.Ga=function(U){j[this.ra+4>>2>>>0]=U},this.za=function(U){j[this.ra+8>>2>>>0]=U},this.Aa=function(){M[this.ra>>2>>>0]=0},this.ya=function(){P[this.ra+12>>0>>>0]=0},this.Fa=function(){P[this.ra+13>>0>>>0]=0},this.wa=function(U,te){this.xa(),this.Ga(U),this.za(te),this.Aa(),this.ya(),this.Fa()},this.xa=function(){j[this.ra+16>>2>>>0]=0}}function B(F){var U=X(F)+1,te=ge(U);return te&&oe(F,P,te,U),te}var G={};function Y(){if(!ne){var F,U={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(F in G)G[F]===void 0?delete U[F]:U[F]=G[F];var te=[];for(F in U)te.push(F+"="+U[F]);ne=te}return ne}var ne,ue=[null,[],[]];function re(F){return F%4==0&&(F%100!=0||F%400==0)}var ie=[31,29,31,30,31,30,31,31,30,31,30,31],Z=[31,28,31,30,31,30,31,31,30,31,30,31];function le(F,U,te,se){function J(W,Ae,ke){for(W=typeof W=="number"?W.toString():W||"";W.length<Ae;)W=ke[0]+W;return W}function ae(W,Ae){return J(W,Ae,"0")}function ve(W,Ae){function ke(qe){return 0>qe?-1:0<qe?1:0}var Ve;return(Ve=ke(W.getFullYear()-Ae.getFullYear()))===0&&(Ve=ke(W.getMonth()-Ae.getMonth()))===0&&(Ve=ke(W.getDate()-Ae.getDate())),Ve}function Fe(W){switch(W.getDay()){case 0:return new Date(W.getFullYear()-1,11,29);case 1:return W;case 2:return new Date(W.getFullYear(),0,3);case 3:return new Date(W.getFullYear(),0,2);case 4:return new Date(W.getFullYear(),0,1);case 5:return new Date(W.getFullYear()-1,11,31);case 6:return new Date(W.getFullYear()-1,11,30)}}function Me(W){var Ae=W.pa;for(W=new Date(new Date(W.qa+1900,0,1).getTime());0<Ae;){var ke=W.getMonth(),Ve=(re(W.getFullYear())?ie:Z)[ke];if(!(Ae>Ve-W.getDate())){W.setDate(W.getDate()+Ae);break}Ae-=Ve-W.getDate()+1,W.setDate(1),11>ke?W.setMonth(ke+1):(W.setMonth(0),W.setFullYear(W.getFullYear()+1))}return ke=new Date(W.getFullYear()+1,0,4),Ae=Fe(new Date(W.getFullYear(),0,4)),ke=Fe(ke),0>=ve(Ae,W)?0>=ve(ke,W)?W.getFullYear()+1:W.getFullYear():W.getFullYear()-1}var Le=M[se+40>>2>>>0];for(var $e in se={Da:M[se>>2>>>0],Ca:M[se+4>>2>>>0],sa:M[se+8>>2>>>0],ua:M[se+12>>2>>>0],ta:M[se+16>>2>>>0],qa:M[se+20>>2>>>0],ka:M[se+24>>2>>>0],pa:M[se+28>>2>>>0],Ha:M[se+32>>2>>>0],Ba:M[se+36>>2>>>0],Ea:Le?L(Le):""},te=L(te),Le={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})te=te.replace(new RegExp($e,"g"),Le[$e]);var He="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ze="January February March April May June July August September October November December".split(" ");for($e in Le={"%a":function(W){return He[W.ka].substring(0,3)},"%A":function(W){return He[W.ka]},"%b":function(W){return ze[W.ta].substring(0,3)},"%B":function(W){return ze[W.ta]},"%C":function(W){return ae((W.qa+1900)/100|0,2)},"%d":function(W){return ae(W.ua,2)},"%e":function(W){return J(W.ua,2," ")},"%g":function(W){return Me(W).toString().substring(2)},"%G":function(W){return Me(W)},"%H":function(W){return ae(W.sa,2)},"%I":function(W){return(W=W.sa)==0?W=12:12<W&&(W-=12),ae(W,2)},"%j":function(W){for(var Ae=0,ke=0;ke<=W.ta-1;Ae+=(re(W.qa+1900)?ie:Z)[ke++]);return ae(W.ua+Ae,3)},"%m":function(W){return ae(W.ta+1,2)},"%M":function(W){return ae(W.Ca,2)},"%n":function(){return`
`},"%p":function(W){return 0<=W.sa&&12>W.sa?"AM":"PM"},"%S":function(W){return ae(W.Da,2)},"%t":function(){return"	"},"%u":function(W){return W.ka||7},"%U":function(W){return ae(Math.floor((W.pa+7-W.ka)/7),2)},"%V":function(W){var Ae=Math.floor((W.pa+7-(W.ka+6)%7)/7);if(2>=(W.ka+371-W.pa-2)%7&&Ae++,Ae)Ae==53&&((ke=(W.ka+371-W.pa)%7)==4||ke==3&&re(W.qa)||(Ae=1));else{Ae=52;var ke=(W.ka+7-W.pa-1)%7;(ke==4||ke==5&&re(W.qa%400-1))&&Ae++}return ae(Ae,2)},"%w":function(W){return W.ka},"%W":function(W){return ae(Math.floor((W.pa+7-(W.ka+6)%7)/7),2)},"%y":function(W){return(W.qa+1900).toString().substring(2)},"%Y":function(W){return W.qa+1900},"%z":function(W){var Ae=0<=(W=W.Ba);return W=Math.abs(W)/60,(Ae?"+":"-")+String("0000"+(W/60*100+W%60)).slice(-4)},"%Z":function(W){return W.Ea},"%%":function(){return"%"}},te=te.replace(/%%/g,"\0\0"),Le)te.includes($e)&&(te=te.replace(new RegExp($e,"g"),Le[$e](se)));return $e=function(W){var Ae=Array(X(W)+1);return oe(W,Ae,0,Ae.length),Ae}(te=te.replace(/\0\0/g,"%")),$e.length>U?0:(P.set($e,F>>>0),$e.length-1)}var fe={a:function(F){return ge(F+24)+24},b:function(F,U,te){throw new k(F).wa(U,te),F},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){ce("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){ce("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(F,U){F=new Date(1e3*(j[F>>>2]+4294967296*M[F+4>>>2])),M[U>>2>>>0]=F.getUTCSeconds(),M[U+4>>2>>>0]=F.getUTCMinutes(),M[U+8>>2>>>0]=F.getUTCHours(),M[U+12>>2>>>0]=F.getUTCDate(),M[U+16>>2>>>0]=F.getUTCMonth(),M[U+20>>2>>>0]=F.getUTCFullYear()-1900,M[U+24>>2>>>0]=F.getUTCDay(),M[U+28>>2>>>0]=(F.getTime()-Date.UTC(F.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(F,U){F=new Date(1e3*(j[F>>>2]+4294967296*M[F+4>>>2])),M[U>>2>>>0]=F.getSeconds(),M[U+4>>2>>>0]=F.getMinutes(),M[U+8>>2>>>0]=F.getHours(),M[U+12>>2>>>0]=F.getDate(),M[U+16>>2>>>0]=F.getMonth(),M[U+20>>2>>>0]=F.getFullYear()-1900,M[U+24>>2>>>0]=F.getDay();var te=new Date(F.getFullYear(),0,1);M[U+28>>2>>>0]=(F.getTime()-te.getTime())/864e5|0,M[U+36>>2>>>0]=-60*F.getTimezoneOffset();var se=new Date(F.getFullYear(),6,1).getTimezoneOffset();te=te.getTimezoneOffset(),M[U+32>>2>>>0]=0|(se!=te&&F.getTimezoneOffset()==Math.min(te,se))},m:function(F){var U=new Date(M[F+20>>2>>>0]+1900,M[F+16>>2>>>0],M[F+12>>2>>>0],M[F+8>>2>>>0],M[F+4>>2>>>0],M[F>>2>>>0],0),te=M[F+32>>2>>>0],se=U.getTimezoneOffset(),J=new Date(U.getFullYear(),0,1),ae=new Date(U.getFullYear(),6,1).getTimezoneOffset(),ve=J.getTimezoneOffset(),Fe=Math.min(ve,ae);return 0>te?M[F+32>>2>>>0]=Number(ae!=ve&&Fe==se):0<te!=(Fe==se)&&(ae=Math.max(ve,ae),U.setTime(U.getTime()+6e4*((0<te?Fe:ae)-se))),M[F+24>>2>>>0]=U.getDay(),M[F+28>>2>>>0]=(U.getTime()-J.getTime())/864e5|0,M[F>>2>>>0]=U.getSeconds(),M[F+4>>2>>>0]=U.getMinutes(),M[F+8>>2>>>0]=U.getHours(),M[F+12>>2>>>0]=U.getDate(),M[F+16>>2>>>0]=U.getMonth(),U.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function F(U,te,se){F.va||(F.va=!0,function(J,ae,ve){function Fe(ze){return(ze=ze.toTimeString().match(/\(([A-Za-z ]+)\)$/))?ze[1]:"GMT"}var Me=new Date().getFullYear(),Le=new Date(Me,0,1),$e=new Date(Me,6,1);Me=Le.getTimezoneOffset();var He=$e.getTimezoneOffset();M[J>>2>>>0]=60*Math.max(Me,He),M[ae>>2>>>0]=Number(Me!=He),J=Fe(Le),ae=Fe($e),J=B(J),ae=B(ae),He<Me?(j[ve>>2>>>0]=J,j[ve+4>>2>>>0]=ae):(j[ve>>2>>>0]=ae,j[ve+4>>2>>>0]=J)}(U,te,se))},d:function(){ce("")},t:function(){return 4294901760},h:w?()=>{var F=process.hrtime();return 1e3*F[0]+F[1]/1e6}:()=>performance.now(),F:function(F,U,te){$.copyWithin(F>>>0,U>>>0,U+te>>>0)},f:function(F){var U=$.length;if(4294901760<(F>>>=0))return!1;for(var te=1;4>=te;te*=2){var se=U*(1+.2/te);se=Math.min(se,F+100663296);var J=Math;se=Math.max(F,se),J=J.min.call(J,4294901760,se+(65536-se%65536)%65536);e:{try{O.grow(J-S.byteLength+65535>>>16),me();var ae=1;break e}catch{}ae=void 0}if(ae)return!0}return!1},D:function(F,U){var te=0;return Y().forEach(function(se,J){var ae=U+te;for(J=j[F+4*J>>2>>>0]=ae,ae=0;ae<se.length;++ae)P[J++>>0>>>0]=se.charCodeAt(ae);P[J>>0>>>0]=0,te+=se.length+1}),0},E:function(F,U){var te=Y();j[F>>2>>>0]=te.length;var se=0;return te.forEach(function(J){se+=J.length+1}),j[U>>2>>>0]=se,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(F,U,te,se){for(var J=0,ae=0;ae<te;ae++){var ve=j[U>>2>>>0],Fe=j[U+4>>2>>>0];U+=8;for(var Me=0;Me<Fe;Me++){var Le=$[ve+Me>>>0],$e=ue[F];Le===0||Le===10?((F===1?A:E)(C($e,0)),$e.length=0):$e.push(Le)}J+=Fe}return j[se>>2>>>0]=J,0},x:le,c:function(F,U,te,se){return le(F,U,te,se)}};(function(){function F(J){c.asm=J.exports,O=c.asm.N,me(),_e.unshift(c.asm.O),ee--,c.monitorRunDependencies&&c.monitorRunDependencies(ee),ee==0&&Q&&(J=Q,Q=null,J())}function U(J){F(J.instance)}function te(J){return function(){if(!T&&(_||v)){if(typeof fetch=="function"&&!V.startsWith("file://"))return fetch(V,{credentials:"same-origin"}).then(function(ae){if(!ae.ok)throw"failed to load wasm binary file at '"+V+"'";return ae.arrayBuffer()}).catch(function(){return ye()});if(s)return new Promise(function(ae,ve){s(V,function(Fe){ae(new Uint8Array(Fe))},ve)})}return Promise.resolve().then(function(){return ye()})}().then(function(ae){return WebAssembly.instantiate(ae,se)}).then(function(ae){return ae}).then(J,function(ae){E("failed to asynchronously prepare wasm: "+ae),ce(ae)})}var se={a:fe};if(ee++,c.monitorRunDependencies&&c.monitorRunDependencies(ee),c.instantiateWasm)try{return c.instantiateWasm(se,F)}catch(J){return E("Module.instantiateWasm callback failed with error: "+J),!1}(T||typeof WebAssembly.instantiateStreaming!="function"||we()||V.startsWith("file://")||w||typeof fetch!="function"?te(U):fetch(V,{credentials:"same-origin"}).then(function(J){return WebAssembly.instantiateStreaming(J,se).then(U,function(ae){return E("wasm streaming compile failed: "+ae),E("falling back to ArrayBuffer instantiation"),te(U)})})).catch(b)})(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.O).apply(null,arguments)},c._OrtInit=function(){return(c._OrtInit=c.asm.P).apply(null,arguments)},c._OrtCreateSessionOptions=function(){return(c._OrtCreateSessionOptions=c.asm.Q).apply(null,arguments)},c._OrtAppendExecutionProvider=function(){return(c._OrtAppendExecutionProvider=c.asm.R).apply(null,arguments)},c._OrtAddSessionConfigEntry=function(){return(c._OrtAddSessionConfigEntry=c.asm.S).apply(null,arguments)},c._OrtReleaseSessionOptions=function(){return(c._OrtReleaseSessionOptions=c.asm.T).apply(null,arguments)},c._OrtCreateSession=function(){return(c._OrtCreateSession=c.asm.U).apply(null,arguments)},c._OrtReleaseSession=function(){return(c._OrtReleaseSession=c.asm.V).apply(null,arguments)},c._OrtGetInputCount=function(){return(c._OrtGetInputCount=c.asm.W).apply(null,arguments)},c._OrtGetOutputCount=function(){return(c._OrtGetOutputCount=c.asm.X).apply(null,arguments)},c._OrtGetInputName=function(){return(c._OrtGetInputName=c.asm.Y).apply(null,arguments)},c._OrtGetOutputName=function(){return(c._OrtGetOutputName=c.asm.Z).apply(null,arguments)},c._OrtFree=function(){return(c._OrtFree=c.asm._).apply(null,arguments)},c._OrtCreateTensor=function(){return(c._OrtCreateTensor=c.asm.$).apply(null,arguments)},c._OrtGetTensorData=function(){return(c._OrtGetTensorData=c.asm.aa).apply(null,arguments)},c._OrtReleaseTensor=function(){return(c._OrtReleaseTensor=c.asm.ba).apply(null,arguments)},c._OrtCreateRunOptions=function(){return(c._OrtCreateRunOptions=c.asm.ca).apply(null,arguments)},c._OrtAddRunConfigEntry=function(){return(c._OrtAddRunConfigEntry=c.asm.da).apply(null,arguments)},c._OrtReleaseRunOptions=function(){return(c._OrtReleaseRunOptions=c.asm.ea).apply(null,arguments)},c._OrtRun=function(){return(c._OrtRun=c.asm.fa).apply(null,arguments)},c._OrtEndProfiling=function(){return(c._OrtEndProfiling=c.asm.ga).apply(null,arguments)};var ge=c._malloc=function(){return(ge=c._malloc=c.asm.ha).apply(null,arguments)};c._free=function(){return(c._free=c.asm.ia).apply(null,arguments)},c._fflush=function(){return(c._fflush=c.asm.ja).apply(null,arguments)};var be,xe=c.stackSave=function(){return(xe=c.stackSave=c.asm.la).apply(null,arguments)},Ie=c.stackRestore=function(){return(Ie=c.stackRestore=c.asm.ma).apply(null,arguments)},Oe=c.stackAlloc=function(){return(Oe=c.stackAlloc=c.asm.na).apply(null,arguments)};function Pe(){function F(){if(!be&&(be=!0,c.calledRun=!0,!H)){if(D(_e),m(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var U=c.postRun.shift();Ce.unshift(U)}D(Ce)}}if(!(0<ee)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)De();D(pe),0<ee||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),F()},1)):F())}}if(c.___cxa_is_pointer_type=function(){return(c.___cxa_is_pointer_type=c.asm.oa).apply(null,arguments)},c.UTF8ToString=L,c.stringToUTF8=function(F,U,te){return oe(F,$,U,te)},c.lengthBytesUTF8=X,c.stackSave=xe,c.stackRestore=Ie,c.stackAlloc=Oe,Q=function F(){be||Pe(),be||(Q=F)},c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Pe(),d.ready});o.exports=a},4537:o=>{o.exports=function(n,u){for(var l=new Array(arguments.length-1),a=0,d=2,c=!0;d<arguments.length;)l[a++]=arguments[d++];return new Promise(function(m,b){l[a]=function(f){if(c)if(c=!1,f)b(f);else{for(var s=new Array(arguments.length-1),t=0;t<s.length;)s[t++]=arguments[t];m.apply(null,s)}};try{n.apply(u||null,l)}catch(f){c&&(c=!1,b(f))}})}},7419:(o,n)=>{var u=n;u.length=function(m){var b=m.length;if(!b)return 0;for(var f=0;--b%4>1&&m.charAt(b)==="=";)++f;return Math.ceil(3*m.length)/4-f};for(var l=new Array(64),a=new Array(123),d=0;d<64;)a[l[d]=d<26?d+65:d<52?d+71:d<62?d-4:d-59|43]=d++;u.encode=function(m,b,f){for(var s,t=null,e=[],r=0,i=0;b<f;){var g=m[b++];switch(i){case 0:e[r++]=l[g>>2],s=(3&g)<<4,i=1;break;case 1:e[r++]=l[s|g>>4],s=(15&g)<<2,i=2;break;case 2:e[r++]=l[s|g>>6],e[r++]=l[63&g],i=0}r>8191&&((t||(t=[])).push(String.fromCharCode.apply(String,e)),r=0)}return i&&(e[r++]=l[s],e[r++]=61,i===1&&(e[r++]=61)),t?(r&&t.push(String.fromCharCode.apply(String,e.slice(0,r))),t.join("")):String.fromCharCode.apply(String,e.slice(0,r))};var c="invalid encoding";u.decode=function(m,b,f){for(var s,t=f,e=0,r=0;r<m.length;){var i=m.charCodeAt(r++);if(i===61&&e>1)break;if((i=a[i])===void 0)throw Error(c);switch(e){case 0:s=i,e=1;break;case 1:b[f++]=s<<2|(48&i)>>4,s=i,e=2;break;case 2:b[f++]=(15&s)<<4|(60&i)>>2,s=i,e=3;break;case 3:b[f++]=(3&s)<<6|i,e=0}}if(e===1)throw Error(c);return f-t},u.test=function(m){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(m)}},9211:o=>{function n(){this._listeners={}}o.exports=n,n.prototype.on=function(u,l,a){return(this._listeners[u]||(this._listeners[u]=[])).push({fn:l,ctx:a||this}),this},n.prototype.off=function(u,l){if(u===void 0)this._listeners={};else if(l===void 0)this._listeners[u]=[];else for(var a=this._listeners[u],d=0;d<a.length;)a[d].fn===l?a.splice(d,1):++d;return this},n.prototype.emit=function(u){var l=this._listeners[u];if(l){for(var a=[],d=1;d<arguments.length;)a.push(arguments[d++]);for(d=0;d<l.length;)l[d].fn.apply(l[d++].ctx,a)}return this}},945:o=>{function n(c){return typeof Float32Array<"u"?function(){var m=new Float32Array([-0]),b=new Uint8Array(m.buffer),f=b[3]===128;function s(i,g,y){m[0]=i,g[y]=b[0],g[y+1]=b[1],g[y+2]=b[2],g[y+3]=b[3]}function t(i,g,y){m[0]=i,g[y]=b[3],g[y+1]=b[2],g[y+2]=b[1],g[y+3]=b[0]}function e(i,g){return b[0]=i[g],b[1]=i[g+1],b[2]=i[g+2],b[3]=i[g+3],m[0]}function r(i,g){return b[3]=i[g],b[2]=i[g+1],b[1]=i[g+2],b[0]=i[g+3],m[0]}c.writeFloatLE=f?s:t,c.writeFloatBE=f?t:s,c.readFloatLE=f?e:r,c.readFloatBE=f?r:e}():function(){function m(f,s,t,e){var r=s<0?1:0;if(r&&(s=-s),s===0)f(1/s>0?0:2147483648,t,e);else if(isNaN(s))f(2143289344,t,e);else if(s>34028234663852886e22)f((r<<31|2139095040)>>>0,t,e);else if(s<11754943508222875e-54)f((r<<31|Math.round(s/1401298464324817e-60))>>>0,t,e);else{var i=Math.floor(Math.log(s)/Math.LN2);f((r<<31|i+127<<23|8388607&Math.round(s*Math.pow(2,-i)*8388608))>>>0,t,e)}}function b(f,s,t){var e=f(s,t),r=2*(e>>31)+1,i=e>>>23&255,g=8388607&e;return i===255?g?NaN:r*(1/0):i===0?1401298464324817e-60*r*g:r*Math.pow(2,i-150)*(g+8388608)}c.writeFloatLE=m.bind(null,u),c.writeFloatBE=m.bind(null,l),c.readFloatLE=b.bind(null,a),c.readFloatBE=b.bind(null,d)}(),typeof Float64Array<"u"?function(){var m=new Float64Array([-0]),b=new Uint8Array(m.buffer),f=b[7]===128;function s(i,g,y){m[0]=i,g[y]=b[0],g[y+1]=b[1],g[y+2]=b[2],g[y+3]=b[3],g[y+4]=b[4],g[y+5]=b[5],g[y+6]=b[6],g[y+7]=b[7]}function t(i,g,y){m[0]=i,g[y]=b[7],g[y+1]=b[6],g[y+2]=b[5],g[y+3]=b[4],g[y+4]=b[3],g[y+5]=b[2],g[y+6]=b[1],g[y+7]=b[0]}function e(i,g){return b[0]=i[g],b[1]=i[g+1],b[2]=i[g+2],b[3]=i[g+3],b[4]=i[g+4],b[5]=i[g+5],b[6]=i[g+6],b[7]=i[g+7],m[0]}function r(i,g){return b[7]=i[g],b[6]=i[g+1],b[5]=i[g+2],b[4]=i[g+3],b[3]=i[g+4],b[2]=i[g+5],b[1]=i[g+6],b[0]=i[g+7],m[0]}c.writeDoubleLE=f?s:t,c.writeDoubleBE=f?t:s,c.readDoubleLE=f?e:r,c.readDoubleBE=f?r:e}():function(){function m(f,s,t,e,r,i){var g=e<0?1:0;if(g&&(e=-e),e===0)f(0,r,i+s),f(1/e>0?0:2147483648,r,i+t);else if(isNaN(e))f(0,r,i+s),f(2146959360,r,i+t);else if(e>17976931348623157e292)f(0,r,i+s),f((g<<31|2146435072)>>>0,r,i+t);else{var y;if(e<22250738585072014e-324)f((y=e/5e-324)>>>0,r,i+s),f((g<<31|y/4294967296)>>>0,r,i+t);else{var _=Math.floor(Math.log(e)/Math.LN2);_===1024&&(_=1023),f(4503599627370496*(y=e*Math.pow(2,-_))>>>0,r,i+s),f((g<<31|_+1023<<20|1048576*y&1048575)>>>0,r,i+t)}}}function b(f,s,t,e,r){var i=f(e,r+s),g=f(e,r+t),y=2*(g>>31)+1,_=g>>>20&2047,v=4294967296*(1048575&g)+i;return _===2047?v?NaN:y*(1/0):_===0?5e-324*y*v:y*Math.pow(2,_-1075)*(v+4503599627370496)}c.writeDoubleLE=m.bind(null,u,0,4),c.writeDoubleBE=m.bind(null,l,4,0),c.readDoubleLE=b.bind(null,a,0,4),c.readDoubleBE=b.bind(null,d,4,0)}(),c}function u(c,m,b){m[b]=255&c,m[b+1]=c>>>8&255,m[b+2]=c>>>16&255,m[b+3]=c>>>24}function l(c,m,b){m[b]=c>>>24,m[b+1]=c>>>16&255,m[b+2]=c>>>8&255,m[b+3]=255&c}function a(c,m){return(c[m]|c[m+1]<<8|c[m+2]<<16|c[m+3]<<24)>>>0}function d(c,m){return(c[m]<<24|c[m+1]<<16|c[m+2]<<8|c[m+3])>>>0}o.exports=n(n)},7199:module=>{function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(o){}return null}module.exports=inquire},6662:o=>{o.exports=function(n,u,l){var a=l||8192,d=a>>>1,c=null,m=a;return function(b){if(b<1||b>d)return n(b);m+b>a&&(c=n(a),m=0);var f=u.call(c,m,m+=b);return 7&m&&(m=1+(7|m)),f}}},4997:(o,n)=>{var u=n;u.length=function(l){for(var a=0,d=0,c=0;c<l.length;++c)(d=l.charCodeAt(c))<128?a+=1:d<2048?a+=2:(64512&d)==55296&&(64512&l.charCodeAt(c+1))==56320?(++c,a+=4):a+=3;return a},u.read=function(l,a,d){if(d-a<1)return"";for(var c,m=null,b=[],f=0;a<d;)(c=l[a++])<128?b[f++]=c:c>191&&c<224?b[f++]=(31&c)<<6|63&l[a++]:c>239&&c<365?(c=((7&c)<<18|(63&l[a++])<<12|(63&l[a++])<<6|63&l[a++])-65536,b[f++]=55296+(c>>10),b[f++]=56320+(1023&c)):b[f++]=(15&c)<<12|(63&l[a++])<<6|63&l[a++],f>8191&&((m||(m=[])).push(String.fromCharCode.apply(String,b)),f=0);return m?(f&&m.push(String.fromCharCode.apply(String,b.slice(0,f))),m.join("")):String.fromCharCode.apply(String,b.slice(0,f))},u.write=function(l,a,d){for(var c,m,b=d,f=0;f<l.length;++f)(c=l.charCodeAt(f))<128?a[d++]=c:c<2048?(a[d++]=c>>6|192,a[d++]=63&c|128):(64512&c)==55296&&(64512&(m=l.charCodeAt(f+1)))==56320?(c=65536+((1023&c)<<10)+(1023&m),++f,a[d++]=c>>18|240,a[d++]=c>>12&63|128,a[d++]=c>>6&63|128,a[d++]=63&c|128):(a[d++]=c>>12|224,a[d++]=c>>6&63|128,a[d++]=63&c|128);return d-b}},4819:(o,n,u)=>{u.r(n),u.d(n,{flatbuffers:()=>l});var l={};l.Offset,l.Table,l.SIZEOF_SHORT=2,l.SIZEOF_INT=4,l.FILE_IDENTIFIER_LENGTH=4,l.SIZE_PREFIX_LENGTH=4,l.Encoding={UTF8_BYTES:1,UTF16_STRING:2},l.int32=new Int32Array(2),l.float32=new Float32Array(l.int32.buffer),l.float64=new Float64Array(l.int32.buffer),l.isLittleEndian=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1,l.Long=function(a,d){this.low=0|a,this.high=0|d},l.Long.create=function(a,d){return a==0&&d==0?l.Long.ZERO:new l.Long(a,d)},l.Long.prototype.toFloat64=function(){return(this.low>>>0)+4294967296*this.high},l.Long.prototype.equals=function(a){return this.low==a.low&&this.high==a.high},l.Long.ZERO=new l.Long(0,0),l.Builder=function(a){if(a)d=a;else var d=1024;this.bb=l.ByteBuffer.allocate(d),this.space=d,this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},l.Builder.prototype.clear=function(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1},l.Builder.prototype.forceDefaults=function(a){this.force_defaults=a},l.Builder.prototype.dataBuffer=function(){return this.bb},l.Builder.prototype.asUint8Array=function(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())},l.Builder.prototype.prep=function(a,d){a>this.minalign&&(this.minalign=a);for(var c=1+~(this.bb.capacity()-this.space+d)&a-1;this.space<c+a+d;){var m=this.bb.capacity();this.bb=l.Builder.growByteBuffer(this.bb),this.space+=this.bb.capacity()-m}this.pad(c)},l.Builder.prototype.pad=function(a){for(var d=0;d<a;d++)this.bb.writeInt8(--this.space,0)},l.Builder.prototype.writeInt8=function(a){this.bb.writeInt8(this.space-=1,a)},l.Builder.prototype.writeInt16=function(a){this.bb.writeInt16(this.space-=2,a)},l.Builder.prototype.writeInt32=function(a){this.bb.writeInt32(this.space-=4,a)},l.Builder.prototype.writeInt64=function(a){this.bb.writeInt64(this.space-=8,a)},l.Builder.prototype.writeFloat32=function(a){this.bb.writeFloat32(this.space-=4,a)},l.Builder.prototype.writeFloat64=function(a){this.bb.writeFloat64(this.space-=8,a)},l.Builder.prototype.addInt8=function(a){this.prep(1,0),this.writeInt8(a)},l.Builder.prototype.addInt16=function(a){this.prep(2,0),this.writeInt16(a)},l.Builder.prototype.addInt32=function(a){this.prep(4,0),this.writeInt32(a)},l.Builder.prototype.addInt64=function(a){this.prep(8,0),this.writeInt64(a)},l.Builder.prototype.addFloat32=function(a){this.prep(4,0),this.writeFloat32(a)},l.Builder.prototype.addFloat64=function(a){this.prep(8,0),this.writeFloat64(a)},l.Builder.prototype.addFieldInt8=function(a,d,c){(this.force_defaults||d!=c)&&(this.addInt8(d),this.slot(a))},l.Builder.prototype.addFieldInt16=function(a,d,c){(this.force_defaults||d!=c)&&(this.addInt16(d),this.slot(a))},l.Builder.prototype.addFieldInt32=function(a,d,c){(this.force_defaults||d!=c)&&(this.addInt32(d),this.slot(a))},l.Builder.prototype.addFieldInt64=function(a,d,c){!this.force_defaults&&d.equals(c)||(this.addInt64(d),this.slot(a))},l.Builder.prototype.addFieldFloat32=function(a,d,c){(this.force_defaults||d!=c)&&(this.addFloat32(d),this.slot(a))},l.Builder.prototype.addFieldFloat64=function(a,d,c){(this.force_defaults||d!=c)&&(this.addFloat64(d),this.slot(a))},l.Builder.prototype.addFieldOffset=function(a,d,c){(this.force_defaults||d!=c)&&(this.addOffset(d),this.slot(a))},l.Builder.prototype.addFieldStruct=function(a,d,c){d!=c&&(this.nested(d),this.slot(a))},l.Builder.prototype.nested=function(a){if(a!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")},l.Builder.prototype.notNested=function(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")},l.Builder.prototype.slot=function(a){this.vtable[a]=this.offset()},l.Builder.prototype.offset=function(){return this.bb.capacity()-this.space},l.Builder.growByteBuffer=function(a){var d=a.capacity();if(3221225472&d)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");var c=d<<1,m=l.ByteBuffer.allocate(c);return m.setPosition(c-d),m.bytes().set(a.bytes(),c-d),m},l.Builder.prototype.addOffset=function(a){this.prep(l.SIZEOF_INT,0),this.writeInt32(this.offset()-a+l.SIZEOF_INT)},l.Builder.prototype.startObject=function(a){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=a;for(var d=0;d<a;d++)this.vtable[d]=0;this.isNested=!0,this.object_start=this.offset()},l.Builder.prototype.endObject=function(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);for(var a=this.offset(),d=this.vtable_in_use-1;d>=0&&this.vtable[d]==0;d--);for(var c=d+1;d>=0;d--)this.addInt16(this.vtable[d]!=0?a-this.vtable[d]:0);this.addInt16(a-this.object_start);var m=(c+2)*l.SIZEOF_SHORT;this.addInt16(m);var b=0,f=this.space;e:for(d=0;d<this.vtables.length;d++){var s=this.bb.capacity()-this.vtables[d];if(m==this.bb.readInt16(s)){for(var t=l.SIZEOF_SHORT;t<m;t+=l.SIZEOF_SHORT)if(this.bb.readInt16(f+t)!=this.bb.readInt16(s+t))continue e;b=this.vtables[d];break}}return b?(this.space=this.bb.capacity()-a,this.bb.writeInt32(this.space,b-a)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-a,this.offset()-a)),this.isNested=!1,a},l.Builder.prototype.finish=function(a,d,c){var m=c?l.SIZE_PREFIX_LENGTH:0;if(d){var b=d;if(this.prep(this.minalign,l.SIZEOF_INT+l.FILE_IDENTIFIER_LENGTH+m),b.length!=l.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+l.FILE_IDENTIFIER_LENGTH);for(var f=l.FILE_IDENTIFIER_LENGTH-1;f>=0;f--)this.writeInt8(b.charCodeAt(f))}this.prep(this.minalign,l.SIZEOF_INT+m),this.addOffset(a),m&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)},l.Builder.prototype.finishSizePrefixed=function(a,d){this.finish(a,d,!0)},l.Builder.prototype.requiredField=function(a,d){var c=this.bb.capacity()-a,m=c-this.bb.readInt32(c);if(this.bb.readInt16(m+d)==0)throw new Error("FlatBuffers: field "+d+" must be set")},l.Builder.prototype.startVector=function(a,d,c){this.notNested(),this.vector_num_elems=d,this.prep(l.SIZEOF_INT,a*d),this.prep(c,a*d)},l.Builder.prototype.endVector=function(){return this.writeInt32(this.vector_num_elems),this.offset()},l.Builder.prototype.createString=function(a){if(a instanceof Uint8Array)var d=a;else{d=[];for(var c=0;c<a.length;){var m,b=a.charCodeAt(c++);(m=b<55296||b>=56320?b:(b<<10)+a.charCodeAt(c++)+-56613888)<128?d.push(m):(m<2048?d.push(m>>6&31|192):(m<65536?d.push(m>>12&15|224):d.push(m>>18&7|240,m>>12&63|128),d.push(m>>6&63|128)),d.push(63&m|128))}}this.addInt8(0),this.startVector(1,d.length,1),this.bb.setPosition(this.space-=d.length),c=0;for(var f=this.space,s=this.bb.bytes();c<d.length;c++)s[f++]=d[c];return this.endVector()},l.Builder.prototype.createLong=function(a,d){return l.Long.create(a,d)},l.ByteBuffer=function(a){this.bytes_=a,this.position_=0},l.ByteBuffer.allocate=function(a){return new l.ByteBuffer(new Uint8Array(a))},l.ByteBuffer.prototype.clear=function(){this.position_=0},l.ByteBuffer.prototype.bytes=function(){return this.bytes_},l.ByteBuffer.prototype.position=function(){return this.position_},l.ByteBuffer.prototype.setPosition=function(a){this.position_=a},l.ByteBuffer.prototype.capacity=function(){return this.bytes_.length},l.ByteBuffer.prototype.readInt8=function(a){return this.readUint8(a)<<24>>24},l.ByteBuffer.prototype.readUint8=function(a){return this.bytes_[a]},l.ByteBuffer.prototype.readInt16=function(a){return this.readUint16(a)<<16>>16},l.ByteBuffer.prototype.readUint16=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8},l.ByteBuffer.prototype.readInt32=function(a){return this.bytes_[a]|this.bytes_[a+1]<<8|this.bytes_[a+2]<<16|this.bytes_[a+3]<<24},l.ByteBuffer.prototype.readUint32=function(a){return this.readInt32(a)>>>0},l.ByteBuffer.prototype.readInt64=function(a){return new l.Long(this.readInt32(a),this.readInt32(a+4))},l.ByteBuffer.prototype.readUint64=function(a){return new l.Long(this.readUint32(a),this.readUint32(a+4))},l.ByteBuffer.prototype.readFloat32=function(a){return l.int32[0]=this.readInt32(a),l.float32[0]},l.ByteBuffer.prototype.readFloat64=function(a){return l.int32[l.isLittleEndian?0:1]=this.readInt32(a),l.int32[l.isLittleEndian?1:0]=this.readInt32(a+4),l.float64[0]},l.ByteBuffer.prototype.writeInt8=function(a,d){this.bytes_[a]=d},l.ByteBuffer.prototype.writeUint8=function(a,d){this.bytes_[a]=d},l.ByteBuffer.prototype.writeInt16=function(a,d){this.bytes_[a]=d,this.bytes_[a+1]=d>>8},l.ByteBuffer.prototype.writeUint16=function(a,d){this.bytes_[a]=d,this.bytes_[a+1]=d>>8},l.ByteBuffer.prototype.writeInt32=function(a,d){this.bytes_[a]=d,this.bytes_[a+1]=d>>8,this.bytes_[a+2]=d>>16,this.bytes_[a+3]=d>>24},l.ByteBuffer.prototype.writeUint32=function(a,d){this.bytes_[a]=d,this.bytes_[a+1]=d>>8,this.bytes_[a+2]=d>>16,this.bytes_[a+3]=d>>24},l.ByteBuffer.prototype.writeInt64=function(a,d){this.writeInt32(a,d.low),this.writeInt32(a+4,d.high)},l.ByteBuffer.prototype.writeUint64=function(a,d){this.writeUint32(a,d.low),this.writeUint32(a+4,d.high)},l.ByteBuffer.prototype.writeFloat32=function(a,d){l.float32[0]=d,this.writeInt32(a,l.int32[0])},l.ByteBuffer.prototype.writeFloat64=function(a,d){l.float64[0]=d,this.writeInt32(a,l.int32[l.isLittleEndian?0:1]),this.writeInt32(a+4,l.int32[l.isLittleEndian?1:0])},l.ByteBuffer.prototype.getBufferIdentifier=function(){if(this.bytes_.length<this.position_+l.SIZEOF_INT+l.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");for(var a="",d=0;d<l.FILE_IDENTIFIER_LENGTH;d++)a+=String.fromCharCode(this.readInt8(this.position_+l.SIZEOF_INT+d));return a},l.ByteBuffer.prototype.__offset=function(a,d){var c=a-this.readInt32(a);return d<this.readInt16(c)?this.readInt16(c+d):0},l.ByteBuffer.prototype.__union=function(a,d){return a.bb_pos=d+this.readInt32(d),a.bb=this,a},l.ByteBuffer.prototype.__string=function(a,d){a+=this.readInt32(a);var c=this.readInt32(a),m="",b=0;if(a+=l.SIZEOF_INT,d===l.Encoding.UTF8_BYTES)return this.bytes_.subarray(a,a+c);for(;b<c;){var f,s=this.readUint8(a+b++);if(s<192)f=s;else{var t=this.readUint8(a+b++);if(s<224)f=(31&s)<<6|63&t;else{var e=this.readUint8(a+b++);f=s<240?(15&s)<<12|(63&t)<<6|63&e:(7&s)<<18|(63&t)<<12|(63&e)<<6|63&this.readUint8(a+b++)}}f<65536?m+=String.fromCharCode(f):(f-=65536,m+=String.fromCharCode(55296+(f>>10),56320+(1023&f)))}return m},l.ByteBuffer.prototype.__indirect=function(a){return a+this.readInt32(a)},l.ByteBuffer.prototype.__vector=function(a){return a+this.readInt32(a)+l.SIZEOF_INT},l.ByteBuffer.prototype.__vector_len=function(a){return this.readInt32(a+this.readInt32(a))},l.ByteBuffer.prototype.__has_identifier=function(a){if(a.length!=l.FILE_IDENTIFIER_LENGTH)throw new Error("FlatBuffers: file identifier must be length "+l.FILE_IDENTIFIER_LENGTH);for(var d=0;d<l.FILE_IDENTIFIER_LENGTH;d++)if(a.charCodeAt(d)!=this.readInt8(this.position_+l.SIZEOF_INT+d))return!1;return!0},l.ByteBuffer.prototype.createLong=function(a,d){return l.Long.create(a,d)}},3442:(o,n)=>{n.__esModule=!0;var u=function(){function l(a){if(!a)throw new TypeError("Invalid argument; `value` has no value.");this.value=l.EMPTY,a&&l.isGuid(a)&&(this.value=a)}return l.isGuid=function(a){var d=a.toString();return a&&(a instanceof l||l.validator.test(d))},l.create=function(){return new l([l.gen(2),l.gen(1),l.gen(1),l.gen(1),l.gen(3)].join("-"))},l.createEmpty=function(){return new l("emptyguid")},l.parse=function(a){return new l(a)},l.raw=function(){return[l.gen(2),l.gen(1),l.gen(1),l.gen(1),l.gen(3)].join("-")},l.gen=function(a){for(var d="",c=0;c<a;c++)d+=(65536*(1+Math.random())|0).toString(16).substring(1);return d},l.prototype.equals=function(a){return l.isGuid(a)&&this.value===a.toString()},l.prototype.isEmpty=function(){return this.value===l.EMPTY},l.prototype.toString=function(){return this.value},l.prototype.toJSON=function(){return{value:this.value}},l.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),l.EMPTY="00000000-0000-0000-0000-000000000000",l}();n.Guid=u},3720:o=>{o.exports=u;var n=null;try{n=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function u(S,P,$){this.low=0|S,this.high=0|P,this.unsigned=!!$}function l(S){return(S&&S.__isLong__)===!0}u.prototype.__isLong__,Object.defineProperty(u.prototype,"__isLong__",{value:!0}),u.isLong=l;var a={},d={};function c(S,P){var $,M,j;return P?(j=0<=(S>>>=0)&&S<256)&&(M=d[S])?M:($=b(S,(0|S)<0?-1:0,!0),j&&(d[S]=$),$):(j=-128<=(S|=0)&&S<128)&&(M=a[S])?M:($=b(S,S<0?-1:0,!1),j&&(a[S]=$),$)}function m(S,P){if(isNaN(S))return P?_:y;if(P){if(S<0)return _;if(S>=r)return A}else{if(S<=-i)return E;if(S+1>=i)return T}return S<0?m(-S,P).neg():b(S%e|0,S/e|0,P)}function b(S,P,$){return new u(S,P,$)}u.fromInt=c,u.fromNumber=m,u.fromBits=b;var f=Math.pow;function s(S,P,$){if(S.length===0)throw Error("empty string");if(S==="NaN"||S==="Infinity"||S==="+Infinity"||S==="-Infinity")return y;if(typeof P=="number"?($=P,P=!1):P=!!P,($=$||10)<2||36<$)throw RangeError("radix");var M;if((M=S.indexOf("-"))>0)throw Error("interior hyphen");if(M===0)return s(S.substring(1),P,$).neg();for(var j=m(f($,8)),H=y,K=0;K<S.length;K+=8){var C=Math.min(8,S.length-K),L=parseInt(S.substring(K,K+C),$);if(C<8){var oe=m(f($,C));H=H.mul(oe).add(m(L))}else H=(H=H.mul(j)).add(m(L))}return H.unsigned=P,H}function t(S,P){return typeof S=="number"?m(S,P):typeof S=="string"?s(S,P):b(S.low,S.high,typeof P=="boolean"?P:S.unsigned)}u.fromString=s,u.fromValue=t;var e=4294967296,r=e*e,i=r/2,g=c(1<<24),y=c(0);u.ZERO=y;var _=c(0,!0);u.UZERO=_;var v=c(1);u.ONE=v;var w=c(1,!0);u.UONE=w;var x=c(-1);u.NEG_ONE=x;var T=b(-1,2147483647,!1);u.MAX_VALUE=T;var A=b(-1,-1,!0);u.MAX_UNSIGNED_VALUE=A;var E=b(0,-2147483648,!1);u.MIN_VALUE=E;var O=u.prototype;O.toInt=function(){return this.unsigned?this.low>>>0:this.low},O.toNumber=function(){return this.unsigned?(this.high>>>0)*e+(this.low>>>0):this.high*e+(this.low>>>0)},O.toString=function(S){if((S=S||10)<2||36<S)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(E)){var P=m(S),$=this.div(P),M=$.mul(P).sub(this);return $.toString(S)+M.toInt().toString(S)}return"-"+this.neg().toString(S)}for(var j=m(f(S,6),this.unsigned),H=this,K="";;){var C=H.div(j),L=(H.sub(C.mul(j)).toInt()>>>0).toString(S);if((H=C).isZero())return L+K;for(;L.length<6;)L="0"+L;K=""+L+K}},O.getHighBits=function(){return this.high},O.getHighBitsUnsigned=function(){return this.high>>>0},O.getLowBits=function(){return this.low},O.getLowBitsUnsigned=function(){return this.low>>>0},O.getNumBitsAbs=function(){if(this.isNegative())return this.eq(E)?64:this.neg().getNumBitsAbs();for(var S=this.high!=0?this.high:this.low,P=31;P>0&&!(S&1<<P);P--);return this.high!=0?P+33:P+1},O.isZero=function(){return this.high===0&&this.low===0},O.eqz=O.isZero,O.isNegative=function(){return!this.unsigned&&this.high<0},O.isPositive=function(){return this.unsigned||this.high>=0},O.isOdd=function(){return(1&this.low)==1},O.isEven=function(){return(1&this.low)==0},O.equals=function(S){return l(S)||(S=t(S)),(this.unsigned===S.unsigned||this.high>>>31!=1||S.high>>>31!=1)&&this.high===S.high&&this.low===S.low},O.eq=O.equals,O.notEquals=function(S){return!this.eq(S)},O.neq=O.notEquals,O.ne=O.notEquals,O.lessThan=function(S){return this.comp(S)<0},O.lt=O.lessThan,O.lessThanOrEqual=function(S){return this.comp(S)<=0},O.lte=O.lessThanOrEqual,O.le=O.lessThanOrEqual,O.greaterThan=function(S){return this.comp(S)>0},O.gt=O.greaterThan,O.greaterThanOrEqual=function(S){return this.comp(S)>=0},O.gte=O.greaterThanOrEqual,O.ge=O.greaterThanOrEqual,O.compare=function(S){if(l(S)||(S=t(S)),this.eq(S))return 0;var P=this.isNegative(),$=S.isNegative();return P&&!$?-1:!P&&$?1:this.unsigned?S.high>>>0>this.high>>>0||S.high===this.high&&S.low>>>0>this.low>>>0?-1:1:this.sub(S).isNegative()?-1:1},O.comp=O.compare,O.negate=function(){return!this.unsigned&&this.eq(E)?E:this.not().add(v)},O.neg=O.negate,O.add=function(S){l(S)||(S=t(S));var P=this.high>>>16,$=65535&this.high,M=this.low>>>16,j=65535&this.low,H=S.high>>>16,K=65535&S.high,C=S.low>>>16,L=0,oe=0,X=0,me=0;return X+=(me+=j+(65535&S.low))>>>16,oe+=(X+=M+C)>>>16,L+=(oe+=$+K)>>>16,L+=P+H,b((X&=65535)<<16|(me&=65535),(L&=65535)<<16|(oe&=65535),this.unsigned)},O.subtract=function(S){return l(S)||(S=t(S)),this.add(S.neg())},O.sub=O.subtract,O.multiply=function(S){if(this.isZero())return y;if(l(S)||(S=t(S)),n)return b(n.mul(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned);if(S.isZero())return y;if(this.eq(E))return S.isOdd()?E:y;if(S.eq(E))return this.isOdd()?E:y;if(this.isNegative())return S.isNegative()?this.neg().mul(S.neg()):this.neg().mul(S).neg();if(S.isNegative())return this.mul(S.neg()).neg();if(this.lt(g)&&S.lt(g))return m(this.toNumber()*S.toNumber(),this.unsigned);var P=this.high>>>16,$=65535&this.high,M=this.low>>>16,j=65535&this.low,H=S.high>>>16,K=65535&S.high,C=S.low>>>16,L=65535&S.low,oe=0,X=0,me=0,pe=0;return me+=(pe+=j*L)>>>16,X+=(me+=M*L)>>>16,me&=65535,X+=(me+=j*C)>>>16,oe+=(X+=$*L)>>>16,X&=65535,oe+=(X+=M*C)>>>16,X&=65535,oe+=(X+=j*K)>>>16,oe+=P*L+$*C+M*K+j*H,b((me&=65535)<<16|(pe&=65535),(oe&=65535)<<16|(X&=65535),this.unsigned)},O.mul=O.multiply,O.divide=function(S){if(l(S)||(S=t(S)),S.isZero())throw Error("division by zero");var P,$,M;if(n)return this.unsigned||this.high!==-2147483648||S.low!==-1||S.high!==-1?b((this.unsigned?n.div_u:n.div_s)(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?_:y;if(this.unsigned){if(S.unsigned||(S=S.toUnsigned()),S.gt(this))return _;if(S.gt(this.shru(1)))return w;M=_}else{if(this.eq(E))return S.eq(v)||S.eq(x)?E:S.eq(E)?v:(P=this.shr(1).div(S).shl(1)).eq(y)?S.isNegative()?v:x:($=this.sub(S.mul(P)),M=P.add($.div(S)));if(S.eq(E))return this.unsigned?_:y;if(this.isNegative())return S.isNegative()?this.neg().div(S.neg()):this.neg().div(S).neg();if(S.isNegative())return this.div(S.neg()).neg();M=y}for($=this;$.gte(S);){P=Math.max(1,Math.floor($.toNumber()/S.toNumber()));for(var j=Math.ceil(Math.log(P)/Math.LN2),H=j<=48?1:f(2,j-48),K=m(P),C=K.mul(S);C.isNegative()||C.gt($);)C=(K=m(P-=H,this.unsigned)).mul(S);K.isZero()&&(K=v),M=M.add(K),$=$.sub(C)}return M},O.div=O.divide,O.modulo=function(S){return l(S)||(S=t(S)),n?b((this.unsigned?n.rem_u:n.rem_s)(this.low,this.high,S.low,S.high),n.get_high(),this.unsigned):this.sub(this.div(S).mul(S))},O.mod=O.modulo,O.rem=O.modulo,O.not=function(){return b(~this.low,~this.high,this.unsigned)},O.and=function(S){return l(S)||(S=t(S)),b(this.low&S.low,this.high&S.high,this.unsigned)},O.or=function(S){return l(S)||(S=t(S)),b(this.low|S.low,this.high|S.high,this.unsigned)},O.xor=function(S){return l(S)||(S=t(S)),b(this.low^S.low,this.high^S.high,this.unsigned)},O.shiftLeft=function(S){return l(S)&&(S=S.toInt()),(S&=63)==0?this:S<32?b(this.low<<S,this.high<<S|this.low>>>32-S,this.unsigned):b(0,this.low<<S-32,this.unsigned)},O.shl=O.shiftLeft,O.shiftRight=function(S){return l(S)&&(S=S.toInt()),(S&=63)==0?this:S<32?b(this.low>>>S|this.high<<32-S,this.high>>S,this.unsigned):b(this.high>>S-32,this.high>=0?0:-1,this.unsigned)},O.shr=O.shiftRight,O.shiftRightUnsigned=function(S){if(l(S)&&(S=S.toInt()),(S&=63)==0)return this;var P=this.high;return S<32?b(this.low>>>S|P<<32-S,P>>>S,this.unsigned):b(S===32?P:P>>>S-32,0,this.unsigned)},O.shru=O.shiftRightUnsigned,O.shr_u=O.shiftRightUnsigned,O.toSigned=function(){return this.unsigned?b(this.low,this.high,!1):this},O.toUnsigned=function(){return this.unsigned?this:b(this.low,this.high,!0)},O.toBytes=function(S){return S?this.toBytesLE():this.toBytesBE()},O.toBytesLE=function(){var S=this.high,P=this.low;return[255&P,P>>>8&255,P>>>16&255,P>>>24,255&S,S>>>8&255,S>>>16&255,S>>>24]},O.toBytesBE=function(){var S=this.high,P=this.low;return[S>>>24,S>>>16&255,S>>>8&255,255&S,P>>>24,P>>>16&255,P>>>8&255,255&P]},u.fromBytes=function(S,P,$){return $?u.fromBytesLE(S,P):u.fromBytesBE(S,P)},u.fromBytesLE=function(S,P){return new u(S[0]|S[1]<<8|S[2]<<16|S[3]<<24,S[4]|S[5]<<8|S[6]<<16|S[7]<<24,P)},u.fromBytesBE=function(S,P){return new u(S[4]<<24|S[5]<<16|S[6]<<8|S[7],S[0]<<24|S[1]<<16|S[2]<<8|S[3],P)}},1446:(o,n,u)=>{var l,a,d,c=u(2100),m=c.Reader,b=c.Writer,f=c.util,s=c.roots.default||(c.roots.default={});s.onnx=((d={}).Version=(l={},(a=Object.create(l))[l[0]="_START_VERSION"]=0,a[l[1]="IR_VERSION_2017_10_10"]=1,a[l[2]="IR_VERSION_2017_10_30"]=2,a[l[3]="IR_VERSION_2017_11_3"]=3,a[l[4]="IR_VERSION_2019_1_22"]=4,a[l[5]="IR_VERSION"]=5,a),d.AttributeProto=function(){function t(e){if(this.floats=[],this.ints=[],this.strings=[],this.tensors=[],this.graphs=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.name="",t.prototype.refAttrName="",t.prototype.docString="",t.prototype.type=0,t.prototype.f=0,t.prototype.i=f.Long?f.Long.fromBits(0,0,!1):0,t.prototype.s=f.newBuffer([]),t.prototype.t=null,t.prototype.g=null,t.prototype.floats=f.emptyArray,t.prototype.ints=f.emptyArray,t.prototype.strings=f.emptyArray,t.prototype.tensors=f.emptyArray,t.prototype.graphs=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.name!=null&&e.hasOwnProperty("name")&&r.uint32(10).string(e.name),e.f!=null&&e.hasOwnProperty("f")&&r.uint32(21).float(e.f),e.i!=null&&e.hasOwnProperty("i")&&r.uint32(24).int64(e.i),e.s!=null&&e.hasOwnProperty("s")&&r.uint32(34).bytes(e.s),e.t!=null&&e.hasOwnProperty("t")&&s.onnx.TensorProto.encode(e.t,r.uint32(42).fork()).ldelim(),e.g!=null&&e.hasOwnProperty("g")&&s.onnx.GraphProto.encode(e.g,r.uint32(50).fork()).ldelim(),e.floats!=null&&e.floats.length){r.uint32(58).fork();for(var i=0;i<e.floats.length;++i)r.float(e.floats[i]);r.ldelim()}if(e.ints!=null&&e.ints.length){for(r.uint32(66).fork(),i=0;i<e.ints.length;++i)r.int64(e.ints[i]);r.ldelim()}if(e.strings!=null&&e.strings.length)for(i=0;i<e.strings.length;++i)r.uint32(74).bytes(e.strings[i]);if(e.tensors!=null&&e.tensors.length)for(i=0;i<e.tensors.length;++i)s.onnx.TensorProto.encode(e.tensors[i],r.uint32(82).fork()).ldelim();if(e.graphs!=null&&e.graphs.length)for(i=0;i<e.graphs.length;++i)s.onnx.GraphProto.encode(e.graphs[i],r.uint32(90).fork()).ldelim();return e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(106).string(e.docString),e.type!=null&&e.hasOwnProperty("type")&&r.uint32(160).int32(e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&r.uint32(170).string(e.refAttrName),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.AttributeProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.name=e.string();break;case 21:g.refAttrName=e.string();break;case 13:g.docString=e.string();break;case 20:g.type=e.int32();break;case 2:g.f=e.float();break;case 3:g.i=e.int64();break;case 4:g.s=e.bytes();break;case 5:g.t=s.onnx.TensorProto.decode(e,e.uint32());break;case 6:g.g=s.onnx.GraphProto.decode(e,e.uint32());break;case 7:if(g.floats&&g.floats.length||(g.floats=[]),(7&y)==2)for(var _=e.uint32()+e.pos;e.pos<_;)g.floats.push(e.float());else g.floats.push(e.float());break;case 8:if(g.ints&&g.ints.length||(g.ints=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.ints.push(e.int64());else g.ints.push(e.int64());break;case 9:g.strings&&g.strings.length||(g.strings=[]),g.strings.push(e.bytes());break;case 10:g.tensors&&g.tensors.length||(g.tensors=[]),g.tensors.push(s.onnx.TensorProto.decode(e,e.uint32()));break;case 11:g.graphs&&g.graphs.length||(g.graphs=[]),g.graphs.push(s.onnx.GraphProto.decode(e,e.uint32()));break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&!f.isString(e.refAttrName))return"refAttrName: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.type!=null&&e.hasOwnProperty("type"))switch(e.type){default:return"type: enum value expected";case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:}if(e.f!=null&&e.hasOwnProperty("f")&&typeof e.f!="number")return"f: number expected";if(e.i!=null&&e.hasOwnProperty("i")&&!(f.isInteger(e.i)||e.i&&f.isInteger(e.i.low)&&f.isInteger(e.i.high)))return"i: integer|Long expected";if(e.s!=null&&e.hasOwnProperty("s")&&!(e.s&&typeof e.s.length=="number"||f.isString(e.s)))return"s: buffer expected";if(e.t!=null&&e.hasOwnProperty("t")&&(i=s.onnx.TensorProto.verify(e.t)))return"t."+i;if(e.g!=null&&e.hasOwnProperty("g")&&(i=s.onnx.GraphProto.verify(e.g)))return"g."+i;if(e.floats!=null&&e.hasOwnProperty("floats")){if(!Array.isArray(e.floats))return"floats: array expected";for(var r=0;r<e.floats.length;++r)if(typeof e.floats[r]!="number")return"floats: number[] expected"}if(e.ints!=null&&e.hasOwnProperty("ints")){if(!Array.isArray(e.ints))return"ints: array expected";for(r=0;r<e.ints.length;++r)if(!(f.isInteger(e.ints[r])||e.ints[r]&&f.isInteger(e.ints[r].low)&&f.isInteger(e.ints[r].high)))return"ints: integer|Long[] expected"}if(e.strings!=null&&e.hasOwnProperty("strings")){if(!Array.isArray(e.strings))return"strings: array expected";for(r=0;r<e.strings.length;++r)if(!(e.strings[r]&&typeof e.strings[r].length=="number"||f.isString(e.strings[r])))return"strings: buffer[] expected"}if(e.tensors!=null&&e.hasOwnProperty("tensors")){if(!Array.isArray(e.tensors))return"tensors: array expected";for(r=0;r<e.tensors.length;++r)if(i=s.onnx.TensorProto.verify(e.tensors[r]))return"tensors."+i}if(e.graphs!=null&&e.hasOwnProperty("graphs")){if(!Array.isArray(e.graphs))return"graphs: array expected";for(r=0;r<e.graphs.length;++r){var i;if(i=s.onnx.GraphProto.verify(e.graphs[r]))return"graphs."+i}}return null},t.fromObject=function(e){if(e instanceof s.onnx.AttributeProto)return e;var r=new s.onnx.AttributeProto;switch(e.name!=null&&(r.name=String(e.name)),e.refAttrName!=null&&(r.refAttrName=String(e.refAttrName)),e.docString!=null&&(r.docString=String(e.docString)),e.type){case"UNDEFINED":case 0:r.type=0;break;case"FLOAT":case 1:r.type=1;break;case"INT":case 2:r.type=2;break;case"STRING":case 3:r.type=3;break;case"TENSOR":case 4:r.type=4;break;case"GRAPH":case 5:r.type=5;break;case"FLOATS":case 6:r.type=6;break;case"INTS":case 7:r.type=7;break;case"STRINGS":case 8:r.type=8;break;case"TENSORS":case 9:r.type=9;break;case"GRAPHS":case 10:r.type=10}if(e.f!=null&&(r.f=Number(e.f)),e.i!=null&&(f.Long?(r.i=f.Long.fromValue(e.i)).unsigned=!1:typeof e.i=="string"?r.i=parseInt(e.i,10):typeof e.i=="number"?r.i=e.i:typeof e.i=="object"&&(r.i=new f.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber())),e.s!=null&&(typeof e.s=="string"?f.base64.decode(e.s,r.s=f.newBuffer(f.base64.length(e.s)),0):e.s.length&&(r.s=e.s)),e.t!=null){if(typeof e.t!="object")throw TypeError(".onnx.AttributeProto.t: object expected");r.t=s.onnx.TensorProto.fromObject(e.t)}if(e.g!=null){if(typeof e.g!="object")throw TypeError(".onnx.AttributeProto.g: object expected");r.g=s.onnx.GraphProto.fromObject(e.g)}if(e.floats){if(!Array.isArray(e.floats))throw TypeError(".onnx.AttributeProto.floats: array expected");r.floats=[];for(var i=0;i<e.floats.length;++i)r.floats[i]=Number(e.floats[i])}if(e.ints){if(!Array.isArray(e.ints))throw TypeError(".onnx.AttributeProto.ints: array expected");for(r.ints=[],i=0;i<e.ints.length;++i)f.Long?(r.ints[i]=f.Long.fromValue(e.ints[i])).unsigned=!1:typeof e.ints[i]=="string"?r.ints[i]=parseInt(e.ints[i],10):typeof e.ints[i]=="number"?r.ints[i]=e.ints[i]:typeof e.ints[i]=="object"&&(r.ints[i]=new f.LongBits(e.ints[i].low>>>0,e.ints[i].high>>>0).toNumber())}if(e.strings){if(!Array.isArray(e.strings))throw TypeError(".onnx.AttributeProto.strings: array expected");for(r.strings=[],i=0;i<e.strings.length;++i)typeof e.strings[i]=="string"?f.base64.decode(e.strings[i],r.strings[i]=f.newBuffer(f.base64.length(e.strings[i])),0):e.strings[i].length&&(r.strings[i]=e.strings[i])}if(e.tensors){if(!Array.isArray(e.tensors))throw TypeError(".onnx.AttributeProto.tensors: array expected");for(r.tensors=[],i=0;i<e.tensors.length;++i){if(typeof e.tensors[i]!="object")throw TypeError(".onnx.AttributeProto.tensors: object expected");r.tensors[i]=s.onnx.TensorProto.fromObject(e.tensors[i])}}if(e.graphs){if(!Array.isArray(e.graphs))throw TypeError(".onnx.AttributeProto.graphs: array expected");for(r.graphs=[],i=0;i<e.graphs.length;++i){if(typeof e.graphs[i]!="object")throw TypeError(".onnx.AttributeProto.graphs: object expected");r.graphs[i]=s.onnx.GraphProto.fromObject(e.graphs[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.floats=[],i.ints=[],i.strings=[],i.tensors=[],i.graphs=[]),r.defaults){if(i.name="",i.f=0,f.Long){var g=new f.Long(0,0,!1);i.i=r.longs===String?g.toString():r.longs===Number?g.toNumber():g}else i.i=r.longs===String?"0":0;r.bytes===String?i.s="":(i.s=[],r.bytes!==Array&&(i.s=f.newBuffer(i.s))),i.t=null,i.g=null,i.docString="",i.type=r.enums===String?"UNDEFINED":0,i.refAttrName=""}if(e.name!=null&&e.hasOwnProperty("name")&&(i.name=e.name),e.f!=null&&e.hasOwnProperty("f")&&(i.f=r.json&&!isFinite(e.f)?String(e.f):e.f),e.i!=null&&e.hasOwnProperty("i")&&(typeof e.i=="number"?i.i=r.longs===String?String(e.i):e.i:i.i=r.longs===String?f.Long.prototype.toString.call(e.i):r.longs===Number?new f.LongBits(e.i.low>>>0,e.i.high>>>0).toNumber():e.i),e.s!=null&&e.hasOwnProperty("s")&&(i.s=r.bytes===String?f.base64.encode(e.s,0,e.s.length):r.bytes===Array?Array.prototype.slice.call(e.s):e.s),e.t!=null&&e.hasOwnProperty("t")&&(i.t=s.onnx.TensorProto.toObject(e.t,r)),e.g!=null&&e.hasOwnProperty("g")&&(i.g=s.onnx.GraphProto.toObject(e.g,r)),e.floats&&e.floats.length){i.floats=[];for(var y=0;y<e.floats.length;++y)i.floats[y]=r.json&&!isFinite(e.floats[y])?String(e.floats[y]):e.floats[y]}if(e.ints&&e.ints.length)for(i.ints=[],y=0;y<e.ints.length;++y)typeof e.ints[y]=="number"?i.ints[y]=r.longs===String?String(e.ints[y]):e.ints[y]:i.ints[y]=r.longs===String?f.Long.prototype.toString.call(e.ints[y]):r.longs===Number?new f.LongBits(e.ints[y].low>>>0,e.ints[y].high>>>0).toNumber():e.ints[y];if(e.strings&&e.strings.length)for(i.strings=[],y=0;y<e.strings.length;++y)i.strings[y]=r.bytes===String?f.base64.encode(e.strings[y],0,e.strings[y].length):r.bytes===Array?Array.prototype.slice.call(e.strings[y]):e.strings[y];if(e.tensors&&e.tensors.length)for(i.tensors=[],y=0;y<e.tensors.length;++y)i.tensors[y]=s.onnx.TensorProto.toObject(e.tensors[y],r);if(e.graphs&&e.graphs.length)for(i.graphs=[],y=0;y<e.graphs.length;++y)i.graphs[y]=s.onnx.GraphProto.toObject(e.graphs[y],r);return e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),e.type!=null&&e.hasOwnProperty("type")&&(i.type=r.enums===String?s.onnx.AttributeProto.AttributeType[e.type]:e.type),e.refAttrName!=null&&e.hasOwnProperty("refAttrName")&&(i.refAttrName=e.refAttrName),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.AttributeType=function(){var e={},r=Object.create(e);return r[e[0]="UNDEFINED"]=0,r[e[1]="FLOAT"]=1,r[e[2]="INT"]=2,r[e[3]="STRING"]=3,r[e[4]="TENSOR"]=4,r[e[5]="GRAPH"]=5,r[e[6]="FLOATS"]=6,r[e[7]="INTS"]=7,r[e[8]="STRINGS"]=8,r[e[9]="TENSORS"]=9,r[e[10]="GRAPHS"]=10,r}(),t}(),d.ValueInfoProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.name="",t.prototype.type=null,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=b.create()),e.name!=null&&e.hasOwnProperty("name")&&r.uint32(10).string(e.name),e.type!=null&&e.hasOwnProperty("type")&&s.onnx.TypeProto.encode(e.type,r.uint32(18).fork()).ldelim(),e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(26).string(e.docString),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.ValueInfoProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.name=e.string();break;case 2:g.type=s.onnx.TypeProto.decode(e,e.uint32());break;case 3:g.docString=e.string();break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.type!=null&&e.hasOwnProperty("type")){var r=s.onnx.TypeProto.verify(e.type);if(r)return"type."+r}return e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof s.onnx.ValueInfoProto)return e;var r=new s.onnx.ValueInfoProto;if(e.name!=null&&(r.name=String(e.name)),e.type!=null){if(typeof e.type!="object")throw TypeError(".onnx.ValueInfoProto.type: object expected");r.type=s.onnx.TypeProto.fromObject(e.type)}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.name="",i.type=null,i.docString=""),e.name!=null&&e.hasOwnProperty("name")&&(i.name=e.name),e.type!=null&&e.hasOwnProperty("type")&&(i.type=s.onnx.TypeProto.toObject(e.type,r)),e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.NodeProto=function(){function t(e){if(this.input=[],this.output=[],this.attribute=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.input=f.emptyArray,t.prototype.output=f.emptyArray,t.prototype.name="",t.prototype.opType="",t.prototype.domain="",t.prototype.attribute=f.emptyArray,t.prototype.docString="",t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.input!=null&&e.input.length)for(var i=0;i<e.input.length;++i)r.uint32(10).string(e.input[i]);if(e.output!=null&&e.output.length)for(i=0;i<e.output.length;++i)r.uint32(18).string(e.output[i]);if(e.name!=null&&e.hasOwnProperty("name")&&r.uint32(26).string(e.name),e.opType!=null&&e.hasOwnProperty("opType")&&r.uint32(34).string(e.opType),e.attribute!=null&&e.attribute.length)for(i=0;i<e.attribute.length;++i)s.onnx.AttributeProto.encode(e.attribute[i],r.uint32(42).fork()).ldelim();return e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(50).string(e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&r.uint32(58).string(e.domain),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.NodeProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.input&&g.input.length||(g.input=[]),g.input.push(e.string());break;case 2:g.output&&g.output.length||(g.output=[]),g.output.push(e.string());break;case 3:g.name=e.string();break;case 4:g.opType=e.string();break;case 7:g.domain=e.string();break;case 5:g.attribute&&g.attribute.length||(g.attribute=[]),g.attribute.push(s.onnx.AttributeProto.decode(e,e.uint32()));break;case 6:g.docString=e.string();break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(var r=0;r<e.input.length;++r)if(!f.isString(e.input[r]))return"input: string[] expected"}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(r=0;r<e.output.length;++r)if(!f.isString(e.output[r]))return"output: string[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.opType!=null&&e.hasOwnProperty("opType")&&!f.isString(e.opType))return"opType: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain))return"domain: string expected";if(e.attribute!=null&&e.hasOwnProperty("attribute")){if(!Array.isArray(e.attribute))return"attribute: array expected";for(r=0;r<e.attribute.length;++r){var i=s.onnx.AttributeProto.verify(e.attribute[r]);if(i)return"attribute."+i}}return e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString)?"docString: string expected":null},t.fromObject=function(e){if(e instanceof s.onnx.NodeProto)return e;var r=new s.onnx.NodeProto;if(e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.NodeProto.input: array expected");r.input=[];for(var i=0;i<e.input.length;++i)r.input[i]=String(e.input[i])}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.NodeProto.output: array expected");for(r.output=[],i=0;i<e.output.length;++i)r.output[i]=String(e.output[i])}if(e.name!=null&&(r.name=String(e.name)),e.opType!=null&&(r.opType=String(e.opType)),e.domain!=null&&(r.domain=String(e.domain)),e.attribute){if(!Array.isArray(e.attribute))throw TypeError(".onnx.NodeProto.attribute: array expected");for(r.attribute=[],i=0;i<e.attribute.length;++i){if(typeof e.attribute[i]!="object")throw TypeError(".onnx.NodeProto.attribute: object expected");r.attribute[i]=s.onnx.AttributeProto.fromObject(e.attribute[i])}}return e.docString!=null&&(r.docString=String(e.docString)),r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.input=[],i.output=[],i.attribute=[]),r.defaults&&(i.name="",i.opType="",i.docString="",i.domain=""),e.input&&e.input.length){i.input=[];for(var g=0;g<e.input.length;++g)i.input[g]=e.input[g]}if(e.output&&e.output.length)for(i.output=[],g=0;g<e.output.length;++g)i.output[g]=e.output[g];if(e.name!=null&&e.hasOwnProperty("name")&&(i.name=e.name),e.opType!=null&&e.hasOwnProperty("opType")&&(i.opType=e.opType),e.attribute&&e.attribute.length)for(i.attribute=[],g=0;g<e.attribute.length;++g)i.attribute[g]=s.onnx.AttributeProto.toObject(e.attribute[g],r);return e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),e.domain!=null&&e.hasOwnProperty("domain")&&(i.domain=e.domain),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.ModelProto=function(){function t(e){if(this.opsetImport=[],this.metadataProps=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.irVersion=f.Long?f.Long.fromBits(0,0,!1):0,t.prototype.opsetImport=f.emptyArray,t.prototype.producerName="",t.prototype.producerVersion="",t.prototype.domain="",t.prototype.modelVersion=f.Long?f.Long.fromBits(0,0,!1):0,t.prototype.docString="",t.prototype.graph=null,t.prototype.metadataProps=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.irVersion!=null&&e.hasOwnProperty("irVersion")&&r.uint32(8).int64(e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&r.uint32(18).string(e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&r.uint32(26).string(e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&r.uint32(34).string(e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&r.uint32(40).int64(e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(50).string(e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&s.onnx.GraphProto.encode(e.graph,r.uint32(58).fork()).ldelim(),e.opsetImport!=null&&e.opsetImport.length)for(var i=0;i<e.opsetImport.length;++i)s.onnx.OperatorSetIdProto.encode(e.opsetImport[i],r.uint32(66).fork()).ldelim();if(e.metadataProps!=null&&e.metadataProps.length)for(i=0;i<e.metadataProps.length;++i)s.onnx.StringStringEntryProto.encode(e.metadataProps[i],r.uint32(114).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.ModelProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.irVersion=e.int64();break;case 8:g.opsetImport&&g.opsetImport.length||(g.opsetImport=[]),g.opsetImport.push(s.onnx.OperatorSetIdProto.decode(e,e.uint32()));break;case 2:g.producerName=e.string();break;case 3:g.producerVersion=e.string();break;case 4:g.domain=e.string();break;case 5:g.modelVersion=e.int64();break;case 6:g.docString=e.string();break;case 7:g.graph=s.onnx.GraphProto.decode(e,e.uint32());break;case 14:g.metadataProps&&g.metadataProps.length||(g.metadataProps=[]),g.metadataProps.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&!(f.isInteger(e.irVersion)||e.irVersion&&f.isInteger(e.irVersion.low)&&f.isInteger(e.irVersion.high)))return"irVersion: integer|Long expected";if(e.opsetImport!=null&&e.hasOwnProperty("opsetImport")){if(!Array.isArray(e.opsetImport))return"opsetImport: array expected";for(var r=0;r<e.opsetImport.length;++r)if(i=s.onnx.OperatorSetIdProto.verify(e.opsetImport[r]))return"opsetImport."+i}if(e.producerName!=null&&e.hasOwnProperty("producerName")&&!f.isString(e.producerName))return"producerName: string expected";if(e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&!f.isString(e.producerVersion))return"producerVersion: string expected";if(e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain))return"domain: string expected";if(e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&!(f.isInteger(e.modelVersion)||e.modelVersion&&f.isInteger(e.modelVersion.low)&&f.isInteger(e.modelVersion.high)))return"modelVersion: integer|Long expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.graph!=null&&e.hasOwnProperty("graph")&&(i=s.onnx.GraphProto.verify(e.graph)))return"graph."+i;if(e.metadataProps!=null&&e.hasOwnProperty("metadataProps")){if(!Array.isArray(e.metadataProps))return"metadataProps: array expected";for(r=0;r<e.metadataProps.length;++r){var i;if(i=s.onnx.StringStringEntryProto.verify(e.metadataProps[r]))return"metadataProps."+i}}return null},t.fromObject=function(e){if(e instanceof s.onnx.ModelProto)return e;var r=new s.onnx.ModelProto;if(e.irVersion!=null&&(f.Long?(r.irVersion=f.Long.fromValue(e.irVersion)).unsigned=!1:typeof e.irVersion=="string"?r.irVersion=parseInt(e.irVersion,10):typeof e.irVersion=="number"?r.irVersion=e.irVersion:typeof e.irVersion=="object"&&(r.irVersion=new f.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber())),e.opsetImport){if(!Array.isArray(e.opsetImport))throw TypeError(".onnx.ModelProto.opsetImport: array expected");r.opsetImport=[];for(var i=0;i<e.opsetImport.length;++i){if(typeof e.opsetImport[i]!="object")throw TypeError(".onnx.ModelProto.opsetImport: object expected");r.opsetImport[i]=s.onnx.OperatorSetIdProto.fromObject(e.opsetImport[i])}}if(e.producerName!=null&&(r.producerName=String(e.producerName)),e.producerVersion!=null&&(r.producerVersion=String(e.producerVersion)),e.domain!=null&&(r.domain=String(e.domain)),e.modelVersion!=null&&(f.Long?(r.modelVersion=f.Long.fromValue(e.modelVersion)).unsigned=!1:typeof e.modelVersion=="string"?r.modelVersion=parseInt(e.modelVersion,10):typeof e.modelVersion=="number"?r.modelVersion=e.modelVersion:typeof e.modelVersion=="object"&&(r.modelVersion=new f.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber())),e.docString!=null&&(r.docString=String(e.docString)),e.graph!=null){if(typeof e.graph!="object")throw TypeError(".onnx.ModelProto.graph: object expected");r.graph=s.onnx.GraphProto.fromObject(e.graph)}if(e.metadataProps){if(!Array.isArray(e.metadataProps))throw TypeError(".onnx.ModelProto.metadataProps: array expected");for(r.metadataProps=[],i=0;i<e.metadataProps.length;++i){if(typeof e.metadataProps[i]!="object")throw TypeError(".onnx.ModelProto.metadataProps: object expected");r.metadataProps[i]=s.onnx.StringStringEntryProto.fromObject(e.metadataProps[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.opsetImport=[],i.metadataProps=[]),r.defaults){if(f.Long){var g=new f.Long(0,0,!1);i.irVersion=r.longs===String?g.toString():r.longs===Number?g.toNumber():g}else i.irVersion=r.longs===String?"0":0;i.producerName="",i.producerVersion="",i.domain="",f.Long?(g=new f.Long(0,0,!1),i.modelVersion=r.longs===String?g.toString():r.longs===Number?g.toNumber():g):i.modelVersion=r.longs===String?"0":0,i.docString="",i.graph=null}if(e.irVersion!=null&&e.hasOwnProperty("irVersion")&&(typeof e.irVersion=="number"?i.irVersion=r.longs===String?String(e.irVersion):e.irVersion:i.irVersion=r.longs===String?f.Long.prototype.toString.call(e.irVersion):r.longs===Number?new f.LongBits(e.irVersion.low>>>0,e.irVersion.high>>>0).toNumber():e.irVersion),e.producerName!=null&&e.hasOwnProperty("producerName")&&(i.producerName=e.producerName),e.producerVersion!=null&&e.hasOwnProperty("producerVersion")&&(i.producerVersion=e.producerVersion),e.domain!=null&&e.hasOwnProperty("domain")&&(i.domain=e.domain),e.modelVersion!=null&&e.hasOwnProperty("modelVersion")&&(typeof e.modelVersion=="number"?i.modelVersion=r.longs===String?String(e.modelVersion):e.modelVersion:i.modelVersion=r.longs===String?f.Long.prototype.toString.call(e.modelVersion):r.longs===Number?new f.LongBits(e.modelVersion.low>>>0,e.modelVersion.high>>>0).toNumber():e.modelVersion),e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),e.graph!=null&&e.hasOwnProperty("graph")&&(i.graph=s.onnx.GraphProto.toObject(e.graph,r)),e.opsetImport&&e.opsetImport.length){i.opsetImport=[];for(var y=0;y<e.opsetImport.length;++y)i.opsetImport[y]=s.onnx.OperatorSetIdProto.toObject(e.opsetImport[y],r)}if(e.metadataProps&&e.metadataProps.length)for(i.metadataProps=[],y=0;y<e.metadataProps.length;++y)i.metadataProps[y]=s.onnx.StringStringEntryProto.toObject(e.metadataProps[y],r);return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.StringStringEntryProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=b.create()),e.key!=null&&e.hasOwnProperty("key")&&r.uint32(10).string(e.key),e.value!=null&&e.hasOwnProperty("value")&&r.uint32(18).string(e.value),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.StringStringEntryProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.key=e.string();break;case 2:g.value=e.string();break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.key!=null&&e.hasOwnProperty("key")&&!f.isString(e.key)?"key: string expected":e.value!=null&&e.hasOwnProperty("value")&&!f.isString(e.value)?"value: string expected":null},t.fromObject=function(e){if(e instanceof s.onnx.StringStringEntryProto)return e;var r=new s.onnx.StringStringEntryProto;return e.key!=null&&(r.key=String(e.key)),e.value!=null&&(r.value=String(e.value)),r},t.toObject=function(e,r){r||(r={});var i={};return r.defaults&&(i.key="",i.value=""),e.key!=null&&e.hasOwnProperty("key")&&(i.key=e.key),e.value!=null&&e.hasOwnProperty("value")&&(i.value=e.value),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.TensorAnnotation=function(){function t(e){if(this.quantParameterTensorNames=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.tensorName="",t.prototype.quantParameterTensorNames=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&r.uint32(10).string(e.tensorName),e.quantParameterTensorNames!=null&&e.quantParameterTensorNames.length)for(var i=0;i<e.quantParameterTensorNames.length;++i)s.onnx.StringStringEntryProto.encode(e.quantParameterTensorNames[i],r.uint32(18).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.TensorAnnotation;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.tensorName=e.string();break;case 2:g.quantParameterTensorNames&&g.quantParameterTensorNames.length||(g.quantParameterTensorNames=[]),g.quantParameterTensorNames.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.tensorName!=null&&e.hasOwnProperty("tensorName")&&!f.isString(e.tensorName))return"tensorName: string expected";if(e.quantParameterTensorNames!=null&&e.hasOwnProperty("quantParameterTensorNames")){if(!Array.isArray(e.quantParameterTensorNames))return"quantParameterTensorNames: array expected";for(var r=0;r<e.quantParameterTensorNames.length;++r){var i=s.onnx.StringStringEntryProto.verify(e.quantParameterTensorNames[r]);if(i)return"quantParameterTensorNames."+i}}return null},t.fromObject=function(e){if(e instanceof s.onnx.TensorAnnotation)return e;var r=new s.onnx.TensorAnnotation;if(e.tensorName!=null&&(r.tensorName=String(e.tensorName)),e.quantParameterTensorNames){if(!Array.isArray(e.quantParameterTensorNames))throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: array expected");r.quantParameterTensorNames=[];for(var i=0;i<e.quantParameterTensorNames.length;++i){if(typeof e.quantParameterTensorNames[i]!="object")throw TypeError(".onnx.TensorAnnotation.quantParameterTensorNames: object expected");r.quantParameterTensorNames[i]=s.onnx.StringStringEntryProto.fromObject(e.quantParameterTensorNames[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.quantParameterTensorNames=[]),r.defaults&&(i.tensorName=""),e.tensorName!=null&&e.hasOwnProperty("tensorName")&&(i.tensorName=e.tensorName),e.quantParameterTensorNames&&e.quantParameterTensorNames.length){i.quantParameterTensorNames=[];for(var g=0;g<e.quantParameterTensorNames.length;++g)i.quantParameterTensorNames[g]=s.onnx.StringStringEntryProto.toObject(e.quantParameterTensorNames[g],r)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.GraphProto=function(){function t(e){if(this.node=[],this.initializer=[],this.input=[],this.output=[],this.valueInfo=[],this.quantizationAnnotation=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.node=f.emptyArray,t.prototype.name="",t.prototype.initializer=f.emptyArray,t.prototype.docString="",t.prototype.input=f.emptyArray,t.prototype.output=f.emptyArray,t.prototype.valueInfo=f.emptyArray,t.prototype.quantizationAnnotation=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.node!=null&&e.node.length)for(var i=0;i<e.node.length;++i)s.onnx.NodeProto.encode(e.node[i],r.uint32(10).fork()).ldelim();if(e.name!=null&&e.hasOwnProperty("name")&&r.uint32(18).string(e.name),e.initializer!=null&&e.initializer.length)for(i=0;i<e.initializer.length;++i)s.onnx.TensorProto.encode(e.initializer[i],r.uint32(42).fork()).ldelim();if(e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(82).string(e.docString),e.input!=null&&e.input.length)for(i=0;i<e.input.length;++i)s.onnx.ValueInfoProto.encode(e.input[i],r.uint32(90).fork()).ldelim();if(e.output!=null&&e.output.length)for(i=0;i<e.output.length;++i)s.onnx.ValueInfoProto.encode(e.output[i],r.uint32(98).fork()).ldelim();if(e.valueInfo!=null&&e.valueInfo.length)for(i=0;i<e.valueInfo.length;++i)s.onnx.ValueInfoProto.encode(e.valueInfo[i],r.uint32(106).fork()).ldelim();if(e.quantizationAnnotation!=null&&e.quantizationAnnotation.length)for(i=0;i<e.quantizationAnnotation.length;++i)s.onnx.TensorAnnotation.encode(e.quantizationAnnotation[i],r.uint32(114).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.GraphProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.node&&g.node.length||(g.node=[]),g.node.push(s.onnx.NodeProto.decode(e,e.uint32()));break;case 2:g.name=e.string();break;case 5:g.initializer&&g.initializer.length||(g.initializer=[]),g.initializer.push(s.onnx.TensorProto.decode(e,e.uint32()));break;case 10:g.docString=e.string();break;case 11:g.input&&g.input.length||(g.input=[]),g.input.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 12:g.output&&g.output.length||(g.output=[]),g.output.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 13:g.valueInfo&&g.valueInfo.length||(g.valueInfo=[]),g.valueInfo.push(s.onnx.ValueInfoProto.decode(e,e.uint32()));break;case 14:g.quantizationAnnotation&&g.quantizationAnnotation.length||(g.quantizationAnnotation=[]),g.quantizationAnnotation.push(s.onnx.TensorAnnotation.decode(e,e.uint32()));break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.node!=null&&e.hasOwnProperty("node")){if(!Array.isArray(e.node))return"node: array expected";for(var r=0;r<e.node.length;++r)if(i=s.onnx.NodeProto.verify(e.node[r]))return"node."+i}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.initializer!=null&&e.hasOwnProperty("initializer")){if(!Array.isArray(e.initializer))return"initializer: array expected";for(r=0;r<e.initializer.length;++r)if(i=s.onnx.TensorProto.verify(e.initializer[r]))return"initializer."+i}if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.input!=null&&e.hasOwnProperty("input")){if(!Array.isArray(e.input))return"input: array expected";for(r=0;r<e.input.length;++r)if(i=s.onnx.ValueInfoProto.verify(e.input[r]))return"input."+i}if(e.output!=null&&e.hasOwnProperty("output")){if(!Array.isArray(e.output))return"output: array expected";for(r=0;r<e.output.length;++r)if(i=s.onnx.ValueInfoProto.verify(e.output[r]))return"output."+i}if(e.valueInfo!=null&&e.hasOwnProperty("valueInfo")){if(!Array.isArray(e.valueInfo))return"valueInfo: array expected";for(r=0;r<e.valueInfo.length;++r)if(i=s.onnx.ValueInfoProto.verify(e.valueInfo[r]))return"valueInfo."+i}if(e.quantizationAnnotation!=null&&e.hasOwnProperty("quantizationAnnotation")){if(!Array.isArray(e.quantizationAnnotation))return"quantizationAnnotation: array expected";for(r=0;r<e.quantizationAnnotation.length;++r){var i;if(i=s.onnx.TensorAnnotation.verify(e.quantizationAnnotation[r]))return"quantizationAnnotation."+i}}return null},t.fromObject=function(e){if(e instanceof s.onnx.GraphProto)return e;var r=new s.onnx.GraphProto;if(e.node){if(!Array.isArray(e.node))throw TypeError(".onnx.GraphProto.node: array expected");r.node=[];for(var i=0;i<e.node.length;++i){if(typeof e.node[i]!="object")throw TypeError(".onnx.GraphProto.node: object expected");r.node[i]=s.onnx.NodeProto.fromObject(e.node[i])}}if(e.name!=null&&(r.name=String(e.name)),e.initializer){if(!Array.isArray(e.initializer))throw TypeError(".onnx.GraphProto.initializer: array expected");for(r.initializer=[],i=0;i<e.initializer.length;++i){if(typeof e.initializer[i]!="object")throw TypeError(".onnx.GraphProto.initializer: object expected");r.initializer[i]=s.onnx.TensorProto.fromObject(e.initializer[i])}}if(e.docString!=null&&(r.docString=String(e.docString)),e.input){if(!Array.isArray(e.input))throw TypeError(".onnx.GraphProto.input: array expected");for(r.input=[],i=0;i<e.input.length;++i){if(typeof e.input[i]!="object")throw TypeError(".onnx.GraphProto.input: object expected");r.input[i]=s.onnx.ValueInfoProto.fromObject(e.input[i])}}if(e.output){if(!Array.isArray(e.output))throw TypeError(".onnx.GraphProto.output: array expected");for(r.output=[],i=0;i<e.output.length;++i){if(typeof e.output[i]!="object")throw TypeError(".onnx.GraphProto.output: object expected");r.output[i]=s.onnx.ValueInfoProto.fromObject(e.output[i])}}if(e.valueInfo){if(!Array.isArray(e.valueInfo))throw TypeError(".onnx.GraphProto.valueInfo: array expected");for(r.valueInfo=[],i=0;i<e.valueInfo.length;++i){if(typeof e.valueInfo[i]!="object")throw TypeError(".onnx.GraphProto.valueInfo: object expected");r.valueInfo[i]=s.onnx.ValueInfoProto.fromObject(e.valueInfo[i])}}if(e.quantizationAnnotation){if(!Array.isArray(e.quantizationAnnotation))throw TypeError(".onnx.GraphProto.quantizationAnnotation: array expected");for(r.quantizationAnnotation=[],i=0;i<e.quantizationAnnotation.length;++i){if(typeof e.quantizationAnnotation[i]!="object")throw TypeError(".onnx.GraphProto.quantizationAnnotation: object expected");r.quantizationAnnotation[i]=s.onnx.TensorAnnotation.fromObject(e.quantizationAnnotation[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.node=[],i.initializer=[],i.input=[],i.output=[],i.valueInfo=[],i.quantizationAnnotation=[]),r.defaults&&(i.name="",i.docString=""),e.node&&e.node.length){i.node=[];for(var g=0;g<e.node.length;++g)i.node[g]=s.onnx.NodeProto.toObject(e.node[g],r)}if(e.name!=null&&e.hasOwnProperty("name")&&(i.name=e.name),e.initializer&&e.initializer.length)for(i.initializer=[],g=0;g<e.initializer.length;++g)i.initializer[g]=s.onnx.TensorProto.toObject(e.initializer[g],r);if(e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),e.input&&e.input.length)for(i.input=[],g=0;g<e.input.length;++g)i.input[g]=s.onnx.ValueInfoProto.toObject(e.input[g],r);if(e.output&&e.output.length)for(i.output=[],g=0;g<e.output.length;++g)i.output[g]=s.onnx.ValueInfoProto.toObject(e.output[g],r);if(e.valueInfo&&e.valueInfo.length)for(i.valueInfo=[],g=0;g<e.valueInfo.length;++g)i.valueInfo[g]=s.onnx.ValueInfoProto.toObject(e.valueInfo[g],r);if(e.quantizationAnnotation&&e.quantizationAnnotation.length)for(i.quantizationAnnotation=[],g=0;g<e.quantizationAnnotation.length;++g)i.quantizationAnnotation[g]=s.onnx.TensorAnnotation.toObject(e.quantizationAnnotation[g],r);return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d.TensorProto=function(){function t(e){if(this.dims=[],this.floatData=[],this.int32Data=[],this.stringData=[],this.int64Data=[],this.externalData=[],this.doubleData=[],this.uint64Data=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.dims=f.emptyArray,t.prototype.dataType=0,t.prototype.segment=null,t.prototype.floatData=f.emptyArray,t.prototype.int32Data=f.emptyArray,t.prototype.stringData=f.emptyArray,t.prototype.int64Data=f.emptyArray,t.prototype.name="",t.prototype.docString="",t.prototype.rawData=f.newBuffer([]),t.prototype.externalData=f.emptyArray,t.prototype.dataLocation=0,t.prototype.doubleData=f.emptyArray,t.prototype.uint64Data=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.dims!=null&&e.dims.length){r.uint32(10).fork();for(var i=0;i<e.dims.length;++i)r.int64(e.dims[i]);r.ldelim()}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&r.uint32(16).int32(e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&s.onnx.TensorProto.Segment.encode(e.segment,r.uint32(26).fork()).ldelim(),e.floatData!=null&&e.floatData.length){for(r.uint32(34).fork(),i=0;i<e.floatData.length;++i)r.float(e.floatData[i]);r.ldelim()}if(e.int32Data!=null&&e.int32Data.length){for(r.uint32(42).fork(),i=0;i<e.int32Data.length;++i)r.int32(e.int32Data[i]);r.ldelim()}if(e.stringData!=null&&e.stringData.length)for(i=0;i<e.stringData.length;++i)r.uint32(50).bytes(e.stringData[i]);if(e.int64Data!=null&&e.int64Data.length){for(r.uint32(58).fork(),i=0;i<e.int64Data.length;++i)r.int64(e.int64Data[i]);r.ldelim()}if(e.name!=null&&e.hasOwnProperty("name")&&r.uint32(66).string(e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&r.uint32(74).bytes(e.rawData),e.doubleData!=null&&e.doubleData.length){for(r.uint32(82).fork(),i=0;i<e.doubleData.length;++i)r.double(e.doubleData[i]);r.ldelim()}if(e.uint64Data!=null&&e.uint64Data.length){for(r.uint32(90).fork(),i=0;i<e.uint64Data.length;++i)r.uint64(e.uint64Data[i]);r.ldelim()}if(e.docString!=null&&e.hasOwnProperty("docString")&&r.uint32(98).string(e.docString),e.externalData!=null&&e.externalData.length)for(i=0;i<e.externalData.length;++i)s.onnx.StringStringEntryProto.encode(e.externalData[i],r.uint32(106).fork()).ldelim();return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&r.uint32(112).int32(e.dataLocation),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.TensorProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:if(g.dims&&g.dims.length||(g.dims=[]),(7&y)==2)for(var _=e.uint32()+e.pos;e.pos<_;)g.dims.push(e.int64());else g.dims.push(e.int64());break;case 2:g.dataType=e.int32();break;case 3:g.segment=s.onnx.TensorProto.Segment.decode(e,e.uint32());break;case 4:if(g.floatData&&g.floatData.length||(g.floatData=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.floatData.push(e.float());else g.floatData.push(e.float());break;case 5:if(g.int32Data&&g.int32Data.length||(g.int32Data=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.int32Data.push(e.int32());else g.int32Data.push(e.int32());break;case 6:g.stringData&&g.stringData.length||(g.stringData=[]),g.stringData.push(e.bytes());break;case 7:if(g.int64Data&&g.int64Data.length||(g.int64Data=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.int64Data.push(e.int64());else g.int64Data.push(e.int64());break;case 8:g.name=e.string();break;case 12:g.docString=e.string();break;case 9:g.rawData=e.bytes();break;case 13:g.externalData&&g.externalData.length||(g.externalData=[]),g.externalData.push(s.onnx.StringStringEntryProto.decode(e,e.uint32()));break;case 14:g.dataLocation=e.int32();break;case 10:if(g.doubleData&&g.doubleData.length||(g.doubleData=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.doubleData.push(e.double());else g.doubleData.push(e.double());break;case 11:if(g.uint64Data&&g.uint64Data.length||(g.uint64Data=[]),(7&y)==2)for(_=e.uint32()+e.pos;e.pos<_;)g.uint64Data.push(e.uint64());else g.uint64Data.push(e.uint64());break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dims!=null&&e.hasOwnProperty("dims")){if(!Array.isArray(e.dims))return"dims: array expected";for(var r=0;r<e.dims.length;++r)if(!(f.isInteger(e.dims[r])||e.dims[r]&&f.isInteger(e.dims[r].low)&&f.isInteger(e.dims[r].high)))return"dims: integer|Long[] expected"}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&!f.isInteger(e.dataType))return"dataType: integer expected";if(e.segment!=null&&e.hasOwnProperty("segment")&&(i=s.onnx.TensorProto.Segment.verify(e.segment)))return"segment."+i;if(e.floatData!=null&&e.hasOwnProperty("floatData")){if(!Array.isArray(e.floatData))return"floatData: array expected";for(r=0;r<e.floatData.length;++r)if(typeof e.floatData[r]!="number")return"floatData: number[] expected"}if(e.int32Data!=null&&e.hasOwnProperty("int32Data")){if(!Array.isArray(e.int32Data))return"int32Data: array expected";for(r=0;r<e.int32Data.length;++r)if(!f.isInteger(e.int32Data[r]))return"int32Data: integer[] expected"}if(e.stringData!=null&&e.hasOwnProperty("stringData")){if(!Array.isArray(e.stringData))return"stringData: array expected";for(r=0;r<e.stringData.length;++r)if(!(e.stringData[r]&&typeof e.stringData[r].length=="number"||f.isString(e.stringData[r])))return"stringData: buffer[] expected"}if(e.int64Data!=null&&e.hasOwnProperty("int64Data")){if(!Array.isArray(e.int64Data))return"int64Data: array expected";for(r=0;r<e.int64Data.length;++r)if(!(f.isInteger(e.int64Data[r])||e.int64Data[r]&&f.isInteger(e.int64Data[r].low)&&f.isInteger(e.int64Data[r].high)))return"int64Data: integer|Long[] expected"}if(e.name!=null&&e.hasOwnProperty("name")&&!f.isString(e.name))return"name: string expected";if(e.docString!=null&&e.hasOwnProperty("docString")&&!f.isString(e.docString))return"docString: string expected";if(e.rawData!=null&&e.hasOwnProperty("rawData")&&!(e.rawData&&typeof e.rawData.length=="number"||f.isString(e.rawData)))return"rawData: buffer expected";if(e.externalData!=null&&e.hasOwnProperty("externalData")){if(!Array.isArray(e.externalData))return"externalData: array expected";for(r=0;r<e.externalData.length;++r){var i;if(i=s.onnx.StringStringEntryProto.verify(e.externalData[r]))return"externalData."+i}}if(e.dataLocation!=null&&e.hasOwnProperty("dataLocation"))switch(e.dataLocation){default:return"dataLocation: enum value expected";case 0:case 1:}if(e.doubleData!=null&&e.hasOwnProperty("doubleData")){if(!Array.isArray(e.doubleData))return"doubleData: array expected";for(r=0;r<e.doubleData.length;++r)if(typeof e.doubleData[r]!="number")return"doubleData: number[] expected"}if(e.uint64Data!=null&&e.hasOwnProperty("uint64Data")){if(!Array.isArray(e.uint64Data))return"uint64Data: array expected";for(r=0;r<e.uint64Data.length;++r)if(!(f.isInteger(e.uint64Data[r])||e.uint64Data[r]&&f.isInteger(e.uint64Data[r].low)&&f.isInteger(e.uint64Data[r].high)))return"uint64Data: integer|Long[] expected"}return null},t.fromObject=function(e){if(e instanceof s.onnx.TensorProto)return e;var r=new s.onnx.TensorProto;if(e.dims){if(!Array.isArray(e.dims))throw TypeError(".onnx.TensorProto.dims: array expected");r.dims=[];for(var i=0;i<e.dims.length;++i)f.Long?(r.dims[i]=f.Long.fromValue(e.dims[i])).unsigned=!1:typeof e.dims[i]=="string"?r.dims[i]=parseInt(e.dims[i],10):typeof e.dims[i]=="number"?r.dims[i]=e.dims[i]:typeof e.dims[i]=="object"&&(r.dims[i]=new f.LongBits(e.dims[i].low>>>0,e.dims[i].high>>>0).toNumber())}if(e.dataType!=null&&(r.dataType=0|e.dataType),e.segment!=null){if(typeof e.segment!="object")throw TypeError(".onnx.TensorProto.segment: object expected");r.segment=s.onnx.TensorProto.Segment.fromObject(e.segment)}if(e.floatData){if(!Array.isArray(e.floatData))throw TypeError(".onnx.TensorProto.floatData: array expected");for(r.floatData=[],i=0;i<e.floatData.length;++i)r.floatData[i]=Number(e.floatData[i])}if(e.int32Data){if(!Array.isArray(e.int32Data))throw TypeError(".onnx.TensorProto.int32Data: array expected");for(r.int32Data=[],i=0;i<e.int32Data.length;++i)r.int32Data[i]=0|e.int32Data[i]}if(e.stringData){if(!Array.isArray(e.stringData))throw TypeError(".onnx.TensorProto.stringData: array expected");for(r.stringData=[],i=0;i<e.stringData.length;++i)typeof e.stringData[i]=="string"?f.base64.decode(e.stringData[i],r.stringData[i]=f.newBuffer(f.base64.length(e.stringData[i])),0):e.stringData[i].length&&(r.stringData[i]=e.stringData[i])}if(e.int64Data){if(!Array.isArray(e.int64Data))throw TypeError(".onnx.TensorProto.int64Data: array expected");for(r.int64Data=[],i=0;i<e.int64Data.length;++i)f.Long?(r.int64Data[i]=f.Long.fromValue(e.int64Data[i])).unsigned=!1:typeof e.int64Data[i]=="string"?r.int64Data[i]=parseInt(e.int64Data[i],10):typeof e.int64Data[i]=="number"?r.int64Data[i]=e.int64Data[i]:typeof e.int64Data[i]=="object"&&(r.int64Data[i]=new f.LongBits(e.int64Data[i].low>>>0,e.int64Data[i].high>>>0).toNumber())}if(e.name!=null&&(r.name=String(e.name)),e.docString!=null&&(r.docString=String(e.docString)),e.rawData!=null&&(typeof e.rawData=="string"?f.base64.decode(e.rawData,r.rawData=f.newBuffer(f.base64.length(e.rawData)),0):e.rawData.length&&(r.rawData=e.rawData)),e.externalData){if(!Array.isArray(e.externalData))throw TypeError(".onnx.TensorProto.externalData: array expected");for(r.externalData=[],i=0;i<e.externalData.length;++i){if(typeof e.externalData[i]!="object")throw TypeError(".onnx.TensorProto.externalData: object expected");r.externalData[i]=s.onnx.StringStringEntryProto.fromObject(e.externalData[i])}}switch(e.dataLocation){case"DEFAULT":case 0:r.dataLocation=0;break;case"EXTERNAL":case 1:r.dataLocation=1}if(e.doubleData){if(!Array.isArray(e.doubleData))throw TypeError(".onnx.TensorProto.doubleData: array expected");for(r.doubleData=[],i=0;i<e.doubleData.length;++i)r.doubleData[i]=Number(e.doubleData[i])}if(e.uint64Data){if(!Array.isArray(e.uint64Data))throw TypeError(".onnx.TensorProto.uint64Data: array expected");for(r.uint64Data=[],i=0;i<e.uint64Data.length;++i)f.Long?(r.uint64Data[i]=f.Long.fromValue(e.uint64Data[i])).unsigned=!0:typeof e.uint64Data[i]=="string"?r.uint64Data[i]=parseInt(e.uint64Data[i],10):typeof e.uint64Data[i]=="number"?r.uint64Data[i]=e.uint64Data[i]:typeof e.uint64Data[i]=="object"&&(r.uint64Data[i]=new f.LongBits(e.uint64Data[i].low>>>0,e.uint64Data[i].high>>>0).toNumber(!0))}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.dims=[],i.floatData=[],i.int32Data=[],i.stringData=[],i.int64Data=[],i.doubleData=[],i.uint64Data=[],i.externalData=[]),r.defaults&&(i.dataType=0,i.segment=null,i.name="",r.bytes===String?i.rawData="":(i.rawData=[],r.bytes!==Array&&(i.rawData=f.newBuffer(i.rawData))),i.docString="",i.dataLocation=r.enums===String?"DEFAULT":0),e.dims&&e.dims.length){i.dims=[];for(var g=0;g<e.dims.length;++g)typeof e.dims[g]=="number"?i.dims[g]=r.longs===String?String(e.dims[g]):e.dims[g]:i.dims[g]=r.longs===String?f.Long.prototype.toString.call(e.dims[g]):r.longs===Number?new f.LongBits(e.dims[g].low>>>0,e.dims[g].high>>>0).toNumber():e.dims[g]}if(e.dataType!=null&&e.hasOwnProperty("dataType")&&(i.dataType=e.dataType),e.segment!=null&&e.hasOwnProperty("segment")&&(i.segment=s.onnx.TensorProto.Segment.toObject(e.segment,r)),e.floatData&&e.floatData.length)for(i.floatData=[],g=0;g<e.floatData.length;++g)i.floatData[g]=r.json&&!isFinite(e.floatData[g])?String(e.floatData[g]):e.floatData[g];if(e.int32Data&&e.int32Data.length)for(i.int32Data=[],g=0;g<e.int32Data.length;++g)i.int32Data[g]=e.int32Data[g];if(e.stringData&&e.stringData.length)for(i.stringData=[],g=0;g<e.stringData.length;++g)i.stringData[g]=r.bytes===String?f.base64.encode(e.stringData[g],0,e.stringData[g].length):r.bytes===Array?Array.prototype.slice.call(e.stringData[g]):e.stringData[g];if(e.int64Data&&e.int64Data.length)for(i.int64Data=[],g=0;g<e.int64Data.length;++g)typeof e.int64Data[g]=="number"?i.int64Data[g]=r.longs===String?String(e.int64Data[g]):e.int64Data[g]:i.int64Data[g]=r.longs===String?f.Long.prototype.toString.call(e.int64Data[g]):r.longs===Number?new f.LongBits(e.int64Data[g].low>>>0,e.int64Data[g].high>>>0).toNumber():e.int64Data[g];if(e.name!=null&&e.hasOwnProperty("name")&&(i.name=e.name),e.rawData!=null&&e.hasOwnProperty("rawData")&&(i.rawData=r.bytes===String?f.base64.encode(e.rawData,0,e.rawData.length):r.bytes===Array?Array.prototype.slice.call(e.rawData):e.rawData),e.doubleData&&e.doubleData.length)for(i.doubleData=[],g=0;g<e.doubleData.length;++g)i.doubleData[g]=r.json&&!isFinite(e.doubleData[g])?String(e.doubleData[g]):e.doubleData[g];if(e.uint64Data&&e.uint64Data.length)for(i.uint64Data=[],g=0;g<e.uint64Data.length;++g)typeof e.uint64Data[g]=="number"?i.uint64Data[g]=r.longs===String?String(e.uint64Data[g]):e.uint64Data[g]:i.uint64Data[g]=r.longs===String?f.Long.prototype.toString.call(e.uint64Data[g]):r.longs===Number?new f.LongBits(e.uint64Data[g].low>>>0,e.uint64Data[g].high>>>0).toNumber(!0):e.uint64Data[g];if(e.docString!=null&&e.hasOwnProperty("docString")&&(i.docString=e.docString),e.externalData&&e.externalData.length)for(i.externalData=[],g=0;g<e.externalData.length;++g)i.externalData[g]=s.onnx.StringStringEntryProto.toObject(e.externalData[g],r);return e.dataLocation!=null&&e.hasOwnProperty("dataLocation")&&(i.dataLocation=r.enums===String?s.onnx.TensorProto.DataLocation[e.dataLocation]:e.dataLocation),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.DataType=function(){var e={},r=Object.create(e);return r[e[0]="UNDEFINED"]=0,r[e[1]="FLOAT"]=1,r[e[2]="UINT8"]=2,r[e[3]="INT8"]=3,r[e[4]="UINT16"]=4,r[e[5]="INT16"]=5,r[e[6]="INT32"]=6,r[e[7]="INT64"]=7,r[e[8]="STRING"]=8,r[e[9]="BOOL"]=9,r[e[10]="FLOAT16"]=10,r[e[11]="DOUBLE"]=11,r[e[12]="UINT32"]=12,r[e[13]="UINT64"]=13,r[e[14]="COMPLEX64"]=14,r[e[15]="COMPLEX128"]=15,r[e[16]="BFLOAT16"]=16,r}(),t.Segment=function(){function e(r){if(r)for(var i=Object.keys(r),g=0;g<i.length;++g)r[i[g]]!=null&&(this[i[g]]=r[i[g]])}return e.prototype.begin=f.Long?f.Long.fromBits(0,0,!1):0,e.prototype.end=f.Long?f.Long.fromBits(0,0,!1):0,e.create=function(r){return new e(r)},e.encode=function(r,i){return i||(i=b.create()),r.begin!=null&&r.hasOwnProperty("begin")&&i.uint32(8).int64(r.begin),r.end!=null&&r.hasOwnProperty("end")&&i.uint32(16).int64(r.end),i},e.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},e.decode=function(r,i){r instanceof m||(r=m.create(r));for(var g=i===void 0?r.len:r.pos+i,y=new s.onnx.TensorProto.Segment;r.pos<g;){var _=r.uint32();switch(_>>>3){case 1:y.begin=r.int64();break;case 2:y.end=r.int64();break;default:r.skipType(7&_)}}return y},e.decodeDelimited=function(r){return r instanceof m||(r=new m(r)),this.decode(r,r.uint32())},e.verify=function(r){return typeof r!="object"||r===null?"object expected":r.begin!=null&&r.hasOwnProperty("begin")&&!(f.isInteger(r.begin)||r.begin&&f.isInteger(r.begin.low)&&f.isInteger(r.begin.high))?"begin: integer|Long expected":r.end!=null&&r.hasOwnProperty("end")&&!(f.isInteger(r.end)||r.end&&f.isInteger(r.end.low)&&f.isInteger(r.end.high))?"end: integer|Long expected":null},e.fromObject=function(r){if(r instanceof s.onnx.TensorProto.Segment)return r;var i=new s.onnx.TensorProto.Segment;return r.begin!=null&&(f.Long?(i.begin=f.Long.fromValue(r.begin)).unsigned=!1:typeof r.begin=="string"?i.begin=parseInt(r.begin,10):typeof r.begin=="number"?i.begin=r.begin:typeof r.begin=="object"&&(i.begin=new f.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber())),r.end!=null&&(f.Long?(i.end=f.Long.fromValue(r.end)).unsigned=!1:typeof r.end=="string"?i.end=parseInt(r.end,10):typeof r.end=="number"?i.end=r.end:typeof r.end=="object"&&(i.end=new f.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber())),i},e.toObject=function(r,i){i||(i={});var g={};if(i.defaults){if(f.Long){var y=new f.Long(0,0,!1);g.begin=i.longs===String?y.toString():i.longs===Number?y.toNumber():y}else g.begin=i.longs===String?"0":0;f.Long?(y=new f.Long(0,0,!1),g.end=i.longs===String?y.toString():i.longs===Number?y.toNumber():y):g.end=i.longs===String?"0":0}return r.begin!=null&&r.hasOwnProperty("begin")&&(typeof r.begin=="number"?g.begin=i.longs===String?String(r.begin):r.begin:g.begin=i.longs===String?f.Long.prototype.toString.call(r.begin):i.longs===Number?new f.LongBits(r.begin.low>>>0,r.begin.high>>>0).toNumber():r.begin),r.end!=null&&r.hasOwnProperty("end")&&(typeof r.end=="number"?g.end=i.longs===String?String(r.end):r.end:g.end=i.longs===String?f.Long.prototype.toString.call(r.end):i.longs===Number?new f.LongBits(r.end.low>>>0,r.end.high>>>0).toNumber():r.end),g},e.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},e}(),t.DataLocation=function(){var e={},r=Object.create(e);return r[e[0]="DEFAULT"]=0,r[e[1]="EXTERNAL"]=1,r}(),t}(),d.TensorShapeProto=function(){function t(e){if(this.dim=[],e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.dim=f.emptyArray,t.create=function(e){return new t(e)},t.encode=function(e,r){if(r||(r=b.create()),e.dim!=null&&e.dim.length)for(var i=0;i<e.dim.length;++i)s.onnx.TensorShapeProto.Dimension.encode(e.dim[i],r.uint32(10).fork()).ldelim();return r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.TensorShapeProto;e.pos<i;){var y=e.uint32();y>>>3==1?(g.dim&&g.dim.length||(g.dim=[]),g.dim.push(s.onnx.TensorShapeProto.Dimension.decode(e,e.uint32()))):e.skipType(7&y)}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){if(typeof e!="object"||e===null)return"object expected";if(e.dim!=null&&e.hasOwnProperty("dim")){if(!Array.isArray(e.dim))return"dim: array expected";for(var r=0;r<e.dim.length;++r){var i=s.onnx.TensorShapeProto.Dimension.verify(e.dim[r]);if(i)return"dim."+i}}return null},t.fromObject=function(e){if(e instanceof s.onnx.TensorShapeProto)return e;var r=new s.onnx.TensorShapeProto;if(e.dim){if(!Array.isArray(e.dim))throw TypeError(".onnx.TensorShapeProto.dim: array expected");r.dim=[];for(var i=0;i<e.dim.length;++i){if(typeof e.dim[i]!="object")throw TypeError(".onnx.TensorShapeProto.dim: object expected");r.dim[i]=s.onnx.TensorShapeProto.Dimension.fromObject(e.dim[i])}}return r},t.toObject=function(e,r){r||(r={});var i={};if((r.arrays||r.defaults)&&(i.dim=[]),e.dim&&e.dim.length){i.dim=[];for(var g=0;g<e.dim.length;++g)i.dim[g]=s.onnx.TensorShapeProto.Dimension.toObject(e.dim[g],r)}return i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.Dimension=function(){function e(i){if(i)for(var g=Object.keys(i),y=0;y<g.length;++y)i[g[y]]!=null&&(this[g[y]]=i[g[y]])}var r;return e.prototype.dimValue=f.Long?f.Long.fromBits(0,0,!1):0,e.prototype.dimParam="",e.prototype.denotation="",Object.defineProperty(e.prototype,"value",{get:f.oneOfGetter(r=["dimValue","dimParam"]),set:f.oneOfSetter(r)}),e.create=function(i){return new e(i)},e.encode=function(i,g){return g||(g=b.create()),i.dimValue!=null&&i.hasOwnProperty("dimValue")&&g.uint32(8).int64(i.dimValue),i.dimParam!=null&&i.hasOwnProperty("dimParam")&&g.uint32(18).string(i.dimParam),i.denotation!=null&&i.hasOwnProperty("denotation")&&g.uint32(26).string(i.denotation),g},e.encodeDelimited=function(i,g){return this.encode(i,g).ldelim()},e.decode=function(i,g){i instanceof m||(i=m.create(i));for(var y=g===void 0?i.len:i.pos+g,_=new s.onnx.TensorShapeProto.Dimension;i.pos<y;){var v=i.uint32();switch(v>>>3){case 1:_.dimValue=i.int64();break;case 2:_.dimParam=i.string();break;case 3:_.denotation=i.string();break;default:i.skipType(7&v)}}return _},e.decodeDelimited=function(i){return i instanceof m||(i=new m(i)),this.decode(i,i.uint32())},e.verify=function(i){if(typeof i!="object"||i===null)return"object expected";var g={};if(i.dimValue!=null&&i.hasOwnProperty("dimValue")&&(g.value=1,!(f.isInteger(i.dimValue)||i.dimValue&&f.isInteger(i.dimValue.low)&&f.isInteger(i.dimValue.high))))return"dimValue: integer|Long expected";if(i.dimParam!=null&&i.hasOwnProperty("dimParam")){if(g.value===1)return"value: multiple values";if(g.value=1,!f.isString(i.dimParam))return"dimParam: string expected"}return i.denotation!=null&&i.hasOwnProperty("denotation")&&!f.isString(i.denotation)?"denotation: string expected":null},e.fromObject=function(i){if(i instanceof s.onnx.TensorShapeProto.Dimension)return i;var g=new s.onnx.TensorShapeProto.Dimension;return i.dimValue!=null&&(f.Long?(g.dimValue=f.Long.fromValue(i.dimValue)).unsigned=!1:typeof i.dimValue=="string"?g.dimValue=parseInt(i.dimValue,10):typeof i.dimValue=="number"?g.dimValue=i.dimValue:typeof i.dimValue=="object"&&(g.dimValue=new f.LongBits(i.dimValue.low>>>0,i.dimValue.high>>>0).toNumber())),i.dimParam!=null&&(g.dimParam=String(i.dimParam)),i.denotation!=null&&(g.denotation=String(i.denotation)),g},e.toObject=function(i,g){g||(g={});var y={};return g.defaults&&(y.denotation=""),i.dimValue!=null&&i.hasOwnProperty("dimValue")&&(typeof i.dimValue=="number"?y.dimValue=g.longs===String?String(i.dimValue):i.dimValue:y.dimValue=g.longs===String?f.Long.prototype.toString.call(i.dimValue):g.longs===Number?new f.LongBits(i.dimValue.low>>>0,i.dimValue.high>>>0).toNumber():i.dimValue,g.oneofs&&(y.value="dimValue")),i.dimParam!=null&&i.hasOwnProperty("dimParam")&&(y.dimParam=i.dimParam,g.oneofs&&(y.value="dimParam")),i.denotation!=null&&i.hasOwnProperty("denotation")&&(y.denotation=i.denotation),y},e.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},e}(),t}(),d.TypeProto=function(){function t(r){if(r)for(var i=Object.keys(r),g=0;g<i.length;++g)r[i[g]]!=null&&(this[i[g]]=r[i[g]])}var e;return t.prototype.tensorType=null,t.prototype.denotation="",Object.defineProperty(t.prototype,"value",{get:f.oneOfGetter(e=["tensorType"]),set:f.oneOfSetter(e)}),t.create=function(r){return new t(r)},t.encode=function(r,i){return i||(i=b.create()),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&s.onnx.TypeProto.Tensor.encode(r.tensorType,i.uint32(10).fork()).ldelim(),r.denotation!=null&&r.hasOwnProperty("denotation")&&i.uint32(50).string(r.denotation),i},t.encodeDelimited=function(r,i){return this.encode(r,i).ldelim()},t.decode=function(r,i){r instanceof m||(r=m.create(r));for(var g=i===void 0?r.len:r.pos+i,y=new s.onnx.TypeProto;r.pos<g;){var _=r.uint32();switch(_>>>3){case 1:y.tensorType=s.onnx.TypeProto.Tensor.decode(r,r.uint32());break;case 6:y.denotation=r.string();break;default:r.skipType(7&_)}}return y},t.decodeDelimited=function(r){return r instanceof m||(r=new m(r)),this.decode(r,r.uint32())},t.verify=function(r){if(typeof r!="object"||r===null)return"object expected";if(r.tensorType!=null&&r.hasOwnProperty("tensorType")){var i=s.onnx.TypeProto.Tensor.verify(r.tensorType);if(i)return"tensorType."+i}return r.denotation!=null&&r.hasOwnProperty("denotation")&&!f.isString(r.denotation)?"denotation: string expected":null},t.fromObject=function(r){if(r instanceof s.onnx.TypeProto)return r;var i=new s.onnx.TypeProto;if(r.tensorType!=null){if(typeof r.tensorType!="object")throw TypeError(".onnx.TypeProto.tensorType: object expected");i.tensorType=s.onnx.TypeProto.Tensor.fromObject(r.tensorType)}return r.denotation!=null&&(i.denotation=String(r.denotation)),i},t.toObject=function(r,i){i||(i={});var g={};return i.defaults&&(g.denotation=""),r.tensorType!=null&&r.hasOwnProperty("tensorType")&&(g.tensorType=s.onnx.TypeProto.Tensor.toObject(r.tensorType,i),i.oneofs&&(g.value="tensorType")),r.denotation!=null&&r.hasOwnProperty("denotation")&&(g.denotation=r.denotation),g},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t.Tensor=function(){function r(i){if(i)for(var g=Object.keys(i),y=0;y<g.length;++y)i[g[y]]!=null&&(this[g[y]]=i[g[y]])}return r.prototype.elemType=0,r.prototype.shape=null,r.create=function(i){return new r(i)},r.encode=function(i,g){return g||(g=b.create()),i.elemType!=null&&i.hasOwnProperty("elemType")&&g.uint32(8).int32(i.elemType),i.shape!=null&&i.hasOwnProperty("shape")&&s.onnx.TensorShapeProto.encode(i.shape,g.uint32(18).fork()).ldelim(),g},r.encodeDelimited=function(i,g){return this.encode(i,g).ldelim()},r.decode=function(i,g){i instanceof m||(i=m.create(i));for(var y=g===void 0?i.len:i.pos+g,_=new s.onnx.TypeProto.Tensor;i.pos<y;){var v=i.uint32();switch(v>>>3){case 1:_.elemType=i.int32();break;case 2:_.shape=s.onnx.TensorShapeProto.decode(i,i.uint32());break;default:i.skipType(7&v)}}return _},r.decodeDelimited=function(i){return i instanceof m||(i=new m(i)),this.decode(i,i.uint32())},r.verify=function(i){if(typeof i!="object"||i===null)return"object expected";if(i.elemType!=null&&i.hasOwnProperty("elemType")&&!f.isInteger(i.elemType))return"elemType: integer expected";if(i.shape!=null&&i.hasOwnProperty("shape")){var g=s.onnx.TensorShapeProto.verify(i.shape);if(g)return"shape."+g}return null},r.fromObject=function(i){if(i instanceof s.onnx.TypeProto.Tensor)return i;var g=new s.onnx.TypeProto.Tensor;if(i.elemType!=null&&(g.elemType=0|i.elemType),i.shape!=null){if(typeof i.shape!="object")throw TypeError(".onnx.TypeProto.Tensor.shape: object expected");g.shape=s.onnx.TensorShapeProto.fromObject(i.shape)}return g},r.toObject=function(i,g){g||(g={});var y={};return g.defaults&&(y.elemType=0,y.shape=null),i.elemType!=null&&i.hasOwnProperty("elemType")&&(y.elemType=i.elemType),i.shape!=null&&i.hasOwnProperty("shape")&&(y.shape=s.onnx.TensorShapeProto.toObject(i.shape,g)),y},r.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},r}(),t}(),d.OperatorSetIdProto=function(){function t(e){if(e)for(var r=Object.keys(e),i=0;i<r.length;++i)e[r[i]]!=null&&(this[r[i]]=e[r[i]])}return t.prototype.domain="",t.prototype.version=f.Long?f.Long.fromBits(0,0,!1):0,t.create=function(e){return new t(e)},t.encode=function(e,r){return r||(r=b.create()),e.domain!=null&&e.hasOwnProperty("domain")&&r.uint32(10).string(e.domain),e.version!=null&&e.hasOwnProperty("version")&&r.uint32(16).int64(e.version),r},t.encodeDelimited=function(e,r){return this.encode(e,r).ldelim()},t.decode=function(e,r){e instanceof m||(e=m.create(e));for(var i=r===void 0?e.len:e.pos+r,g=new s.onnx.OperatorSetIdProto;e.pos<i;){var y=e.uint32();switch(y>>>3){case 1:g.domain=e.string();break;case 2:g.version=e.int64();break;default:e.skipType(7&y)}}return g},t.decodeDelimited=function(e){return e instanceof m||(e=new m(e)),this.decode(e,e.uint32())},t.verify=function(e){return typeof e!="object"||e===null?"object expected":e.domain!=null&&e.hasOwnProperty("domain")&&!f.isString(e.domain)?"domain: string expected":e.version!=null&&e.hasOwnProperty("version")&&!(f.isInteger(e.version)||e.version&&f.isInteger(e.version.low)&&f.isInteger(e.version.high))?"version: integer|Long expected":null},t.fromObject=function(e){if(e instanceof s.onnx.OperatorSetIdProto)return e;var r=new s.onnx.OperatorSetIdProto;return e.domain!=null&&(r.domain=String(e.domain)),e.version!=null&&(f.Long?(r.version=f.Long.fromValue(e.version)).unsigned=!1:typeof e.version=="string"?r.version=parseInt(e.version,10):typeof e.version=="number"?r.version=e.version:typeof e.version=="object"&&(r.version=new f.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber())),r},t.toObject=function(e,r){r||(r={});var i={};if(r.defaults)if(i.domain="",f.Long){var g=new f.Long(0,0,!1);i.version=r.longs===String?g.toString():r.longs===Number?g.toNumber():g}else i.version=r.longs===String?"0":0;return e.domain!=null&&e.hasOwnProperty("domain")&&(i.domain=e.domain),e.version!=null&&e.hasOwnProperty("version")&&(typeof e.version=="number"?i.version=r.longs===String?String(e.version):e.version:i.version=r.longs===String?f.Long.prototype.toString.call(e.version):r.longs===Number?new f.LongBits(e.version.low>>>0,e.version.high>>>0).toNumber():e.version),i},t.prototype.toJSON=function(){return this.constructor.toObject(this,c.util.toJSONOptions)},t}(),d),o.exports=s},2100:(o,n,u)=>{o.exports=u(9482)},9482:(o,n,u)=>{var l=n;function a(){l.util._configure(),l.Writer._configure(l.BufferWriter),l.Reader._configure(l.BufferReader)}l.build="minimal",l.Writer=u(1173),l.BufferWriter=u(3155),l.Reader=u(1408),l.BufferReader=u(593),l.util=u(9693),l.rpc=u(5994),l.roots=u(5054),l.configure=a,a()},1408:(o,n,u)=>{o.exports=b;var l,a=u(9693),d=a.LongBits,c=a.utf8;function m(g,y){return RangeError("index out of range: "+g.pos+" + "+(y||1)+" > "+g.len)}function b(g){this.buf=g,this.pos=0,this.len=g.length}var f,s=typeof Uint8Array<"u"?function(g){if(g instanceof Uint8Array||Array.isArray(g))return new b(g);throw Error("illegal buffer")}:function(g){if(Array.isArray(g))return new b(g);throw Error("illegal buffer")},t=function(){return a.Buffer?function(g){return(b.create=function(y){return a.Buffer.isBuffer(y)?new l(y):s(y)})(g)}:s};function e(){var g=new d(0,0),y=0;if(!(this.len-this.pos>4)){for(;y<3;++y){if(this.pos>=this.len)throw m(this);if(g.lo=(g.lo|(127&this.buf[this.pos])<<7*y)>>>0,this.buf[this.pos++]<128)return g}return g.lo=(g.lo|(127&this.buf[this.pos++])<<7*y)>>>0,g}for(;y<4;++y)if(g.lo=(g.lo|(127&this.buf[this.pos])<<7*y)>>>0,this.buf[this.pos++]<128)return g;if(g.lo=(g.lo|(127&this.buf[this.pos])<<28)>>>0,g.hi=(g.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return g;if(y=0,this.len-this.pos>4){for(;y<5;++y)if(g.hi=(g.hi|(127&this.buf[this.pos])<<7*y+3)>>>0,this.buf[this.pos++]<128)return g}else for(;y<5;++y){if(this.pos>=this.len)throw m(this);if(g.hi=(g.hi|(127&this.buf[this.pos])<<7*y+3)>>>0,this.buf[this.pos++]<128)return g}throw Error("invalid varint encoding")}function r(g,y){return(g[y-4]|g[y-3]<<8|g[y-2]<<16|g[y-1]<<24)>>>0}function i(){if(this.pos+8>this.len)throw m(this,8);return new d(r(this.buf,this.pos+=4),r(this.buf,this.pos+=4))}b.create=t(),b.prototype._slice=a.Array.prototype.subarray||a.Array.prototype.slice,b.prototype.uint32=(f=4294967295,function(){if(f=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(f=(f|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(f=(f|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(f=(f|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(f=(f|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))return f;if((this.pos+=5)>this.len)throw this.pos=this.len,m(this,10);return f}),b.prototype.int32=function(){return 0|this.uint32()},b.prototype.sint32=function(){var g=this.uint32();return g>>>1^-(1&g)|0},b.prototype.bool=function(){return this.uint32()!==0},b.prototype.fixed32=function(){if(this.pos+4>this.len)throw m(this,4);return r(this.buf,this.pos+=4)},b.prototype.sfixed32=function(){if(this.pos+4>this.len)throw m(this,4);return 0|r(this.buf,this.pos+=4)},b.prototype.float=function(){if(this.pos+4>this.len)throw m(this,4);var g=a.float.readFloatLE(this.buf,this.pos);return this.pos+=4,g},b.prototype.double=function(){if(this.pos+8>this.len)throw m(this,4);var g=a.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,g},b.prototype.bytes=function(){var g=this.uint32(),y=this.pos,_=this.pos+g;if(_>this.len)throw m(this,g);return this.pos+=g,Array.isArray(this.buf)?this.buf.slice(y,_):y===_?new this.buf.constructor(0):this._slice.call(this.buf,y,_)},b.prototype.string=function(){var g=this.bytes();return c.read(g,0,g.length)},b.prototype.skip=function(g){if(typeof g=="number"){if(this.pos+g>this.len)throw m(this,g);this.pos+=g}else do if(this.pos>=this.len)throw m(this);while(128&this.buf[this.pos++]);return this},b.prototype.skipType=function(g){switch(g){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(g=7&this.uint32())!=4;)this.skipType(g);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+g+" at offset "+this.pos)}return this},b._configure=function(g){l=g,b.create=t(),l._configure();var y=a.Long?"toLong":"toNumber";a.merge(b.prototype,{int64:function(){return e.call(this)[y](!1)},uint64:function(){return e.call(this)[y](!0)},sint64:function(){return e.call(this).zzDecode()[y](!1)},fixed64:function(){return i.call(this)[y](!0)},sfixed64:function(){return i.call(this)[y](!1)}})}},593:(o,n,u)=>{o.exports=d;var l=u(1408);(d.prototype=Object.create(l.prototype)).constructor=d;var a=u(9693);function d(c){l.call(this,c)}d._configure=function(){a.Buffer&&(d.prototype._slice=a.Buffer.prototype.slice)},d.prototype.string=function(){var c=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+c,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+c,this.len))},d._configure()},5054:o=>{o.exports={}},5994:(o,n,u)=>{n.Service=u(7948)},7948:(o,n,u)=>{o.exports=a;var l=u(9693);function a(d,c,m){if(typeof d!="function")throw TypeError("rpcImpl must be a function");l.EventEmitter.call(this),this.rpcImpl=d,this.requestDelimited=Boolean(c),this.responseDelimited=Boolean(m)}(a.prototype=Object.create(l.EventEmitter.prototype)).constructor=a,a.prototype.rpcCall=function d(c,m,b,f,s){if(!f)throw TypeError("request must be specified");var t=this;if(!s)return l.asPromise(d,t,c,m,b,f);if(t.rpcImpl)try{return t.rpcImpl(c,m[t.requestDelimited?"encodeDelimited":"encode"](f).finish(),function(e,r){if(e)return t.emit("error",e,c),s(e);if(r!==null){if(!(r instanceof b))try{r=b[t.responseDelimited?"decodeDelimited":"decode"](r)}catch(i){return t.emit("error",i,c),s(i)}return t.emit("data",r,c),s(null,r)}t.end(!0)})}catch(e){return t.emit("error",e,c),void setTimeout(function(){s(e)},0)}else setTimeout(function(){s(Error("already ended"))},0)},a.prototype.end=function(d){return this.rpcImpl&&(d||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(o,n,u)=>{o.exports=a;var l=u(9693);function a(b,f){this.lo=b>>>0,this.hi=f>>>0}var d=a.zero=new a(0,0);d.toNumber=function(){return 0},d.zzEncode=d.zzDecode=function(){return this},d.length=function(){return 1};var c=a.zeroHash="\0\0\0\0\0\0\0\0";a.fromNumber=function(b){if(b===0)return d;var f=b<0;f&&(b=-b);var s=b>>>0,t=(b-s)/4294967296>>>0;return f&&(t=~t>>>0,s=~s>>>0,++s>4294967295&&(s=0,++t>4294967295&&(t=0))),new a(s,t)},a.from=function(b){if(typeof b=="number")return a.fromNumber(b);if(l.isString(b)){if(!l.Long)return a.fromNumber(parseInt(b,10));b=l.Long.fromString(b)}return b.low||b.high?new a(b.low>>>0,b.high>>>0):d},a.prototype.toNumber=function(b){if(!b&&this.hi>>>31){var f=1+~this.lo>>>0,s=~this.hi>>>0;return f||(s=s+1>>>0),-(f+4294967296*s)}return this.lo+4294967296*this.hi},a.prototype.toLong=function(b){return l.Long?new l.Long(0|this.lo,0|this.hi,Boolean(b)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(b)}};var m=String.prototype.charCodeAt;a.fromHash=function(b){return b===c?d:new a((m.call(b,0)|m.call(b,1)<<8|m.call(b,2)<<16|m.call(b,3)<<24)>>>0,(m.call(b,4)|m.call(b,5)<<8|m.call(b,6)<<16|m.call(b,7)<<24)>>>0)},a.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},a.prototype.zzEncode=function(){var b=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^b)>>>0,this.lo=(this.lo<<1^b)>>>0,this},a.prototype.zzDecode=function(){var b=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^b)>>>0,this.hi=(this.hi>>>1^b)>>>0,this},a.prototype.length=function(){var b=this.lo,f=(this.lo>>>28|this.hi<<4)>>>0,s=this.hi>>>24;return s===0?f===0?b<16384?b<128?1:2:b<2097152?3:4:f<16384?f<128?5:6:f<2097152?7:8:s<128?9:10}},9693:function(o,n,u){var l=n;function a(c,m,b){for(var f=Object.keys(m),s=0;s<f.length;++s)c[f[s]]!==void 0&&b||(c[f[s]]=m[f[s]]);return c}function d(c){function m(b,f){if(!(this instanceof m))return new m(b,f);Object.defineProperty(this,"message",{get:function(){return b}}),Error.captureStackTrace?Error.captureStackTrace(this,m):Object.defineProperty(this,"stack",{value:new Error().stack||""}),f&&a(this,f)}return(m.prototype=Object.create(Error.prototype)).constructor=m,Object.defineProperty(m.prototype,"name",{get:function(){return c}}),m.prototype.toString=function(){return this.name+": "+this.message},m}l.asPromise=u(4537),l.base64=u(7419),l.EventEmitter=u(9211),l.float=u(945),l.inquire=u(7199),l.utf8=u(4997),l.pool=u(6662),l.LongBits=u(1945),l.isNode=Boolean(u.g!==void 0&&u.g&&u.g.process&&u.g.process.versions&&u.g.process.versions.node),l.global=l.isNode&&u.g||typeof window<"u"&&window||typeof self<"u"&&self||this,l.emptyArray=Object.freeze?Object.freeze([]):[],l.emptyObject=Object.freeze?Object.freeze({}):{},l.isInteger=Number.isInteger||function(c){return typeof c=="number"&&isFinite(c)&&Math.floor(c)===c},l.isString=function(c){return typeof c=="string"||c instanceof String},l.isObject=function(c){return c&&typeof c=="object"},l.isset=l.isSet=function(c,m){var b=c[m];return!(b==null||!c.hasOwnProperty(m))&&(typeof b!="object"||(Array.isArray(b)?b.length:Object.keys(b).length)>0)},l.Buffer=function(){try{var c=l.inquire("buffer").Buffer;return c.prototype.utf8Write?c:null}catch{return null}}(),l._Buffer_from=null,l._Buffer_allocUnsafe=null,l.newBuffer=function(c){return typeof c=="number"?l.Buffer?l._Buffer_allocUnsafe(c):new l.Array(c):l.Buffer?l._Buffer_from(c):typeof Uint8Array>"u"?c:new Uint8Array(c)},l.Array=typeof Uint8Array<"u"?Uint8Array:Array,l.Long=l.global.dcodeIO&&l.global.dcodeIO.Long||l.global.Long||l.inquire("long"),l.key2Re=/^true|false|0|1$/,l.key32Re=/^-?(?:0|[1-9][0-9]*)$/,l.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,l.longToHash=function(c){return c?l.LongBits.from(c).toHash():l.LongBits.zeroHash},l.longFromHash=function(c,m){var b=l.LongBits.fromHash(c);return l.Long?l.Long.fromBits(b.lo,b.hi,m):b.toNumber(Boolean(m))},l.merge=a,l.lcFirst=function(c){return c.charAt(0).toLowerCase()+c.substring(1)},l.newError=d,l.ProtocolError=d("ProtocolError"),l.oneOfGetter=function(c){for(var m={},b=0;b<c.length;++b)m[c[b]]=1;return function(){for(var f=Object.keys(this),s=f.length-1;s>-1;--s)if(m[f[s]]===1&&this[f[s]]!==void 0&&this[f[s]]!==null)return f[s]}},l.oneOfSetter=function(c){return function(m){for(var b=0;b<c.length;++b)c[b]!==m&&delete this[c[b]]}},l.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},l._configure=function(){var c=l.Buffer;c?(l._Buffer_from=c.from!==Uint8Array.from&&c.from||function(m,b){return new c(m,b)},l._Buffer_allocUnsafe=c.allocUnsafe||function(m){return new c(m)}):l._Buffer_from=l._Buffer_allocUnsafe=null}},1173:(o,n,u)=>{o.exports=t;var l,a=u(9693),d=a.LongBits,c=a.base64,m=a.utf8;function b(v,w,x){this.fn=v,this.len=w,this.next=void 0,this.val=x}function f(){}function s(v){this.head=v.head,this.tail=v.tail,this.len=v.len,this.next=v.states}function t(){this.len=0,this.head=new b(f,0,0),this.tail=this.head,this.states=null}var e=function(){return a.Buffer?function(){return(t.create=function(){return new l})()}:function(){return new t}};function r(v,w,x){w[x]=255&v}function i(v,w){this.len=v,this.next=void 0,this.val=w}function g(v,w,x){for(;v.hi;)w[x++]=127&v.lo|128,v.lo=(v.lo>>>7|v.hi<<25)>>>0,v.hi>>>=7;for(;v.lo>127;)w[x++]=127&v.lo|128,v.lo=v.lo>>>7;w[x++]=v.lo}function y(v,w,x){w[x]=255&v,w[x+1]=v>>>8&255,w[x+2]=v>>>16&255,w[x+3]=v>>>24}t.create=e(),t.alloc=function(v){return new a.Array(v)},a.Array!==Array&&(t.alloc=a.pool(t.alloc,a.Array.prototype.subarray)),t.prototype._push=function(v,w,x){return this.tail=this.tail.next=new b(v,w,x),this.len+=w,this},i.prototype=Object.create(b.prototype),i.prototype.fn=function(v,w,x){for(;v>127;)w[x++]=127&v|128,v>>>=7;w[x]=v},t.prototype.uint32=function(v){return this.len+=(this.tail=this.tail.next=new i((v>>>=0)<128?1:v<16384?2:v<2097152?3:v<268435456?4:5,v)).len,this},t.prototype.int32=function(v){return v<0?this._push(g,10,d.fromNumber(v)):this.uint32(v)},t.prototype.sint32=function(v){return this.uint32((v<<1^v>>31)>>>0)},t.prototype.uint64=function(v){var w=d.from(v);return this._push(g,w.length(),w)},t.prototype.int64=t.prototype.uint64,t.prototype.sint64=function(v){var w=d.from(v).zzEncode();return this._push(g,w.length(),w)},t.prototype.bool=function(v){return this._push(r,1,v?1:0)},t.prototype.fixed32=function(v){return this._push(y,4,v>>>0)},t.prototype.sfixed32=t.prototype.fixed32,t.prototype.fixed64=function(v){var w=d.from(v);return this._push(y,4,w.lo)._push(y,4,w.hi)},t.prototype.sfixed64=t.prototype.fixed64,t.prototype.float=function(v){return this._push(a.float.writeFloatLE,4,v)},t.prototype.double=function(v){return this._push(a.float.writeDoubleLE,8,v)};var _=a.Array.prototype.set?function(v,w,x){w.set(v,x)}:function(v,w,x){for(var T=0;T<v.length;++T)w[x+T]=v[T]};t.prototype.bytes=function(v){var w=v.length>>>0;if(!w)return this._push(r,1,0);if(a.isString(v)){var x=t.alloc(w=c.length(v));c.decode(v,x,0),v=x}return this.uint32(w)._push(_,w,v)},t.prototype.string=function(v){var w=m.length(v);return w?this.uint32(w)._push(m.write,w,v):this._push(r,1,0)},t.prototype.fork=function(){return this.states=new s(this),this.head=this.tail=new b(f,0,0),this.len=0,this},t.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new b(f,0,0),this.len=0),this},t.prototype.ldelim=function(){var v=this.head,w=this.tail,x=this.len;return this.reset().uint32(x),x&&(this.tail.next=v.next,this.tail=w,this.len+=x),this},t.prototype.finish=function(){for(var v=this.head.next,w=this.constructor.alloc(this.len),x=0;v;)v.fn(v.val,w,x),x+=v.len,v=v.next;return w},t._configure=function(v){l=v,t.create=e(),l._configure()}},3155:(o,n,u)=>{o.exports=d;var l=u(1173);(d.prototype=Object.create(l.prototype)).constructor=d;var a=u(9693);function d(){l.call(this)}function c(m,b,f){m.length<40?a.utf8.write(m,b,f):b.utf8Write?b.utf8Write(m,f):b.write(m,f)}d._configure=function(){d.alloc=a._Buffer_allocUnsafe,d.writeBytesBuffer=a.Buffer&&a.Buffer.prototype instanceof Uint8Array&&a.Buffer.prototype.set.name==="set"?function(m,b,f){b.set(m,f)}:function(m,b,f){if(m.copy)m.copy(b,f,0,m.length);else for(var s=0;s<m.length;)b[f++]=m[s++]}},d.prototype.bytes=function(m){a.isString(m)&&(m=a._Buffer_from(m,"base64"));var b=m.length>>>0;return this.uint32(b),b&&this._push(d.writeBytesBuffer,b,m),this},d.prototype.string=function(m){var b=a.Buffer.byteLength(m);return this.uint32(b),b&&this._push(c,b,m),this},d._configure()},7714:(o,n,u)=>{n.R=void 0;const l=u(6919),a=u(7448);n.R=new class{async init(){}async createSessionHandler(d,c){const m=new l.Session(c);return await m.loadModel(d),new a.OnnxjsSessionHandler(m)}}},4200:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.wasmBackend=n.initializeFlags=void 0;const l=u(2203),a=u(2174),d=u(5381),c=u(8022),m=u(2157),b=u(2306);n.initializeFlags=()=>{if((typeof a.env.wasm.initTimeout!="number"||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),typeof a.env.wasm.simd!="boolean"&&(a.env.wasm.simd=!0),typeof a.env.wasm.proxy!="boolean"&&(a.env.wasm.proxy=!1),typeof a.env.wasm.numThreads!="number"||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const f=typeof navigator>"u"?d.cpus().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((f||1)/2))}},n.wasmBackend=new class{async init(){n.initializeFlags(),await m.initWasm()}async createSessionHandler(f,s){let t;if(typeof f=="string")if(typeof fetch>"u")t=await c.promisify(l.readFile)(f);else{const r=await fetch(f),i=await r.arrayBuffer();t=new Uint8Array(i)}else t=f;const e=new b.OnnxruntimeWebAssemblySessionHandler;return await e.loadModel(t,s),Promise.resolve(e)}}},6018:function(o,n,u){var l=this&&this.__createBinding||(Object.create?function(c,m,b,f){f===void 0&&(f=b),Object.defineProperty(c,f,{enumerable:!0,get:function(){return m[b]}})}:function(c,m,b,f){f===void 0&&(f=b),c[f]=m[b]}),a=this&&this.__exportStar||function(c,m){for(var b in c)b==="default"||Object.prototype.hasOwnProperty.call(m,b)||l(m,c,b)};Object.defineProperty(n,"__esModule",{value:!0}),a(u(2174),n);const d=u(2174);{const c=u(7714).R;d.registerBackend("webgl",c,-10)}{const c=u(4200).wasmBackend;d.registerBackend("cpu",c,10),d.registerBackend("wasm",c,10),d.registerBackend("xnnpack",c,9)}},246:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createAttributeWithCacheKey=void 0;class u{constructor(a){Object.assign(this,a)}get cacheKey(){return this._cacheKey||(this._cacheKey=Object.getOwnPropertyNames(this).sort().map(a=>`${this[a]}`).join(";")),this._cacheKey}}n.createAttributeWithCacheKey=l=>new u(l)},7778:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Attribute=void 0;const l=u(1446),a=u(9395),d=u(9162),c=u(2517);var m=a.onnxruntime.experimental.fbs;class b{constructor(s){if(this._attributes=new Map,s!=null){for(const t of s)t instanceof l.onnx.AttributeProto?this._attributes.set(t.name,[b.getValue(t),b.getType(t)]):t instanceof m.Attribute&&this._attributes.set(t.name(),[b.getValue(t),b.getType(t)]);if(this._attributes.size<s.length)throw new Error("duplicated attribute names")}}set(s,t,e){this._attributes.set(s,[e,t])}delete(s){this._attributes.delete(s)}getFloat(s,t){return this.get(s,"float",t)}getInt(s,t){return this.get(s,"int",t)}getString(s,t){return this.get(s,"string",t)}getTensor(s,t){return this.get(s,"tensor",t)}getFloats(s,t){return this.get(s,"floats",t)}getInts(s,t){return this.get(s,"ints",t)}getStrings(s,t){return this.get(s,"strings",t)}getTensors(s,t){return this.get(s,"tensors",t)}get(s,t,e){const r=this._attributes.get(s);if(r===void 0){if(e!==void 0)return e;throw new Error(`required attribute not found: ${s}`)}if(r[1]!==t)throw new Error(`type mismatch: expected ${t} but got ${r[1]}`);return r[0]}static getType(s){const t=s instanceof l.onnx.AttributeProto?s.type:s.type();switch(t){case l.onnx.AttributeProto.AttributeType.FLOAT:return"float";case l.onnx.AttributeProto.AttributeType.INT:return"int";case l.onnx.AttributeProto.AttributeType.STRING:return"string";case l.onnx.AttributeProto.AttributeType.TENSOR:return"tensor";case l.onnx.AttributeProto.AttributeType.FLOATS:return"floats";case l.onnx.AttributeProto.AttributeType.INTS:return"ints";case l.onnx.AttributeProto.AttributeType.STRINGS:return"strings";case l.onnx.AttributeProto.AttributeType.TENSORS:return"tensors";default:throw new Error(`attribute type is not supported yet: ${l.onnx.AttributeProto.AttributeType[t]}`)}}static getValue(s){const t=s instanceof l.onnx.AttributeProto?s.type:s.type();if(t===l.onnx.AttributeProto.AttributeType.GRAPH||t===l.onnx.AttributeProto.AttributeType.GRAPHS)throw new Error("graph attribute is not supported yet");const e=this.getValueNoCheck(s);if(t===l.onnx.AttributeProto.AttributeType.INT&&c.LongUtil.isLong(e))return c.LongUtil.longToNumber(e);if(t===l.onnx.AttributeProto.AttributeType.INTS){const r=e,i=new Array(r.length);for(let g=0;g<r.length;g++){const y=r[g];i[g]=c.LongUtil.longToNumber(y)}return i}if(t===l.onnx.AttributeProto.AttributeType.TENSOR)return s instanceof l.onnx.AttributeProto?d.Tensor.fromProto(e):d.Tensor.fromOrtTensor(e);if(t===l.onnx.AttributeProto.AttributeType.TENSORS){if(s instanceof l.onnx.AttributeProto)return e.map(r=>d.Tensor.fromProto(r));if(s instanceof m.Attribute)return e.map(r=>d.Tensor.fromOrtTensor(r))}if(t===l.onnx.AttributeProto.AttributeType.STRING&&s instanceof l.onnx.AttributeProto){const r=e;return c.decodeUtf8String(r)}return t===l.onnx.AttributeProto.AttributeType.STRINGS&&s instanceof l.onnx.AttributeProto?e.map(c.decodeUtf8String):e}static getValueNoCheck(s){return s instanceof l.onnx.AttributeProto?this.getValueNoCheckFromOnnxFormat(s):this.getValueNoCheckFromOrtFormat(s)}static getValueNoCheckFromOnnxFormat(s){switch(s.type){case l.onnx.AttributeProto.AttributeType.FLOAT:return s.f;case l.onnx.AttributeProto.AttributeType.INT:return s.i;case l.onnx.AttributeProto.AttributeType.STRING:return s.s;case l.onnx.AttributeProto.AttributeType.TENSOR:return s.t;case l.onnx.AttributeProto.AttributeType.GRAPH:return s.g;case l.onnx.AttributeProto.AttributeType.FLOATS:return s.floats;case l.onnx.AttributeProto.AttributeType.INTS:return s.ints;case l.onnx.AttributeProto.AttributeType.STRINGS:return s.strings;case l.onnx.AttributeProto.AttributeType.TENSORS:return s.tensors;case l.onnx.AttributeProto.AttributeType.GRAPHS:return s.graphs;default:throw new Error(`unsupported attribute type: ${l.onnx.AttributeProto.AttributeType[s.type]}`)}}static getValueNoCheckFromOrtFormat(s){switch(s.type()){case m.AttributeType.FLOAT:return s.f();case m.AttributeType.INT:return s.i();case m.AttributeType.STRING:return s.s();case m.AttributeType.TENSOR:return s.t();case m.AttributeType.GRAPH:return s.g();case m.AttributeType.FLOATS:return s.floatsArray();case m.AttributeType.INTS:{const t=[];for(let e=0;e<s.intsLength();e++)t.push(s.ints(e));return t}case m.AttributeType.STRINGS:{const t=[];for(let e=0;e<s.stringsLength();e++)t.push(s.strings(e));return t}case m.AttributeType.TENSORS:{const t=[];for(let e=0;e<s.tensorsLength();e++)t.push(s.tensors(e));return t}default:throw new Error(`unsupported attribute type: ${m.AttributeType[s.type()]}`)}}}n.Attribute=b},7091:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.resolveBackend=n.backend=void 0;const l=u(5038),a=new Map;async function d(c){const m=n.backend;if(m[c]!==void 0&&function(b){const f=b;return"initialize"in f&&typeof f.initialize=="function"&&"createSessionHandler"in f&&typeof f.createSessionHandler=="function"&&"dispose"in f&&typeof f.dispose=="function"}(m[c])){const b=m[c];let f=b.initialize();if(typeof f=="object"&&"then"in f&&(f=await f),f)return a.set(c,b),b}}n.backend={webgl:new l.WebGLBackend},n.resolveBackend=async function c(m){if(!m)return c(["webgl"]);{const b=typeof m=="string"?[m]:m;for(const f of b){const s=a.get(f);if(s)return s;const t=await d(f);if(t)return t}}throw new Error("no available backend to use")}},5038:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLBackend=void 0;const l=u(2174),a=u(6231),d=u(6416),c=u(7305);n.WebGLBackend=class{get contextId(){return l.env.webgl.contextId}set contextId(m){l.env.webgl.contextId=m}get matmulMaxBatchSize(){return l.env.webgl.matmulMaxBatchSize}set matmulMaxBatchSize(m){l.env.webgl.matmulMaxBatchSize=m}get textureCacheMode(){return l.env.webgl.textureCacheMode}set textureCacheMode(m){l.env.webgl.textureCacheMode=m}get pack(){return l.env.webgl.pack}set pack(m){l.env.webgl.pack=m}get async(){return l.env.webgl.async}set async(m){l.env.webgl.async=m}initialize(){try{return this.glContext=c.createWebGLContext(this.contextId),typeof this.matmulMaxBatchSize!="number"&&(this.matmulMaxBatchSize=16),typeof this.textureCacheMode!="string"&&(this.textureCacheMode="full"),typeof this.pack!="boolean"&&(this.pack=!1),typeof this.async!="boolean"&&(this.async=!1),a.Logger.setWithEnv(l.env),a.Logger.verbose("WebGLBackend",`Created WebGLContext: ${typeof this.glContext} with matmulMaxBatchSize: ${this.matmulMaxBatchSize}; textureCacheMode: ${this.textureCacheMode}; pack: ${this.pack}; async: ${this.async}.`),!0}catch(m){return a.Logger.warning("WebGLBackend",`Unable to initialize WebGLBackend. ${m}`),!1}}createSessionHandler(m){return new d.WebGLSessionHandler(this,m)}dispose(){this.glContext.dispose()}}},5107:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.CoordsGlslLib=void 0;const l=u(2517),a=u(8520),d=u(5060),c=u(7859),m=u(9390);class b extends a.GlslLib{constructor(s){super(s)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.offsetToCoords()),this.coordsToOffset()),this.toVec()),this.valueFrom()),this.getCommonUtilFuncs()),this.getInputsSamplingSnippets()),this.getOutputSamplingSnippet())}getCustomTypes(){return{}}offsetToCoords(){return{offsetToCoords:new a.GlslLibRoutine(`
      vec2 offsetToCoords(int offset, int width, int height) {
        int t = offset / width;
        int s = offset - t*width;
        vec2 coords = (vec2(s,t) + vec2(0.5,0.5)) / vec2(width, height);
        return coords;
      }
      `)}}coordsToOffset(){return{coordsToOffset:new a.GlslLibRoutine(`
      int coordsToOffset(vec2 coords, int width, int height) {
        float s = coords.s * float(width);
        float t = coords.t * float(height);
        int offset = int(t) * width + int(s);
        return offset;
      }
      `)}}getOutputSamplingSnippet(){const s=this.context.outputTextureLayout;return s.isPacked?this.getPackedOutputSamplingSnippet(s):this.getUnpackedOutputSamplingSnippet(s)}getPackedOutputSamplingSnippet(s){const t=s.unpackedShape,e=[s.width,s.height],r={},i="getOutputCoords";switch(t.length){case 0:r[i]=this.getOutputScalarCoords();break;case 1:r[i]=this.getOutputPacked1DCoords(t,e);break;case 2:r[i]=this.getOutputPacked2DCoords(t,e);break;case 3:r[i]=this.getOutputPacked3DCoords(t,e);break;default:r[i]=this.getOutputPackedNDCoords(t,e)}const g=`
      void setOutput(vec4 val) {
        ${d.getGlsl(this.context.glContext.version).output} = val;
      }
    `;return r.floatTextureSetRGBA=new a.GlslLibRoutine(g),r}getUnpackedOutputSamplingSnippet(s){const t=s.unpackedShape,e=[s.width,s.height],r={},i="getOutputCoords";switch(t.length){case 0:r[i]=this.getOutputScalarCoords();break;case 1:r[i]=this.getOutputUnpacked1DCoords(t,e);break;case 2:r[i]=this.getOutputUnpacked2DCoords(t,e);break;case 3:r[i]=this.getOutputUnpacked3DCoords(t,e);break;case 4:r[i]=this.getOutputUnpacked4DCoords(t,e);break;case 5:r[i]=this.getOutputUnpacked5DCoords(t,e);break;case 6:r[i]=this.getOutputUnpacked6DCoords(t,e);break;default:throw new Error(`Unsupported output dimensionality: ${t.length}`)}const g=`
        void setOutput(float val) {
          ${d.getGlsl(this.context.glContext.version).output} = vec4(val, 0, 0, 0);
        }
    `;return r.floatTextureSetR=new a.GlslLibRoutine(g),r}getOutputScalarCoords(){return new a.GlslLibRoutine(`
      int getOutputCoords() {
        return 0;
      }
    `)}getOutputPacked1DCoords(s,t){const e=t;let r="";return e[0]===1?(r=`
          int getOutputCoords() {
            return 2 * int(TexCoords.y * ${e[1]}.0);
          }
        `,new a.GlslLibRoutine(r)):e[1]===1?(r=`
          int getOutputCoords() {
            return 2 * int(TexCoords.x * ${e[0]}.0);
          }
        `,new a.GlslLibRoutine(r)):(r=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                 vec2(${e[0]}, ${e[1]}));
          return 2 * (resTexRC.y * ${e[0]} + resTexRC.x);
        }
      `,new a.GlslLibRoutine(r))}getOutputPacked2DCoords(s,t){let e="";if(l.ArrayUtil.arraysEqual(s,t))return e=`
        ivec2 getOutputCoords() {
          return 2 * ivec2(TexCoords.xy * vec2(${t[0]}, ${t[1]}));
        }
      `,new a.GlslLibRoutine(e);const r=t,i=Math.ceil(s[1]/2);return e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${r[0]}, ${r[1]}));

          int index = resTexRC.y * ${r[0]} + resTexRC.x;

          // reverse r and c order for packed texture
          int r = imod(index, ${i}) * 2;
          int c = 2 * (index / ${i});

          return ivec2(r, c);
        }
      `,new a.GlslLibRoutine(e)}getOutputPacked3DCoords(s,t){const e=[t[0],t[1]],r=Math.ceil(s[2]/2),i=r*Math.ceil(s[1]/2),g=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${e[0]}, ${e[1]}));
          int index = resTexRC.y * ${e[0]} + resTexRC.x;

          int b = index / ${i};
          index -= b * ${i};

          // reverse r and c order for packed texture
          int r = imod(index, ${r}) * 2;
          int c = 2 * (index / ${r});

          return ivec3(b, r, c);
        }
      `;return new a.GlslLibRoutine(g)}getOutputPackedNDCoords(s,t){const e=[t[0],t[1]],r=Math.ceil(s[s.length-1]/2),i=r*Math.ceil(s[s.length-2]/2);let g=i,y="",_="b, r, c";for(let w=2;w<s.length-1;w++)g*=s[s.length-w-1],y=`
      int b${w} = index / ${g};
      index -= b${w} * ${g};
    `+y,_=`b${w}, `+_;const v=`
      ivec${s.length} getOutputCoords() {
        ivec2 resTexRC = ivec2(TexCoords.xy *
                              vec2(${e[0]}, ${e[1]}));
        int index = resTexRC.y * ${e[0]} + resTexRC.x;

        ${y}

        int b = index / ${i};
        index -= b * ${i};

        // reverse r and c order for packed texture
        int r = imod(index, ${r}) * 2;
        int c = 2 * (index / ${r});

        return ivec${s.length}(${_});
      }
    `;return new a.GlslLibRoutine(v)}getOutputUnpacked1DCoords(s,t){const e=`
        int getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          return resTexRC.y * ${t[0]} + resTexRC.x;
        }
      `;return new a.GlslLibRoutine(e)}getOutputUnpacked2DCoords(s,t){const e=`
        ivec2 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          int r = index / ${s[1]};
          int c = index - r * ${s[1]};
          return ivec2(r, c);
        }
      `;return new a.GlslLibRoutine(e)}getOutputUnpacked3DCoords(s,t){let e="";const r=s.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=s[r-1];for(let _=r-3;_>=0;--_)i[_]=i[_+1]*s[_+1];const g=["r","c","d"],y=i.map((_,v)=>`int ${g[v]} = index / ${_}; ${v===i.length-1?`int ${g[v+1]} = index - ${g[v]} * ${_}`:`index -= ${g[v]} * ${_}`};`).join("");return e=`
        ivec3 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${y}
          return ivec3(r, c, d);
        }
      `,new a.GlslLibRoutine(e)}getOutputUnpacked4DCoords(s,t){let e="";const r=s.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=s[r-1];for(let _=r-3;_>=0;--_)i[_]=i[_+1]*s[_+1];const g=["r","c","d","d2"],y=i.map((_,v)=>`int ${g[v]} = index / ${_}; ${v===i.length-1?`int ${g[v+1]} = index - ${g[v]} * ${_}`:`index -= ${g[v]} * ${_}`};`).join("");return e=`
      ivec4 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${y}
          return ivec4(r, c, d, d2);
        }
      `,new a.GlslLibRoutine(e)}getOutputUnpacked5DCoords(s,t){let e="";const r=s.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=s[r-1];for(let _=r-3;_>=0;--_)i[_]=i[_+1]*s[_+1];const g=["r","c","d","d2","d3"],y=i.map((_,v)=>`int ${g[v]} = index / ${_}; ${v===i.length-1?`int ${g[v+1]} = index - ${g[v]} * ${_}`:`index -= ${g[v]} * ${_}`};`).join("");return e=`
      ivec5 getOutputCoords() {
          ivec2 resTexRC = ivec2(TexCoords.xy *
                                vec2(${t[0]}, ${t[1]}));
          int index = resTexRC.y * ${t[0]} + resTexRC.x;
          ${y}
          return ivec5(r, c, d, d2, d3);
        }
      `,new a.GlslLibRoutine(e)}getOutputUnpacked6DCoords(s,t){let e="";const r=s.length;let i=null;r<2&&(i=[]),i=new Array(r-1),i[r-2]=s[r-1];for(let _=r-3;_>=0;--_)i[_]=i[_+1]*s[_+1];const g=["r","c","d","d2","d3","d4"],y=i.map((_,v)=>`int ${g[v]} = index / ${_}; ${v===i.length-1?`int ${g[v+1]} = index - ${g[v]} * ${_}`:`index -= ${g[v]} * ${_}`};`).join("");return e=`
     ivec6 getOutputCoords() {
         ivec2 resTexRC = ivec2(TexCoords.xy *
                               vec2(${t[0]}, ${t[1]}));
         int index = resTexRC.y * ${t[0]} + resTexRC.x;
         ${y}
         return ivec6(r, c, d, d2, d3, d4);
       }
     `,new a.GlslLibRoutine(e)}getCommonUtilFuncs(){const s={};let t="uvFromFlat";s[t]=new a.GlslLibRoutine(`
    vec2 uvFromFlat(int texNumR, int texNumC, int index) {
      int texC = index / texNumR;
      int texR = index - texC * texNumR;
      // TODO: swap texR, texC order in following function so row is corresponding to u and column is corresponding to
      //       v.
      return (vec2(texR, texC) + halfCR) / vec2(texNumR, texNumC);
    }
    `),t="packedUVfrom1D",s[t]=new a.GlslLibRoutine(`
      vec2 packedUVfrom1D(int texNumR, int texNumC, int index) {
        int texelIndex = index / 2;
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom2D",s[t]=new a.GlslLibRoutine(`
      vec2 packedUVfrom2D(int texNumR, int texNumC, int texelsInLogicalRow, int row, int col) {
        int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = texelIndex / texNumC;
        int texC = texelIndex - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="packedUVfrom3D",s[t]=new a.GlslLibRoutine(`
      vec2 packedUVfrom3D(int texNumR, int texNumC,
          int texelsInBatch, int texelsInLogicalRow, int b,
          int row, int col) {
        int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);
        int texR = index / texNumC;
        int texC = index - texR * texNumC;
        return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);
      }
      `),t="sampleTexture";const e=d.getGlsl(this.context.glContext.version);return s[t]=new a.GlslLibRoutine(`
        float sampleTexture(sampler2D textureSampler, vec2 uv) {
            return ${e.texture2D}(textureSampler, uv).r;
        }`),s}getInputsSamplingSnippets(){const s={},t=this.context.outputTextureLayout;return this.context.programInfo.inputNames.forEach((e,r)=>{const i=this.context.inputTextureLayouts[r],g=m.generateShaderFuncNameFromInputSamplerName(e);i.isPacked?s[g]=this.getPackedSamplerFromInput(g,e,i):s[g]=this.getUnpackedSamplerFromInput(g,e,i);const y=m.generateShaderFuncNameFromInputSamplerNameAtOutCoords(e);i.unpackedShape.length<=t.unpackedShape.length&&(i.isPacked?s[y]=this.getPackedSamplerAtOutputCoords(y,i,t,e):s[y]=this.getUnpackedSamplerAtOutputCoords(y,i,t,e))}),s}getPackedSamplerAtOutputCoords(s,t,e,r){const i=t.unpackedShape,g=e.unpackedShape,y=r,_=m.generateShaderFuncNameFromInputSamplerName(y),v=i.length,w=g.length,x=l.BroadcastUtil.getBroadcastDims(i,g),T=m.getCoordsDataType(w),A=w-v;let E;const O=m.getGlChannels();E=v===0?"":w<2&&x.length>=1?"coords = 0;":x.map(H=>`coords.${O[H+A]} = 0;`).join(`
`);let S="";S=w<2&&v>0?"coords":i.map((H,K)=>`coords.${O[K+A]}`).join(", ");let P="return outputValue;";const $=l.ShapeUtil.size(i)===1,M=l.ShapeUtil.size(g)===1;if(v!==1||$||M){if($&&!M)P=w===1?`
          return vec4(outputValue.x, outputValue.x, 0., 0.);
        `:`
          return vec4(outputValue.x);
        `;else if(x.length){const H=v-2,K=v-1;x.indexOf(H)>-1&&x.indexOf(K)>-1?P="return vec4(outputValue.x);":x.indexOf(H)>-1?P="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":x.indexOf(K)>-1&&(P="return vec4(outputValue.xx, outputValue.zz);")}}else P=`
        return vec4(outputValue.xy, outputValue.xy);
      `;const j=`
      vec4 ${s}() {
        ${T} coords = getOutputCoords();
        
        int lastDim = coords.${O[w-1]};
        coords.${O[w-1]} = coords.${O[w-2]};
        coords.${O[w-2]} = lastDim;
      
        ${E}
        vec4 outputValue = ${_}(${S});
        ${P}
      }
    `;return new a.GlslLibRoutine(j,["coordinates.getOutputCoords"])}getUnpackedSamplerAtOutputCoords(s,t,e,r){const i=[e.width,e.height],g=[t.width,t.height],y=t.unpackedShape.length,_=e.unpackedShape.length,v=t.unpackedShape,w=e.unpackedShape,x=m.generateShaderFuncNameFromInputSamplerName(r);if(y===_&&l.ArrayUtil.arraysEqual(g,i)){const M=`
          float ${s}() {
            return sampleTexture(${r}, TexCoords);
          }
        `;return new a.GlslLibRoutine(M,["coordinates.sampleTexture"])}const T=m.getCoordsDataType(_),A=l.BroadcastUtil.getBroadcastDims(v,w),E=_-y;let O;const S=m.getGlChannels();O=y===0?"":_<2&&A.length>=1?"coords = 0;":A.map(M=>`coords.${S[M+E]} = 0;`).join(`
`);let P="";P=_<2&&y>0?"coords":t.unpackedShape.map((M,j)=>`coords.${S[j+E]}`).join(", ");const $=`
        float ${s}() {
          ${T} coords = getOutputCoords();
          ${O}
          return ${x}(${P});
        }
      `;return new a.GlslLibRoutine($,["coordinates.getOutputCoords"])}getPackedSamplerFromInput(s,t,e){switch(e.unpackedShape.length){case 0:return this.getPackedSamplerScalar(s,t);case 1:return this.getPackedSampler1D(s,t,e);case 2:return this.getPackedSampler2D(s,t,e);case 3:return this.getPackedSampler3D(s,t,e);default:return this.getPackedSamplerND(s,t,e)}}getUnpackedSamplerFromInput(s,t,e){const r=e.unpackedShape;switch(r.length){case 0:return this.getUnpackedSamplerScalar(s,t,e);case 1:return this.getUnpackedSampler1D(s,t,e);case 2:return this.getUnpackedSampler2D(s,t,e);case 3:return this.getUnpackedSampler3D(s,t,e);case 4:return this.getUnpackedSampler4D(s,t,e);case 5:return this.getUnpackedSampler5D(s,t,e);case 6:return this.getUnpackedSampler6D(s,t,e);default:throw new Error(`Unsupported dimension ${r.length}-D`)}}getPackedSamplerScalar(s,t){const e=`
          vec4 ${s}() {
            return ${d.getGlsl(this.context.glContext.version).texture2D}(${t}, halfCR);
          }
        `;return new a.GlslLibRoutine(e)}getPackedSampler1D(s,t,e){const r=[e.width,e.height],i=[r[1],r[0]],g=d.getGlsl(this.context.glContext.version),y=`vec4 ${s}(int index) {
      vec2 uv = packedUVfrom1D(
      ${i[0]}, ${i[1]}, index);
      return ${g.texture2D}(${t}, uv);
    }`;return new a.GlslLibRoutine(y,["coordinates.packedUVfrom1D"])}getPackedSampler2D(s,t,e){const r=e.unpackedShape,i=[e.width,e.height],g=d.getGlsl(this.context.glContext.version),y=i[0],_=i[1];if(i!=null&&l.ArrayUtil.arraysEqual(r,i)){const T=`vec4 ${s}(int row, int col) {
        vec2 uv = (vec2(col, row) + halfCR) / vec2(${_}.0, ${y}.0);
        return ${g.texture2D}(${t}, uv);
      }`;return new a.GlslLibRoutine(T)}const v=i,w=Math.ceil(r[1]/2),x=`vec4 ${s}(int row, int col) {
      vec2 uv = packedUVfrom2D(${v[1]}, ${v[0]}, ${w}, row, col);
      return ${g.texture2D}(${t}, uv);
    }`;return new a.GlslLibRoutine(x,["coordinates.packedUVfrom2D"])}getPackedSampler3D(s,t,e){const r=e.unpackedShape,i=[e.width,e.height],g=[i[0],i[1]],y=d.getGlsl(this.context.glContext.version);if(r[0]===1){const T=r.slice(1),A=[1,2],E=m.squeezeInputShape(r,T),O=["b","row","col"],S=JSON.parse(JSON.stringify(e));S.unpackedShape=E;const P=this.getPackedSamplerFromInput(s,t,S),$=`${P.routineBody}
      vec4 ${s}(int b, int row, int col) {
        return ${s}(${m.getSqueezedParams(O,A)});
      } `;return new a.GlslLibRoutine($,P.dependencies)}const _=g[0],v=g[1],w=Math.ceil(r[2]/2),x=`vec4 ${s}(int b, int row, int col) {
      vec2 uv = packedUVfrom3D(
        ${v}, ${_}, ${w*Math.ceil(r[1]/2)}, ${w}, b, row, col);
      return ${y.texture2D}(${t}, uv);}`;return new a.GlslLibRoutine(x,["coordinates.packedUVfrom3D"])}getPackedSamplerND(s,t,e){const r=e.unpackedShape,i=r.length,g=[e.width,e.height],y=d.getGlsl(this.context.glContext.version),_=[g[0],g[1]],v=_[1],w=_[0],x=Math.ceil(r[i-1]/2);let T=x*Math.ceil(r[i-2]/2),A="int b, int row, int col",E=`b * ${T} + (row / 2) * ${x} + (col / 2)`;for(let S=2;S<i-1;S++)A=`int b${S}, `+A,T*=r[i-S-1],E=`b${S} * ${T} + `+E;const O=`vec4 ${s}(${A}) {
      int index = ${E};
      int texR = index / ${w};
      int texC = index - texR * ${w};
      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${w}, ${v});
      return ${y.texture2D}(${t}, uv);
    }`;return new a.GlslLibRoutine(O)}getUnpackedSamplerScalar(s,t,e){const[r,i]=[e.width,e.height];if(r===1&&i===1){const y=`
          float ${s}() {
            return sampleTexture(${t}, halfCR);
          }
        `;return new a.GlslLibRoutine(y,["coordinates.sampleTexture"])}const g=`
        float ${s}() {
          int offset_${t} = coordsToOffset(TexCoords, ${r}, ${i});
          vec2 uv = uvFromFlat(${r}, ${i}, offset_${t});
          return sampleTexture(${t}, uv);
        }
      `;return new a.GlslLibRoutine(g,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler1D(s,t,e){const r=e.width,i=e.height;if(i===1&&r===1){const y=`
        float ${s}(int index) {
          return sampleTexture(${t}, halfCR);
        }
      `;return new a.GlslLibRoutine(y,["coordinates.sampleTexture"])}if(i===1){const y=`
          float ${s}(int index) {
            vec2 uv = vec2((float(index) + 0.5) / ${r}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(y,["coordinates.sampleTexture"])}if(r===1){const y=`
          float ${s}(int index) {
            vec2 uv = vec2(0.5, (float(index) + 0.5) / ${i}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(y,["coordinates.sampleTexture"])}const g=`
        float ${s}(int index) {
          vec2 uv = uvFromFlat(${r}, ${i}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new a.GlslLibRoutine(g,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler2D(s,t,e){const r=e.unpackedShape,i=[e.height,e.width];if(i!=null&&l.ArrayUtil.arraysEqual(r,i)){const T=`
          float ${s}(int row, int col) {
            vec2 uv = (vec2(row, col) + halfCR) / vec2(${i[1]}.0, ${i[0]}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(T,["coordinates.sampleTexture"])}const{newShape:g,keptDims:y}=c.squeezeShape(r),_=g;if(_.length<r.length){const T=m.squeezeInputShape(r,_),A=JSON.parse(JSON.stringify(e));A.unpackedShape=T;const E=["col","row"],O=`
          ${this.getUnpackedSamplerFromInput(s,t,A).routineBody}
          float ${s}(int row, int col) {
            return ${s}(${m.getSqueezedParams(E,y)});
          }
        `;return new a.GlslLibRoutine(O,["coordinates.sampleTexture"])}const v=i[1],w=i[0];if(w===1){const T=`
          float ${s}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${w});
            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));
            vec2 uv = vec2(0.5, (index + 0.5) / ${v}.0);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(T,["coordinates.sampleTexture","coordinates.coordsToOffset"])}if(v===1){const T=`
          float ${s}(int row, int col) {
            int offset_${t} = coordsToOffset(TexCoords, ${v}, ${w});
            float index = dot(vec3(row, col, offset_${t}), vec3(${r[1]}, 1, 1));
            vec2 uv = vec2((index + 0.5) / ${w}.0, 0.5);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(T,["coordinates.sampleTexture","coordinates.coordsToOffset"])}const x=`
        float ${s}(int row, int col) {
          int index = col * ${r[1]} + row;
          vec2 uv = uvFromFlat(${v}, ${w}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new a.GlslLibRoutine(x,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler3D(s,t,e){const r=e.unpackedShape,i=r[1]*r[2],g=r[2],{newShape:y,keptDims:_}=c.squeezeShape(r),v=y;if(v.length<r.length){const x=m.squeezeInputShape(r,v),T=["batch","col","row"],A=JSON.parse(JSON.stringify(e));A.unpackedShape=x;const E=this.getUnpackedSamplerFromInput(s,t,A),O=_.reverse(),S=`
          ${E.routineBody}
          float ${s}(int batch, int row, int col) {
            return ${s}(${m.getSqueezedParams(T,O)});
          }
        `;return new a.GlslLibRoutine(S,E.dependencies)}const w=`
          float ${s}(int depth, int row, int col) {
            // Explicitly use integer operations as dot() only works on floats.
            int index = depth * ${i} + col * ${g} + row;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${t}, uv);
          }
      `;return new a.GlslLibRoutine(w,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}getUnpackedSampler4D(s,t,e){const r=e.unpackedShape,i=r[3],g=r[2]*i,y=`
        float ${s}(int row, int col, int depth, int depth2) {
          int index = row * ${r[1]*g} + col * ${g} +
              depth2 * ${i} + depth;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new a.GlslLibRoutine(y,["coordinates.uvFromFlat","coordinates.sampleTexture"])}getUnpackedSampler5D(s,t,e){const r=e.unpackedShape,i=r[4],g=r[3]*i,y=r[2]*g,_=r[1]*y,{newShape:v,keptDims:w}=c.squeezeShape(r);if(v.length<r.length){const T=m.squeezeInputShape(r,v),A=["row","col","depth","depth2","depth3"],E=JSON.parse(JSON.stringify(e));E.unpackedShape=T;const O=`
          ${this.getUnpackedSamplerFromInput(s,t,E).routineBody}
          float ${s}(int row, int col, int depth, int depth2, int depth3) {
            return ${s}(${m.getSqueezedParams(A,w)});
          }
        `;return new a.GlslLibRoutine(O,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const x=`
        float ${s}(int row, int col, int depth, int depth2, int depth3) {
          int index = row * ${_} + col * ${y} + depth * ${g} +
          depth3 * ${i} + depth2;
          vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
          return sampleTexture(${t}, uv);
        }
      `;return new a.GlslLibRoutine(x,["coordinates.sampleTexture","coordinates.uvFromFlat"])}getUnpackedSampler6D(s,t,e){const r=e.unpackedShape,i=r[5],g=r[4]*i,y=r[3]*g,_=r[2]*y,v=r[1]*_,{newShape:w,keptDims:x}=c.squeezeShape(r);if(w.length<r.length){const A=m.squeezeInputShape(r,w),E=["row","col","depth","depth2","depth3","depth4"],O=JSON.parse(JSON.stringify(e));O.unpackedShape=A;const S=`
            ${this.getUnpackedSamplerFromInput(s,t,O).routineBody}
            float ${s}(int row, int col, int depth,
              int depth2, int depth3, int depth4) {
              return ${s}(${m.getSqueezedParams(E,x)});
            }
          `;return new a.GlslLibRoutine(S,["coordinates.sampleTexture","coordinates.uvFromFlat"])}const T=`
          float ${s}(int row, int col, int depth,
            int depth2, int depth3, int depth4) {
            int index = row * ${v} + col * ${_} + depth * ${y} +
            depth2 * ${g} + depth3 * ${i} + depth4;
            vec2 uv = uvFromFlat(${e.width}, ${e.height}, index);
            return sampleTexture(${t}, uv);
          }
        `;return new a.GlslLibRoutine(T,["coordinates.uvFromFlat","coordinates.sampleTexture","coordinates.coordsToOffset"])}toVec(){const s=this.context.outputTextureLayout,t=s.shape.length,e=s.strides,r=s.width,i=s.height,g=[];for(let _=0;_<t-1;++_)g.push(`
        c[${_}] = offset / ${e[_]};`),g.push(`
        offset -= c[${_}] * ${e[_]};`);g.push(`
        c[${t-1}] = offset;`);const y=`
      void toVec(vec2 texCoords, out int c[${t}]) {
        int offset = coordsToOffset(texCoords, ${r}, ${i});
        ${g.join("")}
      }
      void toVec(int offset, out int c[${t}]) {
        ${g.join("")}
      }
    `;return{toVec:new a.GlslLibRoutine(y,["coordinates.coordsToOffset"])}}valueFrom(){const s={};return this.context.programInfo.inputNames.forEach((t,e)=>{const r=this.context.inputTextureLayouts[e],i=(r.unpackedShape.length>0?r.unpackedShape:r.shape).length;let g=`_${t}`;s[g]=new a.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!1),[`shapeUtils.indicesToOffset${g}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"]),g+="_T",s[g]=new a.GlslLibRoutine(this.getValueFromSingle(t,i,r.width,r.height,!0),[`shapeUtils.indicesToOffset${g}`,"coordinates.offsetToCoords","fragcolor.getColorAsFloat"])}),s}getValueFromSingle(s,t,e,r,i){let g=`_${s}`;return i&&(g+="_T"),`
        float ${g}(int m[${t}]) {
          int offset = indicesToOffset${g}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${r});
          float value = getColorAsFloat(${d.getGlsl(this.context.glContext.version).texture2D}(${s}, coords));
          return value;
        }
        `}getPackedValueFrom(s,t,e,r,i){let g=`_${s}_Pack`;return i&&(g+="_T"),`
        vec4 ${g}(int m[${t}]) {
          int offset = indicesToOffset_${s}(m);
          vec2 coords = offsetToCoords(offset, ${e}, ${r});
          return ${d.getGlsl(this.context.glContext.version).texture2D}(${s}, coords);
        }
        `}}n.CoordsGlslLib=b},8520:(o,n)=>{var u;Object.defineProperty(n,"__esModule",{value:!0}),n.TopologicalSortGlslRoutines=n.GlslLibRoutineNode=n.GlslLibRoutine=n.GlslLib=n.GlslContext=n.FunctionType=void 0,(u=n.FunctionType||(n.FunctionType={}))[u.ValueBased=0]="ValueBased",u[u.Positional=1]="Positional",n.GlslContext=class{constructor(l,a,d,c){this.glContext=l,this.programInfo=a,this.inputTextureLayouts=d,this.outputTextureLayout=c}},n.GlslLib=class{constructor(l){this.context=l}},n.GlslLibRoutine=class{constructor(l,a){this.routineBody=l,this.dependencies=a}},n.GlslLibRoutineNode=class{constructor(l,a,d){this.name=l,this.dependencies=d||[],a&&(this.routineBody=a)}addDependency(l){l&&this.dependencies.push(l)}},n.TopologicalSortGlslRoutines=class{static returnOrderedNodes(l){if(!l||l.length===0)return[];if(l.length===1)return l;const a=new Set,d=new Set,c=new Array;return this.createOrderedNodes(l,a,d,c),c}static createOrderedNodes(l,a,d,c){for(let m=0;m<l.length;++m)this.dfsTraverse(l[m],a,d,c)}static dfsTraverse(l,a,d,c){if(!l||d.has(l.name))return;if(a.has(l.name))throw new Error("Cyclic dependency detected. Can't topologically sort routines needed for shader.");a.add(l.name);const m=l.dependencies;if(m&&m.length>0)for(let b=0;b<m.length;++b)this.dfsTraverse(m[b],a,d,c);c.push(l),d.add(l.name),a.delete(l.name)}}},7341:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.EncodingGlslLib=void 0;const l=u(8520);class a extends l.GlslLib{constructor(c){super(c)}getFunctions(){return Object.assign(Object.assign({},this.encodeFloat32()),this.decodeFloat32())}getCustomTypes(){return{}}encodeFloat32(){return{encode:new l.GlslLibRoutine(`highp vec4 encode(highp float f) {
        return vec4(f, 0.0, 0.0, 0.0);
      }
        `)}}decodeFloat32(){return{decode:new l.GlslLibRoutine(`highp float decode(highp vec4 rgba) {
        return rgba.r;
      }
        `)}}encodeUint8(){const c=a.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{encode:new l.GlslLibRoutine(`
      highp vec4 encode(highp float f) {
        highp float F = abs(f);
        highp float Sign = step(0.0,-f);
        highp float Exponent = floor(log2(F));
        highp float Mantissa = (exp2(- Exponent) * F);
        Exponent = floor(log2(F) + 127.0) + floor(log2(Mantissa));
        highp vec4 rgba;
        rgba[0] = 128.0 * Sign  + floor(Exponent*exp2(-1.0));
        rgba[1] = 128.0 * mod(Exponent,2.0) + mod(floor(Mantissa*128.0),128.0);
        rgba[2] = floor(mod(floor(Mantissa*exp2(23.0 -8.0)),exp2(8.0)));
        rgba[3] = floor(exp2(23.0)*mod(Mantissa,exp2(-15.0)));
        ${c}
        rgba = rgba / 255.0; // values need to be normalized to [0,1]
        return rgba;
    }
        `)}}decodeUint8(){const c=a.isLittleEndian()?"rgba.rgba=rgba.abgr;":"";return{decode:new l.GlslLibRoutine(`
        highp float decode(highp vec4 rgba) {
          rgba = rgba * 255.0; // values need to be de-normalized from [0,1] to [0,255]
          ${c}
          highp float Sign = 1.0 - step(128.0,rgba[0])*2.0;
          highp float Exponent = 2.0 * mod(rgba[0],128.0) + step(128.0,rgba[1]) - 127.0;
          highp float Mantissa = mod(rgba[1],128.0)*65536.0 + rgba[2]*256.0 +rgba[3] + float(0x800000);
          highp float Result =  Sign * exp2(Exponent) * (Mantissa * exp2(-23.0 ));
          return Result;
      }
        `)}}static isLittleEndian(){const c=new ArrayBuffer(4),m=new Uint32Array(c),b=new Uint8Array(c);if(m[0]=3735928559,b[0]===239)return!0;if(b[0]===222)return!1;throw new Error("unknown endianness")}}n.EncodingGlslLib=a},9894:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FragColorGlslLib=void 0;const l=u(8520),a=u(5060);class d extends l.GlslLib{constructor(m){super(m)}getFunctions(){return Object.assign(Object.assign({},this.setFragColor()),this.getColorAsFloat())}getCustomTypes(){return{}}setFragColor(){const m=a.getGlsl(this.context.glContext.version);return{setFragColor:new l.GlslLibRoutine(`
        void setFragColor(float value) {
            ${m.output} = encode(value);
        }
        `,["encoding.encode"])}}getColorAsFloat(){return{getColorAsFloat:new l.GlslLibRoutine(`
        float getColorAsFloat(vec4 color) {
            return decode(color);
        }
        `,["encoding.decode"])}}}n.FragColorGlslLib=d},2848:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.replaceInlines=void 0;const u=/@inline[\s\n\r]+(\w+)[\s\n\r]+([0-9a-zA-Z_]+)\s*\(([^)]*)\)\s*{(([^}]|[\n\r])*)}/gm;n.replaceInlines=function(l){const a={};let d;for(;(d=u.exec(l))!==null;){const c=d[3].split(",").map(m=>{const b=m.trim().split(" ");return b&&b.length===2?{type:b[0],name:b[1]}:null}).filter(m=>m!==null);a[d[2]]={params:c,body:d[4]}}for(const c in a){const m="(\\w+)?\\s+([_0-9a-zA-Z]+)\\s+=\\s+__FUNC__\\((.*)\\)\\s*;".replace("__FUNC__",c),b=new RegExp(m,"gm");for(;(d=b.exec(l))!==null;){const f=d[1],s=d[2],t=d[3].split(","),e=f?`${f} ${s};`:"";let r=a[c].body,i="";a[c].params.forEach((y,_)=>{y&&(i+=`${y.type} ${y.name} = ${t[_]};
`)}),r=`${i}
 ${r}`,r=r.replace("return",`${s} = `);const g=`
      ${e}
      {
        ${r}
      }
      `;l=l.replace(d[0],g)}}return l.replace(u,"")}},8879:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlslPreprocessor=void 0;const l=u(8520),a=u(2848),d=u(5483),c=u(5060);n.GlslPreprocessor=class{constructor(m,b,f,s){this.libs={},this.glslLibRoutineDependencyGraph={},this.context=new l.GlslContext(m,b,f,s),Object.keys(d.glslRegistry).forEach(e=>{const r=new d.glslRegistry[e](this.context);this.libs[e]=r});const t=this.glslLibRoutineDependencyGraph;for(const e in this.libs){const r=this.libs[e].getFunctions();for(const i in r){const g=e+"."+i;let y;t[g]?(y=t[g],y.routineBody=r[i].routineBody):(y=new l.GlslLibRoutineNode(g,r[i].routineBody),t[g]=y);const _=r[i].dependencies;if(_)for(let v=0;v<_.length;++v)if(t[_[v]])y.addDependency(t[_[v]]);else{const w=new l.GlslLibRoutineNode(_[v]);t[_[v]]=w,y.addDependency(w)}}}}preprocess(){const m=this.context.programInfo;let b=m.shaderSource;return this.context.programInfo.hasMain||(b=`${b}
      ${c.getDefaultFragShaderMain(this.context.glContext.version,this.context.outputTextureLayout.shape.length)}`),b=a.replaceInlines(b),`${c.getFragShaderPreamble(this.context.glContext.version)}
    ${this.getUniforms(m.inputNames,m.variables)}
    ${this.getImports(b)}
    ${b}`}getImports(m){const b=this.selectGlslLibRoutinesToBeIncluded(m);if(b.length===0)return"";let f="";for(let s=0;s<b.length;++s){if(!b[s].routineBody)throw new Error(`Missing body for the Glsl Library routine: ${b[s].name}`);f+=b[s].routineBody+`
`}return f}selectGlslLibRoutinesToBeIncluded(m){const b=[];return Object.keys(this.glslLibRoutineDependencyGraph).forEach(f=>{const s=f.split(".")[1];m.indexOf(s)!==-1&&b.push(this.glslLibRoutineDependencyGraph[f])}),l.TopologicalSortGlslRoutines.returnOrderedNodes(b)}getUniforms(m,b){const f=[];if(m)for(const s of m)f.push(`uniform sampler2D ${s};`);if(b)for(const s of b)f.push(`uniform ${s.type} ${s.name}${s.arrayLength?`[${s.arrayLength}]`:""};`);return f.join(`
`)}}},5483:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.glslRegistry=void 0;const l=u(5107),a=u(7341),d=u(9894),c=u(2655),m=u(3891);n.glslRegistry={encoding:a.EncodingGlslLib,fragcolor:d.FragColorGlslLib,vec:m.VecGlslLib,shapeUtils:c.ShapeUtilsGlslLib,coordinates:l.CoordsGlslLib}},2655:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ShapeUtilsGlslLib=void 0;const l=u(8520);class a extends l.GlslLib{constructor(c){super(c)}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},this.bcastIndex()),this.bcastMatmulIndex()),this.offsetToIndices()),this.indicesToOffset()),this.incrementIndices())}getCustomTypes(){return{}}bcastIndex(){const c=this.context.outputTextureLayout.shape.length,m={};return this.context.programInfo.inputNames.forEach((b,f)=>{const s=this.context.inputTextureLayouts[f].unpackedShape;if(s.length<=c){const t=s.length,e=c-t,r=`bcastIndices_${b}`;let i="";for(let y=0;y<t;++y)i+=`
          realIndices[${y}] = int( mod(float(bcastedIndices[${e+y}]), ${s[y]}.0) );
          `;const g=`
        void ${r} (int bcastedIndices[${c}], out int realIndices[${t}]) {
          ${i}
        }
        `;m[r]=new l.GlslLibRoutine(g)}}),m}bcastMatmulIndex(){const c=this.context.outputTextureLayout.shape.length,m={};return this.context.programInfo.inputNames.forEach((b,f)=>{const s=this.context.inputTextureLayouts[f].shape;if(!(s.length<2||s.length>c)){const t=s.length,e=c-t,r=`bcastMatmulIndices_${b}`;let i="";for(let y=0;y<t-2;++y)i+=`
          realIndices[${y}] = int( mod(float(bcastedIndices[${e+y}]), ${s[y]}.0) );
          `;const g=`
        void ${r}(int bcastedIndices[${c}], out int realIndices[${t}]) {
          ${i}
          realIndices[${t-1}] = bcastedIndices[${c-1}];
          realIndices[${t-2}] = bcastedIndices[${c-2}];
        }
        `;m[r]=new l.GlslLibRoutine(g)}}),m}indicesToOffset(){const c={};return this.context.programInfo.inputNames.forEach((m,b)=>{const f=this.context.inputTextureLayouts[b].shape,s=this.context.inputTextureLayouts[b].strides,t=f.length;let e=`indicesToOffset_${m}`;c[e]=new l.GlslLibRoutine(a.indexToOffsetSingle(e,t,s)),e=`indicesToOffset_${m}_T`,c[e]=new l.GlslLibRoutine(a.indexToOffsetSingle(e,t,s.slice().reverse()))}),c}static indexToOffsetSingle(c,m,b){let f="";for(let s=m-1;s>=0;--s)f+=`
        offset += indices[${s}] * ${b[s]};
        `;return`
      int ${c}(int indices[${m}]) {
        int offset = 0;
        ${f}
        return offset;
      }
      `}offsetToIndices(){const c={};return this.context.programInfo.inputNames.forEach((m,b)=>{const f=this.context.inputTextureLayouts[b].shape,s=this.context.inputTextureLayouts[b].strides,t=f.length;let e=`offsetToIndices_${m}`;c[e]=new l.GlslLibRoutine(a.offsetToIndicesSingle(e,t,s)),e=`offsetToIndices_${m}_T`,c[e]=new l.GlslLibRoutine(a.offsetToIndicesSingle(e,t,s.slice().reverse()))}),c}static offsetToIndicesSingle(c,m,b){const f=[];for(let s=0;s<m-1;++s)f.push(`
      indices[${s}] = offset / ${b[s]};`),f.push(`
        offset -= indices[${s}] * ${b[s]};`);return f.push(`
      indices[${m-1}] = offset;`),`
      void ${c}(int offset, out int indices[${m}]) {
        ${f.join("")}
      }
      `}incrementIndices(){const c={};return this.context.programInfo.inputNames.forEach((m,b)=>{const f=this.context.inputTextureLayouts[b].shape,s=f.length,t=`incrementIndices_${m}`;let e="";for(let i=0;i<s;++i)e+=`
        shape[${i}] = ${f[i]};`;const r=`
        void ${t}(int axis, out int indices[${s}]) {
          int shape[${s}];
          ${e};
          for(int i = ${s} -1 ; i >= 0; --i) {
            if(i > axis) continue;
            indices[i] += 1;
            if(indices[i] < shape[i]) {
              break;
            }
            indices[i] = 0;
          }
        }
        `;c[t]=new l.GlslLibRoutine(r)}),c}}n.ShapeUtilsGlslLib=a},5060:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getDefaultFragShaderMain=n.getFragShaderPreamble=n.getVertexShaderSource=n.getGlsl=void 0;const u={version:"",attribute:"attribute",varyingVertex:"varying",varyingFrag:"varying",texture2D:"texture2D",output:"gl_FragColor",outputDeclaration:""},l={version:"#version 300 es",attribute:"in",varyingVertex:"out",varyingFrag:"in",texture2D:"texture",output:"outputColor",outputDeclaration:"out vec4 outputColor;"};function a(d){return d===1?u:l}n.getGlsl=a,n.getVertexShaderSource=function(d){const c=a(d);return`${c.version}
      precision highp float;
      ${c.attribute} vec3 position;
      ${c.attribute} vec2 textureCoord;

      ${c.varyingVertex} vec2 TexCoords;

      void main()
      {
          gl_Position = vec4(position, 1.0);
          TexCoords = textureCoord;
      }`},n.getFragShaderPreamble=function(d){const c=a(d);return`${c.version}
    precision highp float;
    precision highp int;
    precision highp sampler2D;
    ${c.varyingFrag} vec2 TexCoords;
    ${c.outputDeclaration}
    const vec2 halfCR = vec2(0.5, 0.5);

    // Custom vector types to handle higher dimenalities.
    struct ivec5
    {
      int x;
      int y;
      int z;
      int w;
      int u;
    };

    struct ivec6
    {
      int x;
      int y;
      int z;
      int w;
      int u;
      int v;
    };

    int imod(int x, int y) {
      return x - y * (x / y);
    }

    `},n.getDefaultFragShaderMain=function(d,c){return`
  void main() {
    int indices[${c}];
    toVec(TexCoords, indices);
    vec4 result = vec4(process(indices));
    ${a(d).output} = result;
  }
  `}},3891:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.VecGlslLib=void 0;const l=u(8520);class a extends l.GlslLib{constructor(c){super(c)}getCustomTypes(){return{}}getFunctions(){return Object.assign(Object.assign(Object.assign(Object.assign({},this.binaryVecFunctions()),this.copyVec()),this.setVecItem()),this.getVecItem())}binaryVecFunctions(){const c=this.context.outputTextureLayout.shape.length,m={add:"+=",sub:"-=",mul:"*=",div:"/="},b={};for(const f in m){const s=`${f}Vec`;let t="";for(let r=0;r<c;++r)t+=`
          dest[${r}] ${m[f]} src[${r}];
          `;const e=`
        void ${s}(int src[${c}], out int dest[${c}]) {
          ${t}
        }
        `;b[s]=new l.GlslLibRoutine(e)}return b}copyVec(){const c=this.context.outputTextureLayout.shape.length;let m="";for(let f=0;f<c;++f)m+=`
        dest[${f}] = src[${f}];
        `;const b=`
      void copyVec(int src[${c}], out int dest[${c}]) {
        ${m}
      }
      `;return{copyVec:new l.GlslLibRoutine(b)}}setVecItem(){const c=this.context.outputTextureLayout.shape.length;let m=`
        if(index < 0)
            index =${c} + index;
        if (index == 0)
            m[0] = value;
        `;for(let f=1;f<c-1;++f)m+=`
        else if (index == ${f})
            m[${f}] = value;
            `;m+=`
        else
            m[${c-1}] = value;
        `;const b=`
      void setVecItem(out int m[${c}], int index, int value) {
        ${m}
      }
        `;return{setVecItem:new l.GlslLibRoutine(b)}}getVecItem(){const c=this.context.outputTextureLayout.shape.length;let m=`
        if(index < 0)
            index = ${c} + index;
        if (index == 0)
            return m[0];
      `;for(let f=1;f<c-1;++f)m+=`
        else if (index == ${f})
            return m[${f}];
      `;m+=`
        else
            return m[${c-1}];
        `;const b=`
      int getVecItem(int m[${c}], int index) {
        ${m}
      }
    `;return{getVecItem:new l.GlslLibRoutine(b)}}}n.VecGlslLib=a},8316:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLInferenceHandler=void 0;const l=u(6231),a=u(9162),d=u(2517),c=u(2403),m=u(7019),b=u(8710),f=u(5611),s=u(4057),t=u(2039);n.WebGLInferenceHandler=class{constructor(e){this.session=e,this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map}calculateTextureWidthAndHeight(e,r){return s.calculateTextureWidthAndHeight(this.session.layoutStrategy,e,r)}executeProgram(e,r){if(r.length<e.inputNames.length)throw new Error(`Input size mustn't be less than ${e.inputNames.length}.`);if(e.inputNames.length!==e.inputTypes.length)throw new Error("input names size does not match input types");const i=[];for(let x=0;x<e.inputNames.length;++x)i[x]=this.getOrCreateTextureData(r[x],e.inputTypes[x]);const g=((x,T)=>{const A=T.map(O=>`${O.unpackedShape.join(",")};${O.width}x${O.height}`).join("_");let E=x.name;return x.cacheHint&&(E+="["+x.cacheHint+"]"),E+=":"+A,E})(e,i);let y=this.session.programManager.getArtifact(g);const _=y?y.programInfo:typeof e.get=="function"?e.get():e,v=s.createTextureLayoutFromTextureType(this.session.layoutStrategy,_.output.dims,_.output.textureType),w=this.createTextureData(v,_.output.type);return y||(y=this.session.programManager.build(_,i,w),this.session.programManager.setArtifact(g,y)),this.runProgram(y,i,w),w}run(e,r){return this.executeProgram(e,r).tensor}runProgram(e,r,i){for(let g=0;g<r.length;++g)if(!!r[g].isPacked!=(e.programInfo.inputTypes[g]===t.TextureType.packed))throw new Error(`input[${g}] property packed inconsistent`);if(!!i.isPacked!=(e.programInfo.output.textureType===t.TextureType.packed))throw new Error("output property packed inconsistent");this.session.programManager.run(e,r,i)}getOrCreateTextureData(e,r){let i=this.getTextureData(e.dataId,r===t.TextureType.packed);if(!i&&(i=this.getTextureData(e.dataId,r!==t.TextureType.packed),i))return r===t.TextureType.packed?this.pack(i):this.unpack(i);if(!i){const g=s.createTextureLayoutFromTextureType(this.session.layoutStrategy,e.dims,r);if(r===t.TextureType.packedLastDimension){const v=e.dims;if(v.length===4){const w=[v[0],Math.ceil(v[1]*v[2]*v[3]/4)],x=s.createTextureLayoutFromTextureType(this.session.layoutStrategy,w,r);let T=e.numberData;if(v[1]*v[2]*v[3]%4!=0){const A=v[0],E=v[1]*v[2]*v[3],O=Math.ceil(E*1/4)*4;T=new Float32Array(A*O);for(let S=0;S<A;++S){const P=S*E,$=S*O+S%1*E;T.set(e.numberData.subarray(P,P+E),$)}}return this.createTextureData(x,e.type,T,e,1)}}if(r===t.TextureType.packed){const y=s.createTextureLayoutFromShape(this.session.layoutStrategy,e.dims,1,[],{reverseWH:!0}),_=this.createTextureData(y,e.type,e.numberData,e,1);i=this.pack(_)}else i=this.createTextureData(g,e.type,e.numberData,e,1)}return i}createTextureDataFromLayoutBindTensor(e,r,i,g){return this.createTextureData(e,r,i,g,1)}createTextureData(e,r,i,g,y){l.Logger.verbose("InferenceHandler",`Creating TextureData: layout:[${JSON.stringify(e)}]`);const _=this.session.textureManager.createTextureFromLayout(r,e,i,y);return this.createTextureDataFromTexture(e,r,_,g)}reshapeUnpacked(e,r){const i=this.getOrCreateTextureData(e,t.TextureType.unpacked),g={channels:i.channels,height:i.height,width:i.width,shape:r.length!==0?r:[1],strides:d.ShapeUtil.computeStrides(r),unpackedShape:r};return this.createTextureDataFromTexture(g,e.type,i.texture).tensor}reshapePacked(e,r){const i=this.getOrCreateTextureData(e,t.TextureType.packed);if(m.isReshapeCheap(e.dims,r)){const w={channels:i.channels,height:i.height,width:i.width,shape:r.length!==0?r:[1],strides:d.ShapeUtil.computeStrides(r),unpackedShape:r,isPacked:!0};return this.createTextureDataFromTexture(w,e.type,i.texture).tensor}const g=m.processDims3D(e.dims),y=m.processDims3D(r),_=this.reshapePacked(e,g),v=this.run(m.createPackedReshape3DProgramInfoLoader(this,_,y),[_]);return this.reshapePacked(v,r)}cast(e,r){const i=this.getOrCreateTextureData(e,t.TextureType.unpacked);return this.createTextureDataFromTexture(i,r,i.texture).tensor}createTextureDataFromTexture(e,r,i,g,y){const _=Object.assign(Object.assign({},e),{tensor:g||new a.Tensor(e.unpackedShape,r,v=>this.readTexture(_),async v=>this.readTextureAsync(_),void 0,y),texture:i});return this.setTextureData(_.tensor.dataId,_,e.isPacked),_}getTextureData(e,r=!1){return this.session.isInitializer(e)?this.session.getTextureData(e,r):r?this.packedTextureDataCache.get(e):this.unpackedTextureDataCache.get(e)}setTextureData(e,r,i=!1){this.session.isInitializer(e)?this.session.setTextureData(e,r,i):(i?this.packedTextureDataCache:this.unpackedTextureDataCache).set(e,r)}isTextureLayoutCached(e,r=!1){return!!this.getTextureData(e.dataId,r)}dispose(){this.session.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(e=>this.session.textureManager.releaseTexture(e)),this.unpackedTextureDataCache=new Map}readTexture(e){return e.isPacked?this.readTexture(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTexture(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(b.encodeAsUint8(this,e))}async readTextureAsync(e){return e.isPacked?this.readTextureAsync(this.unpack(e)):this.session.backend.glContext.isFloat32DownloadSupported?this.session.textureManager.readTextureAsync(e,e.tensor.type,e.channels):this.session.textureManager.readUint8TextureAsFloat(b.encodeAsUint8(this,e))}pack(e){return this.executeProgram(c.createPackProgramInfoLoader(this,e.tensor),[e.tensor])}unpack(e){return this.executeProgram(f.createUnpackProgramInfoLoader(this,e.tensor),[e.tensor])}}},1640:function(o,n,u){var l=this&&this.__createBinding||(Object.create?function(X,me,pe,_e){_e===void 0&&(_e=pe),Object.defineProperty(X,_e,{enumerable:!0,get:function(){return me[pe]}})}:function(X,me,pe,_e){_e===void 0&&(_e=pe),X[_e]=me[pe]}),a=this&&this.__setModuleDefault||(Object.create?function(X,me){Object.defineProperty(X,"default",{enumerable:!0,value:me})}:function(X,me){X.default=me}),d=this&&this.__importStar||function(X){if(X&&X.__esModule)return X;var me={};if(X!=null)for(var pe in X)pe!=="default"&&Object.prototype.hasOwnProperty.call(X,pe)&&l(me,X,pe);return a(me,X),me};Object.defineProperty(n,"__esModule",{value:!0}),n.WEBGL_OP_RESOLVE_RULES=void 0;const c=u(2898),m=d(u(7839)),b=u(4196),f=u(2069),s=u(8138),t=u(9663),e=u(5193),r=u(7992),i=u(1253),g=u(4776),y=u(6572),_=u(3346),v=u(5623),w=u(2870),x=u(2143),T=u(4939),A=u(718),E=u(2268),O=u(8117),S=u(2278),P=u(5524),$=u(5975),M=u(3933),j=u(6558),H=u(5723),K=u(3738),C=d(u(4909)),L=u(8428),oe=u(9793);n.WEBGL_OP_RESOLVE_RULES=[["Abs","","6+",C.abs],["Acos","","7+",C.acos],["Add","","7+",m.add],["And","","7+",m.and],["Asin","","7+",C.asin],["Atan","","7+",C.atan],["AveragePool","","7+",x.averagePool,x.parseAveragePoolAttributes],["BatchNormalization","","7+",c.batchNormalization,c.parseBatchNormalizationAttributes],["Cast","","6+",b.cast,b.parseCastAttributes],["Ceil","","6+",C.ceil],["Clip","","6-10",C.clip,C.parseClipAttributes],["Clip","","11+",C.clipV11],["Concat","","4+",f.concat,f.parseConcatAttributes],["Conv","","1+",s.conv,s.parseConvAttributes],["ConvTranspose","","1+",t.convTranspose,t.parseConvTransposeAttributes],["Cos","","7+",C.cos],["Div","","7+",m.div],["Dropout","","7+",C.identity],["DepthToSpace","","1+",e.depthToSpace,e.parseDepthToSpaceAttributes],["Equal","","7+",m.equal],["Elu","","6+",C.elu,C.parseEluAttributes],["Exp","","6+",C.exp],["Flatten","","1+",r.flatten,r.parseFlattenAttributes],["Floor","","6+",C.floor],["FusedConv","com.microsoft","1+",s.conv,s.parseConvAttributes],["Gather","","1+",i.gather,i.parseGatherAttributes],["Gemm","","7-10",g.gemm,g.parseGemmAttributesV7],["Gemm","","11+",g.gemm,g.parseGemmAttributesV11],["GlobalAveragePool","","1+",x.globalAveragePool,x.parseGlobalAveragePoolAttributes],["GlobalMaxPool","","1+",x.globalMaxPool],["Greater","","7+",m.greater],["Identity","","1+",C.identity],["ImageScaler","","1+",y.imageScaler,y.parseImageScalerAttributes],["InstanceNormalization","","6+",_.instanceNormalization,_.parseInstanceNormalizationAttributes],["LeakyRelu","","6+",C.leakyRelu,C.parseLeakyReluAttributes],["Less","","7+",m.less],["Log","","6+",C.log],["MatMul","","1+",v.matMul,v.parseMatMulAttributes],["MaxPool","","1+",x.maxPool,x.parseMaxPoolAttributes],["Mul","","7+",m.mul],["Neg","","6+",C.neg],["Not","","1+",C.not],["Or","","7+",m.or],["Pad","","2-10",w.padV2,w.parsePadAttributesV2],["Pad","","11+",w.padV11,w.parsePadAttributesV11],["Pow","","7+",m.pow],["PRelu","","7+",m.pRelu],["ReduceLogSum","","1+",T.reduceLogSum,T.parseReduceAttributes],["ReduceMax","","1+",T.reduceMax,T.parseReduceAttributes],["ReduceMean","","1+",T.reduceMean,T.parseReduceAttributes],["ReduceMin","","1+",T.reduceMin,T.parseReduceAttributes],["ReduceProd","","1+",T.reduceProd,T.parseReduceAttributes],["ReduceSum","","1-12",T.reduceSum,T.parseReduceAttributes],["ReduceSumSquare","","1+",T.reduceLogSumSquare,T.parseReduceAttributes],["Relu","","6+",C.relu],["Reshape","","5+",A.reshape],["Resize","","10",E.resize,E.parseResizeAttributesV10],["Resize","","11+",E.resize,E.parseResizeAttributesV11],["Shape","","1+",O.shape],["Sigmoid","","6+",C.sigmoid],["Sin","","7+",C.sin],["Slice","","10+",S.sliceV10],["Slice","","1-9",S.slice,S.parseSliceAttributes],["Softmax","","1-12",P.softmax,P.parseSoftmaxAttributes],["Softmax","","13+",P.softmaxV13,P.parseSoftmaxAttributesV13],["Split","","2-12",$.split,$.parseSplitAttributes],["Sqrt","","6+",C.sqrt],["Squeeze","","1-12",M.squeeze,M.parseSqueezeAttributes],["Squeeze","","13+",M.squeezeV13],["Sub","","7+",m.sub],["Sum","","6+",j.sum],["Tan","","7+",C.tan],["Tanh","","6+",C.tanh],["Tile","","6+",H.tile],["Transpose","","1+",K.transpose,K.parseTransposeAttributes],["Upsample","","7-8",oe.upsample,oe.parseUpsampleAttributesV7],["Upsample","","9",oe.upsample,oe.parseUpsampleAttributesV9],["Unsqueeze","","1-12",L.unsqueeze,L.parseUnsqueezeAttributes],["Unsqueeze","","13+",L.unsqueezeV13],["Xor","","7+",m.xor]]},2898:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseBatchNormalizationAttributes=n.batchNormalization=void 0;const l=u(246),a=u(5060),d=u(2039),c={name:"BatchNormalization",inputNames:["A","Scale","B","Mean","Variance"],inputTypes:[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]};n.batchNormalization=(f,s,t)=>(b(s),[f.run(Object.assign(Object.assign({},c),{cacheHint:t.cacheKey,get:()=>m(f,s,t)}),s)]),n.parseBatchNormalizationAttributes=f=>{const s=f.attributes.getFloat("epsilon",1e-5),t=f.attributes.getFloat("momentum",.9),e=f.attributes.getInt("spatial",1);return l.createAttributeWithCacheKey({epsilon:s,momentum:t,spatial:e})};const m=(f,s,t)=>{const e=a.getGlsl(f.session.backend.glContext.version),r=s[0].dims.length,[i,g]=f.calculateTextureWidthAndHeight(s[1].dims,d.TextureType.unpacked),y=`
  float process(int[${r}] indices) {
    vec2 position = offsetToCoords(indices[1], ${i}, ${g});
    float scale = getColorAsFloat(${e.texture2D}(Scale, position));
    float mean = getColorAsFloat(${e.texture2D}(Mean, position));
    float variance = getColorAsFloat(${e.texture2D}(Variance, position));
    float b = getColorAsFloat(${e.texture2D}(B, position));

    return scale * ( (_A(indices) - mean) / sqrt(variance + float(${t.epsilon})) ) + b;
  }`;return Object.assign(Object.assign({},c),{output:{dims:s[0].dims,type:s[0].type,textureType:d.TextureType.unpacked},shaderSource:y})},b=f=>{if(!f||f.length!==5)throw new Error("BatchNormalization requires 5 inputs.");const s=f[0],t=f[1],e=f[2],r=f[3],i=f[4];if(s.dims.length<3||t.dims.length!==1||e.dims.length!==1||r.dims.length!==1||i.dims.length!==1)throw new Error("invalid input shape.");if(t.dims[0]!==s.dims[1]||e.dims[0]!==s.dims[1]||r.dims[0]!==s.dims[1]||i.dims[0]!==s.dims[1])throw new Error("invalid input shape.");if(s.type!=="float32"&&s.type!=="float64"||t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||r.type!=="float32"&&r.type!=="float64"||i.type!=="float32"&&i.type!=="float64")throw new Error("invalid input tensor types.")}},7839:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.xor=n.sub=n.pRelu=n.pow=n.or=n.mul=n.less=n.greater=n.equal=n.div=n.and=n.add=n.glslPRelu=n.glslPow=n.glslXor=n.glslOr=n.glslAnd=n.glslLess=n.glslGreater=n.glslEqual=n.glslSub=n.glslMul=n.glslDiv=n.glslAdd=void 0;const l=u(2517),a=u(8520),d=u(5060),c=u(2039);function m(){return{body:`
  float add_(float a, float b) {
    return a + b;
  }
  vec4 add_(vec4 v1, vec4 v2) {
    return v1 + v2;
  }
  `,name:"add_",type:a.FunctionType.ValueBased}}function b(){return{body:`
  float div_(float a, float b) {
    return a / b;
  }
  vec4 div_(vec4 v1, vec4 v2) {
    return v1 / v2;
  }
  `,name:"div_",type:a.FunctionType.ValueBased}}function f(){return{body:`
  float mul_(float a, float b) {
    return a * b;
  }
  vec4 mul_(vec4 v1, vec4 v2) {
    return v1 * v2;
  }
  `,name:"mul_",type:a.FunctionType.ValueBased}}function s(){return{body:`
  float sub_(float a, float b) {
    return a - b;
  }
  vec4 sub_(vec4 v1, vec4 v2) {
    return v1 - v2;
  }
  `,name:"sub_",type:a.FunctionType.ValueBased}}function t(){return{body:`
  float equal_(float a, float b) {
    return float(a == b);
  }
  vec4 equal_(vec4 v1, vec4 v2) {
    return vec4(equal(v1, v2));
  }
  `,name:"equal_",type:a.FunctionType.ValueBased}}function e(){const T="greater_";return{body:`
  float ${T}(float a, float b) {
    return float(a > b);
  }
  vec4 ${T}(vec4 v1, vec4 v2) {
    return vec4( v1.r > v2.r ,
      v1.g > v2.g,
      v1.b > v2.b,
      v1.a > v2.a );
  }
  `,name:T,type:a.FunctionType.ValueBased}}function r(){return{body:`
  float less_(float a, float b) {
    return float(a < b);
  }
  vec4 less_(vec4 v1, vec4 v2) {
    return vec4( v1.r < v2.r ,
                v1.g < v2.g,
                v1.b < v2.b,
                v1.a < v2.a );
  }
  `,name:"less_",type:a.FunctionType.ValueBased}}function i(){return{body:`
  float and_(float a, float b) {
    return float( bool(a) && bool(b) );
  }
  vec4 and_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r && b2.r ,
                b1.g && b2.g,
                b1.b && b2.b,
                b1.a && b2.a );
  }
  `,name:"and_",type:a.FunctionType.ValueBased}}function g(){return{body:`
  float or_(float a, float b) {
    return float( bool(a) || bool(b) );
  }
  vec4 or_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r || b2.r ,
                b1.g || b2.g,
                b1.b || b2.b,
                b1.a || b2.a );
  }
  `,name:"or_",type:a.FunctionType.ValueBased}}function y(){return{body:`
  float xor_(float a, float b) {
    return float( bool(a) ^^ bool(b) );
  }
  vec4 xor_(vec4 v1, vec4 v2) {
    bvec4 b1 = bvec4(v1);
    bvec4 b2 = bvec4(v2);
    return vec4( b1.r ^^ b2.r ,
                b1.g ^^ b2.g,
                b1.b ^^ b2.b,
                b1.a ^^ b2.a );
  }
  `,name:"xor_",type:a.FunctionType.ValueBased}}function _(){return function(T){return{body:`
  float pow_(float a, float b) {
    return pow(a, b);
  }
  vec4 pow_(vec4 v1, vec4 v2) {
    return pow(v1, v2);
  }
  `,name:"pow_",type:a.FunctionType.ValueBased}}()}function v(){return{body:`
  float prelu_(float a, float b) {
    return a < 0.0 ? a * b: a;
  }
  vec4 prelu_(vec4 v1, vec4 v2) {
    return vec4(
      v1.r < 0.0 ? v1.r * v2.r: v1.r,
      v1.g < 0.0 ? v1.g * v2.g: v1.g,
      v1.b < 0.0 ? v1.b * v2.b: v1.b,
      v1.a < 0.0 ? v1.a * v2.a: v1.a
      );
  }
  `,name:"prelu_",type:a.FunctionType.ValueBased}}n.glslAdd=m,n.glslDiv=b,n.glslMul=f,n.glslSub=s,n.glslEqual=t,n.glslGreater=e,n.glslLess=r,n.glslAnd=i,n.glslOr=g,n.glslXor=y,n.glslPow=_,n.glslPRelu=v;const w=(T,A,E,O=A[0].type,S)=>{const P=T.session.pack?c.TextureType.packed:c.TextureType.unpacked;return{name:E.name,inputNames:["A","B"],inputTypes:[P,P],cacheHint:S,get:()=>x(T,A,E,O)}},x=(T,A,E,O=A[0].type)=>{const S=T.session.pack?c.TextureType.packed:c.TextureType.unpacked,P=!l.ShapeUtil.areEqual(A[0].dims,A[1].dims);let $=A[0].dims;const M=T.session.pack;if(P){const K=l.BroadcastUtil.calcShape(A[0].dims,A[1].dims,!1);if(!K)throw new Error("Can't perform binary op on the given tensors");$=K;const C=$.length,L=A[0].dims.length!==0?A[0].dims.length:1,oe=A[1].dims.length!==0?A[1].dims.length:1,X=A[0].dims.length!==0?"bcastIndices_A(indices, aindices);":"aindices[0] = 0;",me=A[1].dims.length!==0?"bcastIndices_B(indices, bindices);":"bindices[0] = 0;",pe=d.getGlsl(T.session.backend.glContext.version),_e=M?`
      ${E.body}
      void main() {
        vec4 a = getAAtOutCoords();
        vec4 b = getBAtOutCoords();
        vec4 result = ${E.name}(a, b);
        ${pe.output} = result;
      }`:`
      ${E.body}
      float process(int indices[${C}]) {
        int aindices[${L}];
        int bindices[${oe}];
        ${X}
        ${me}
        return ${E.name}(_A(aindices), _B(bindices));
      }`;return{name:E.name,inputNames:["A","B"],inputTypes:[S,S],output:{dims:$,type:O,textureType:S},shaderSource:_e,hasMain:M}}const j=d.getGlsl(T.session.backend.glContext.version),H=`
    ${E.body}
    void main() {
      vec4 v1 = ${j.texture2D}(A, TexCoords);
      vec4 v2 = ${j.texture2D}(B, TexCoords);
      vec4 result = ${E.name}(v1, v2);
      ${j.output} = result;
    }
    `;return{name:E.name,inputNames:["A","B"],inputTypes:[S,S],output:{dims:A[0].dims,type:O,textureType:S},shaderSource:H,hasMain:!0}};n.add=(T,A)=>[T.run(w(T,A,m()),A)],n.and=(T,A)=>[T.run(w(T,A,i(),"bool"),A)],n.div=(T,A)=>[T.run(w(T,A,b()),A)],n.equal=(T,A)=>[T.run(w(T,A,t(),"bool"),A)],n.greater=(T,A)=>[T.run(w(T,A,e(),"bool"),A)],n.less=(T,A)=>[T.run(w(T,A,r(),"bool"),A)],n.mul=(T,A)=>[T.run(w(T,A,f()),A)],n.or=(T,A)=>[T.run(w(T,A,g(),"bool"),A)],n.pow=(T,A)=>[T.run(w(T,A,_()),A)],n.pRelu=(T,A)=>[T.run(w(T,A,v()),A)],n.sub=(T,A)=>[T.run(w(T,A,s()),A)],n.xor=(T,A)=>[T.run(w(T,A,y(),"bool"),A)]},4196:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseCastAttributes=n.cast=void 0;const l=u(2517);n.cast=(d,c,m)=>(a(c),[d.cast(c[0],m)]),n.parseCastAttributes=d=>l.ProtoUtil.tensorDataTypeFromProto(d.attributes.getInt("to"));const a=d=>{if(!d||d.length!==1)throw new Error("Cast requires 1 input.");if(d[0].type==="string")throw new Error("Invalid input type.")}},1163:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedConcatProgramInfoLoader=void 0;const l=u(5060),a=u(2039),d=u(9390),c=u(2827);n.createPackedConcatProgramInfoLoader=(b,f,s)=>{const t=(e=f.length,r=s.cacheKey,{name:"Concat (packed)",inputNames:Array.from({length:e},(i,g)=>`X${g}`),inputTypes:Array(e).fill(a.TextureType.packed),cacheHint:r});var e,r;return Object.assign(Object.assign({},t),{get:()=>((i,g,y,_)=>{const v=y[0].dims.slice();if(_>=v.length||_<-1*v.length)throw new Error("axis specified for concat doesn't match input dimensionality");_<0&&(_=v.length+_);const w=v.slice(0);for(let X=1;X<y.length;X++){const me=y[X].dims.slice();for(let pe=0;pe<v.length;pe++)if(pe===_)w[_]+=me[pe];else if(v[pe]!==me[pe])throw new Error("non concat dimensions must match")}const x=w.length,T=c.getChannels("coords",x),A=d.getCoordsDataType(x),E=c.unpackFromChannel(),O=y.map(X=>X.dims),S=d.getGlChannels(x),P=new Array(O.length-1);P[0]=O[0][_];for(let X=1;X<P.length;X++)P[X]=P[X-1]+O[X][_];const $=S[_],M=S.slice(-2),j=S.join();let H=`if (${$} < ${P[0]}) {
        return getChannel(
            getX0(${j}), vec2(${M.join()}));
        }`;for(let X=1;X<P.length;X++){const me=P[X-1];H+=`
            if (${$} < ${P[X]}  && ${$} >= ${P[X-1]}) {
              return getChannel(
                getX${X}(${m(S,$,me)}),
                vec2(${m(M,$,me)}));
            }`}const K=P.length,C=P[P.length-1];H+=`
            return getChannel(
              getX${K}(${m(S,$,C)}),
              vec2(${m(M,$,C)}));`;const L=l.getGlsl(i.session.backend.glContext.version),oe=`
          ${E}
          float getValue(${S.map(X=>"int "+X)}) {
            ${H}
          }

          void main() {
            ${A} coords = getOutputCoords();
            int lastDim = coords.${S[x-1]};
            coords.${S[x-1]} = coords.${S[x-2]};
            coords.${S[x-2]} = lastDim;

            vec4 result = vec4(getValue(${T}), 0., 0., 0.);

            ${T[x-1]} = ${T[x-1]} + 1;
            if (${T[x-1]} < ${w[x-1]}) {
              result.g = getValue(${T});
            }

            ${T[x-2]} = ${T[x-2]} + 1;
            if (${T[x-2]} < ${w[x-2]}) {
              result.a = getValue(${T});
            }

            ${T[x-1]} = ${T[x-1]} - 1;
            if (${T[x-2]} < ${w[x-2]} &&
                ${T[x-1]} < ${w[x-1]}) {
              result.b = getValue(${T});
            }
            ${L.output} = result;
          }
        `;return Object.assign(Object.assign({},g),{output:{dims:w,type:y[0].type,textureType:a.TextureType.packed},shaderSource:oe,hasMain:!0})})(b,t,f,s.axis)})};const m=(b,f,s)=>{const t=b.indexOf(f);return b.map((e,r)=>r===t?`${e} - ${s}`:e).join()}},2069:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConcatAttributes=n.concat=void 0;const l=u(246),a=u(2039),d=u(1163);n.concat=(e,r,i)=>(t(r),e.session.pack&&r[0].dims.length>1?[e.run(d.createPackedConcatProgramInfoLoader(e,r,i),r)]:[e.run(c(e,r,i),r)]);const c=(e,r,i)=>{const g=(y=r.length,_=i.cacheKey,{name:"Concat",inputNames:Array.from({length:y},(v,w)=>`X${w}`),inputTypes:Array(y).fill(a.TextureType.unpacked),cacheHint:_});var y,_;return Object.assign(Object.assign({},g),{get:()=>((v,w,x,T)=>{const A=x[0].dims.slice();if(T>=A.length||T<-1*A.length)throw new Error("axis specified for concat doesn't match input dimensionality");T<0&&(T=A.length+T);const E=A.slice(0);for(let j=1;j<x.length;j++){const H=x[j].dims.slice();for(let K=0;K<A.length;K++)if(K===T)E[T]+=H[K];else if(A[K]!==H[K])throw new Error("non concat dimensions must match")}const O=E.length,S=new Array(x.length);let P=0;for(let j=0;j<S.length;++j)P+=x[j].dims[T],S[j]=P;let $="";$=x.length<5?m(S):b(S);const M=`
        ${f(x.length,O)}
        ${s(S)}
        ${$}
        float process(int indices[${O}]) {
          int textureIndex = getTextureWhereDataResides (indices[${T}]);

          if(textureIndex != 0) {
            indices[${T}] = indices[${T}] - int(getSizeInConcatAxisValueFromIndex(textureIndex-int(1)));
          }

          return fetchDataFromCorrectTexture(textureIndex, indices);
        }`;return Object.assign(Object.assign({},w),{output:{dims:E,type:x[0].type,textureType:a.TextureType.unpacked},shaderSource:M})})(0,g,r,i.axis)})},m=e=>`int getTextureWhereDataResides(int index) {
      ${e.map((r,i)=>`if(index<${r}) {return ${i};}
`).join("")}
    }`,b=e=>m(e),f=(e,r)=>{const i=[`float fetchDataFromCorrectTexture(int textureIndex, int indices[${r}]) {`];for(let g=0;g<e;++g)g===0?i.push(`	if (textureIndex == ${g}) { return _X${g}(indices); }`):g===e-1?i.push(`	else { return _X${g}(indices); }`):i.push(`	else if (textureIndex == ${g}) { return _X${g}(indices); }`);return i.push("	}"),i.join(`
`)},s=e=>{const r=["int getSizeInConcatAxisValueFromIndex(int index) {"];for(let i=0;i<e.length;++i)i===0?r.push(`	if (index == ${i}) { return ${e[i]}; }`):i===e.length-1?r.push(`	else { return ${e[i]}; }`):r.push(`	else if (index == ${i}) { return ${e[i]}; }`);return r.push("	}"),r.join(`
`)};n.parseConcatAttributes=e=>l.createAttributeWithCacheKey({axis:e.attributes.getInt("axis")});const t=e=>{if(!e||e.length<1)throw new Error("too few inputs");const r=e[0].type,i=e[0].dims.length;if(r==="string")throw new Error("string tensor is not supported yet");for(const g of e){if(g.type!==r)throw new Error("input tensors should be one type");if(g.dims.length!==i)throw new Error("input tensors should have the same shape")}}},4770:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackedGroupedConvProgramInfoLoader=void 0;const l=u(6231),a=u(5060),d=u(2039),c=u(8138),m=u(2823);n.createUnpackedGroupedConvProgramInfoLoader=(b,f,s)=>{const t=(e=f.length>2,r=s.cacheKey,{name:"GroupedConv",inputNames:e?["X","W","Bias"]:["X","W"],inputTypes:e?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:r});var e,r;return Object.assign(Object.assign({},t),{get:()=>((i,g,y,_)=>{const v=g.length>2?"value += getBias(output_channel);":"",w=g[0].dims.slice(),x=g[1].dims.slice(),T=x[0]/_.group;l.Logger.verbose("GroupedConv",`autpPad:${_.autoPad}, dilations:${_.dilations}, group:${_.group}, kernelShape:${_.kernelShape}, pads:${_.pads}, strides:${_.strides}`);const A=c.calculateOutputShape(w,x,_.dilations,_.pads,_.strides),E=a.getGlsl(i.session.backend.glContext.version),{activationFunction:O,applyActivation:S}=m.getActivationSnippet(_),P=`
  const ivec2 strides = ivec2(${_.strides[0]}, ${_.strides[1]});
  const ivec2 pads = ivec2(${_.pads[0]}, ${_.pads[1]});
  ${O}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;
    ivec2 xRCCorner = coords.zw * strides - pads;
    int group_id = output_channel / ${T};

    float value = 0.0;
    for (int wInChannel = 0; wInChannel < ${x[1]}; wInChannel++) {
      int input_channel = group_id * ${x[1]} + wInChannel;
      for (int wHeight = 0; wHeight < ${x[2]}; wHeight++) {
        int xHeight = xRCCorner.x + wHeight * ${_.dilations[0]};

        if (xHeight < 0 || xHeight >= ${w[2]}) {
          continue;
        }

        for (int wWidth = 0; wWidth < ${x[3]}; wWidth++) {
          int xWidth = xRCCorner.y + wWidth * ${_.dilations[1]};
          if (xWidth < 0 || xWidth >= ${w[3]}) {
            continue;
          }

          float xVal = getX(batch, input_channel, xWidth, xHeight);
          float wVal = getW(output_channel, wInChannel, wWidth, wHeight);
          value += xVal*wVal;
        }
      }
    }
    ${v}
    ${S}
    ${E.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},y),{output:{dims:A,type:g[0].type,textureType:d.TextureType.unpacked},shaderSource:P,hasMain:!0})})(b,f,t,s)})}},1386:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.conv2DPacked=n.conv2DPackedPointwise=void 0;const l=u(8138),a=u(8555),d=u(708);n.conv2DPackedPointwise=(c,m,b)=>{const f=m[0].dims,s=m[1].dims,t=l.calculateOutputShape(f,s,b.dilations,b.pads,b.strides),e=c.reshapePacked(m[0],[f[1],f[2]*f[3]]),r=c.reshapePacked(m[1],[s[0],s[1]]),i=m.length>2?[r,e,m[2]]:[r,e],g=c.run(d.createPackedMatmulProgramInfoLoader(c,i,b),i);return c.reshapePacked(g,t)},n.conv2DPacked=(c,m,b)=>{const f=m[0].dims,s=m[1].dims,t=l.calculateOutputShape(f,s,b.dilations,b.pads,b.strides),e=c.run(a.createPackedIm2ColProgramInfoLoader(c,m[0],m[1],t,b),[m[0]]),r=c.reshapePacked(m[1],[s[0],s[1]*s[2]*s[3]]),i=m.length===3?[r,e,m[2]]:[r,e],g=c.run(d.createPackedMatmulProgramInfoLoader(c,i,b),i);return c.reshapePacked(g,t)}},9663:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvTransposeAttributes=n.convTranspose=void 0;const l=u(246),a=u(5060),d=u(2039),c=u(2823),m=(r,i,g,y,_,v)=>(r-1)*i+g+(y-1)*_+1-v,b=(r,i,g,y,_)=>{const v=Math.floor(r/2);i==="SAME_UPPER"?(g[y]=v,g[_]=r-v):i==="SAME_LOWER"&&(g[y]=r-v,g[_]=v)};n.convTranspose=(r,i,g)=>(e(i,g),f(r,i,g));const f=(r,i,g)=>{const y=t(g,i);return[s(r,i,y)]},s=(r,i,g)=>r.run(((y,_,v)=>{const w=(x=_.length>2,T=v.cacheKey,{name:"ConvTranspose",inputNames:x?["X","W","B"]:["X","W"],inputTypes:x?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],cacheHint:T});var x,T;return Object.assign(Object.assign({},w),{get:()=>((A,E,O,S)=>{const P=E.length>2?"getB(output_channel)":"0.0",$=E[0].dims,M=E[1].dims,j=M[1],H=M[0]/S.group,K=[E[0].dims[0],E[1].dims[1]*S.group,...S.outputShape],C=a.getGlsl(A.session.backend.glContext.version),{activationFunction:L,applyActivation:oe}=c.getActivationSnippet(S),X=`
  const ivec2 strides = ivec2(${S.strides[0]}, ${S.strides[1]});
  const ivec2 pads = ivec2(${S.pads[0]}, ${S.pads[1]});
  ${L}
  void main() {
    ivec4 coords = getOutputCoords();
    int batch = coords.x;
    int output_channel = coords.y;

    ivec2 loc = coords.zw + pads;

    int group_id = output_channel / ${j};
    int wOutChannel = output_channel - group_id * ${j};

    float value = ${P};
    for (int inChannelOffset = 0; inChannelOffset < ${H}; inChannelOffset++) {
      int input_channel = group_id * ${H} + inChannelOffset;
      for (int wWOff = 0; wWOff < ${M[2]}; wWOff++) {
        for (int wHOff = 0; wHOff < ${M[3]}; wHOff++) {
          ivec2 wOff = ivec2(wWOff * ${S.dilations[0]}, wHOff * ${S.dilations[1]});
          ivec2 wLoc = loc - wOff;
          ivec2 wLocIn = wLoc / strides;
          if (
            wLocIn * strides == wLoc &&
            wLocIn.x >= 0 && wLocIn.x < ${$[2]} &&
            wLocIn.y >= 0 && wLocIn.y < ${$[3]}
          ) {
            float xVal = getX(batch, input_channel, wLocIn.y, wLocIn.x);
            float wVal = getW(input_channel, wOutChannel, wHOff, wWOff);
            value += xVal * wVal;
          }
        }
      }
    }
    ${oe}
    ${C.output} = vec4(value, .0, .0, .0);
  }
`;return Object.assign(Object.assign({},O),{output:{dims:K,type:E[0].type,textureType:d.TextureType.unpacked},shaderSource:X,hasMain:!0})})(y,_,w,v)})})(r,i,g),i),t=(r,i)=>{const g=r.kernelShape.slice();if(r.kernelShape.length===0)for(let w=2;w<i[1].dims.length;++w)g.push(i[1].dims[w]);const y=r.pads.slice(),_=r.outputShape.slice();((w,x,T,A,E,O,S,P)=>{const $=w.length-2,M=P.length===0;for(let j=0;j<$;++j){const H=M?w[j+2]*O[j]:P[j],K=m(w[j+2],O[j],E[j],x[j],T[j],H);b(K,A,E,j,j+$),M&&P.push(O[j]*(w[j+2]-1)+S[j]+(x[j]-1)*T[j]+1-E[j]-E[j+$])}})(i[0].dims,g,r.dilations,r.autoPad,y,r.strides,r.outputPadding,_);const v=Object.assign({},r);return Object.assign(v,{kernelShape:g,pads:y,outputShape:_,cacheKey:r.cacheKey}),v};n.parseConvTransposeAttributes=r=>{const i=r.attributes,g=c.parseInternalActivationAttributes(i),y=i.getString("auto_pad","NOTSET"),_=i.getInts("dilations",[1,1]),v=i.getInt("group",1),w=i.getInts("kernel_shape",[]),x=i.getInts("output_padding",[0,0]),T=i.getInts("output_shape",[]),A=i.getInts("pads",[0,0,0,0]),E=i.getInts("strides",[1,1]);return l.createAttributeWithCacheKey(Object.assign({autoPad:y,dilations:_,group:v,kernelShape:w,outputPadding:x,outputShape:T,pads:A,strides:E},g))};const e=(r,i)=>{if(!r||r.length!==2&&r.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(r[0].dims.length!==4||r[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(r[0].dims[1]!==r[1].dims[0])throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");const g=r[1].dims[1]*i.group;if(r.length===3&&(r[2].dims.length!==1||r[2].dims[0]!==g))throw new Error("invalid bias");const y=r[0].dims.length-2;if(i.dilations.length!==y)throw new Error(`dilations should be ${y}D`);if(i.strides.length!==y)throw new Error(`strides should be ${y}D`);if(i.pads.length!==2*y)throw new Error(`pads should be ${2*y}D`);if(i.outputPadding.length!==y)throw new Error(`output_padding should be ${y}D`);if(i.kernelShape.length!==0&&i.kernelShape.length!==r[1].dims.length-2)throw new Error("invalid kernel shape");if(i.outputShape.length!==0&&i.outputShape.length!==r[0].dims.length-2)throw new Error("invalid output shape");if(r[0].type!=="float32"||r[1].type!=="float32")throw new Error("ConvTranspose input(X,W) should be float tensor");if(r.length===3&&r[2].type!=="float32")throw new Error("ConvTranspose input(bias) should be float tensor")}},8138:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseConvAttributes=n.conv=n.calculateOutputShape=void 0;const l=u(246),a=u(2517),d=u(4770),c=u(1386),m=u(9828),b=u(2823),f=u(3248),s=u(5623);n.calculateOutputShape=(y,_,v,w,x)=>{const T=y[0],A=y.slice(2),E=A.length,O=_[0],S=_.slice(2).map(($,M)=>$+($-1)*(v[M]-1)),P=A.map(($,M)=>$+w[M]+w[M+E]).map(($,M)=>Math.floor(($-S[M]+x[M])/x[M]));return[T,O].concat(...P)},n.conv=(y,_,v)=>(g(_,v),t(y,_,v));const t=(y,_,v)=>{const w=i(v,_),x=y.session.pack,T=w.kernelShape[0]===1&&w.kernelShape[1]===1;return w.group>1?[y.run(d.createUnpackedGroupedConvProgramInfoLoader(y,_,w),_)]:T&&x?[e(y,_,w)]:x&&_[0].dims.length===4&&_[0].dims[0]===1&&!T?[c.conv2DPacked(y,_,w)]:[r(y,_,w)]},e=(y,_,v)=>{const w=_[0].dims,x=_[1].dims,T=n.calculateOutputShape(w,x,v.dilations,v.pads,v.strides),A=y.reshapeUnpacked(_[0],[w[1],w[2]*w[3]]),E=y.reshapeUnpacked(_[1],[x[0],x[1]]),O=_.length>2?[E,A,_[2]]:[E,A],S=y.run(s.createMatmulProgramInfoLoader(O,v),O);return y.reshapeUnpacked(S,T)},r=(y,_,v)=>{const w=_[0].dims,x=_[1].dims,T=n.calculateOutputShape(w,x,v.dilations,v.pads,v.strides),A=y.run(f.createIm2ColProgramInfoLoader(y,_[0],_[1],T,v),[_[0]]),E=_.length===3?[A,_[1],_[2]]:[A,_[1]];return y.run(m.createDotProductProgramInfoLoader(y,_,T,v),E)},i=(y,_)=>{const v=y.kernelShape.slice();if(y.kernelShape.length===0)for(let T=2;T<_[1].dims.length;++T)v.push(_[1].dims[T]);const w=y.pads.slice();a.PoolConvUtil.adjustPadsBasedOnAutoPad(_[0].dims,y.strides,y.dilations,v,w,y.autoPad);const x=Object.assign({},y);return Object.assign(x,{kernelShape:v,pads:w,cacheKey:y.cacheKey}),x};n.parseConvAttributes=y=>{const _=y.attributes,v=b.parseInternalActivationAttributes(_),w=_.getString("auto_pad","NOTSET"),x=_.getInts("dilations",[1,1]),T=_.getInt("group",1),A=_.getInts("kernel_shape",[]),E=_.getInts("pads",[0,0,0,0]),O=_.getInts("strides",[1,1]);return l.createAttributeWithCacheKey(Object.assign({autoPad:w,dilations:x,group:T,kernelShape:A,pads:E,strides:O},v))};const g=(y,_)=>{if(!y||y.length!==2&&y.length!==3)throw new Error("Conv requires 2 or 3 inputs");if(y[0].dims.length!==4||y[1].dims.length!==4)throw new Error("currently only support 2-dimensional conv");if(y[0].dims[1]!==y[1].dims[1]*_.group)throw new Error("FILTER_IN_CHANNEL should be equal to DATA_CHANNEL");if(y.length===3&&(y[2].dims.length!==1||y[1].dims[0]!==y[2].dims[0]))throw new Error("invalid bias");const v=y[0].dims.length-2;if(_.dilations.length!==v)throw new Error(`dilations should be ${v}D`);if(_.strides.length!==v)throw new Error(`strides should be ${v}D`);if(_.pads.length!==2*v)throw new Error(`pads should be ${2*v}D`);if(_.kernelShape.length!==0&&_.kernelShape.length!==y[1].dims.length-2)throw new Error("invalid kernel shape");if(y[0].type!=="float32"||y[1].type!=="float32")throw new Error("Conv input(X,W) should be float tensor");if(y.length===3&&y[2].type!=="float32")throw new Error("Conv input(bias) should be float tensor")}},5193:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseDepthToSpaceAttributes=n.depthToSpace=void 0;const l=u(3738);n.depthToSpace=(d,c,m)=>{a(c);const b=m.blocksize,f=b*b,s=m.mode==="DCR"?[0,3,4,1,5,2]:[0,1,4,2,5,3],t=m.mode==="DCR"?[c[0].dims[0],b,b,c[0].dims[1]/f,c[0].dims[2],c[0].dims[3]]:[c[0].dims[0],c[0].dims[1]/f,b,b,c[0].dims[2],c[0].dims[3]],e=d.reshapeUnpacked(c[0],t),r={perm:s,cacheKey:`${s}`},[i]=l.transpose(d,[e],r),g=[c[0].dims[0],c[0].dims[1]/f,c[0].dims[2]*b,c[0].dims[3]*b];return[d.reshapeUnpacked(i,g)]},n.parseDepthToSpaceAttributes=d=>{const c=d.attributes.getInt("blocksize");if(c<1)throw new Error(`blocksize must be >= 1, but got : ${c} for DepthToSpace`);const m=d.attributes.getString("mode","DCR");if(m!=="DCR"&&m!=="CRD")throw new Error(`unrecognized mode: ${m} for DepthToSpace`);return{mode:m,blocksize:c}};const a=d=>{if(d.length!==1)throw new Error(`DepthToSpace expect 1 inputs, but got ${d.length}`);if(d[0].type==="string"||d[0].dims.length!==4)throw new TypeError("DepthToSpace input should be a 4-D numeric tensor")}},9828:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createDotProductProgramInfoLoader=void 0;const l=u(2517),a=u(5060),d=u(2039),c=u(2823),m=u(3248);n.createDotProductProgramInfoLoader=(b,f,s,t)=>{const e=((r,i)=>({name:"ConvDotProduct",inputNames:r?["Im2Col","K","B"]:["Im2Col","K"],inputTypes:r?[d.TextureType.unpacked,d.TextureType.packedLastDimension,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.packedLastDimension],cacheKey:i.activationCacheKey}))(f.length>2,t);return Object.assign(Object.assign({},e),{get:()=>((r,i,g,y,_)=>{const v=g[0].dims,w=g[1].dims,x=[w[0],Math.ceil(v[1]*w[2]*w[3]/4)],T=m.calculateIm2ColDims(v,w,y),[A,E]=r.calculateTextureWidthAndHeight(x,d.TextureType.packedLastDimension),O=l.ShapeUtil.computeStrides(T),[S,P]=r.calculateTextureWidthAndHeight(T,d.TextureType.packedLastDimension),$=y.length,M=g.length<3?"0.0":"_B(b)",j=Math.ceil(v[1]*w[2]*w[3]/4),{activationFunction:H,applyActivation:K}=c.getActivationSnippet(_),C=a.getGlsl(r.session.backend.glContext.version),L=`
${H}
float process(int indices[${$}]) {
  int b[1];
  b[0] = indices[1];
  int im2col[4];
  im2col[0] = indices[0];
  im2col[1] = indices[2];
  im2col[2] = indices[3];
  int im2colOffset = im2col[0] * ${O[0]} + im2col[1] * ${O[1]} + im2col[2] * ${O[2]};
  int kernelOffset = indices[1] * ${x[1]};
  float value = ${M};
  for (int i = 0; i < ${j}; ++i) {
    vec2 im2colCoords = offsetToCoords(im2colOffset, ${S}, ${P});
    vec2 kernelCoords = offsetToCoords(kernelOffset, ${A}, ${E});
    value += dot(${C.texture2D}(Im2Col, im2colCoords), ${C.texture2D}(K, kernelCoords));
    ++im2colOffset;
    ++kernelOffset;
  }
  ${K}
  return value;
}`;return Object.assign(Object.assign({},i),{output:{dims:y,type:g[0].type,textureType:d.TextureType.unpacked},shaderSource:L})})(b,e,f,s,t)})}},7992:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseFlattenAttributes=n.flatten=void 0;const l=u(2517);n.flatten=(d,c,m)=>{a(c,m);const b=l.ShapeUtil.flattenShape(c[0].dims,m);return[d.reshapeUnpacked(c[0],b)]},n.parseFlattenAttributes=d=>d.attributes.getInt("axis",1);const a=(d,c)=>{if(!d||d.length!==1)throw new Error("Flatten requires 1 input.");const m=d[0].dims.length;if(m===0)throw new Error("scalar tensor is not supported.");if(c<-m||c>m)throw new Error("Invalid axis");if(d[0].type==="string")throw new Error("string tensor is not supported.")}},2823:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInternalActivationAttributes=n.getActivationSnippet=void 0;const l=u(2517),a=u(4909);n.getActivationSnippet=function(d){let c;switch(d.activation){case"Relu":c=a.glslRelu();break;case"Sigmoid":c=a.glslSigmoid();break;case"Clip":c=a.glslClip(d.clipMin,d.clipMax);break;default:return{activationFunction:"",applyActivation:""}}const m=c.name;return{activationFunction:c.body,applyActivation:`value = ${m}_(value);`}},n.parseInternalActivationAttributes=d=>{const c=d.getString("activation","");if(c==="Clip"){const[m,b]=d.getFloats("activation_params",[l.MIN_CLIP,l.MAX_CLIP]);return{activation:c,clipMax:b,clipMin:m,activationCacheKey:`${c}:${m},${b}`}}return{activation:c,activationCacheKey:c}}},1253:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGatherAttributes=n.gather=void 0;const l=u(246),a=u(782),d=u(2517),c=u(2039);n.gather=(s,t,e)=>(f(t,e.axis),[s.run(b(s,t,e),t)]),n.parseGatherAttributes=s=>l.createAttributeWithCacheKey({axis:s.attributes.getInt("axis",0)});const m={name:"Gather",inputNames:["A","B"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked]},b=(s,t,e)=>{const r=Object.assign(Object.assign({},m),{cacheHint:e.cacheKey});return Object.assign(Object.assign({},r),{get:()=>((i,g,y,_)=>{const v=y[0].dims.slice(),w=y[1].dims.slice(),x=new Array(v.length+w.length-1);_=d.ShapeUtil.normalizeAxis(_,v.length);const T=[];for(let E=0;E<x.length;E++)E<_?(x[E]=v[E],T.push(`inputIdx[${E}] = outputIdx[${E}];`)):E<_+w.length?(x[E]=w[E-_],T.push(`indexDataIdx[${E-_}] = outputIdx[${E}];`)):(x[E]=v[E-w.length+1],T.push(`inputIdx[${E-w.length+1}] = outputIdx[${E}];`));const A=`
      float process(int outputIdx[${x.length||1}]) {
        int inputIdx[${v.length}];
        int indexDataIdx[${w.length||1}];
        indexDataIdx[0] = 0;
        ${T.join(`
        `)}
        int idx = int(_B(indexDataIdx));
        inputIdx[${_}] = idx < 0 ? idx + ${v[_]} : idx;
        return _A(inputIdx);
      }`;return Object.assign(Object.assign({},g),{output:{dims:x,type:y[0].type,textureType:c.TextureType.unpacked},shaderSource:A})})(0,r,t,e.axis)})},f=(s,t)=>{if(!s||s.length!==2)throw new Error("Gather requires 2 inputs.");const e=s[0].dims.length;if(e<1)throw new Error("Invalid input shape.");if(t<-e||t>e-1)throw new Error("Invalid axis.");if(a.NUMBER_TYPES.indexOf(s[0].type)===-1)throw new Error("Invaid input type.");if(s[1].type!=="int32"&&s[1].type!=="int16")throw new Error("Invaid input type.")}},4776:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseGemmAttributesV11=n.parseGemmAttributesV7=n.gemm=void 0;const l=u(246),a=u(2517),d=u(2039);n.gemm=(s,t,e)=>(f(t,e),[s.run(m(t,e),t)]);const c=(s,t)=>{const e=s.attributes.getInt("transA",0)!==0,r=s.attributes.getInt("transB",0)!==0,i=s.attributes.getFloat("alpha",1),g=s.attributes.getFloat("beta",1);return l.createAttributeWithCacheKey({transA:e,transB:r,alpha:i,beta:g,isOptionalC:t})};n.parseGemmAttributesV7=s=>c(s,!1),n.parseGemmAttributesV11=s=>c(s,!0);const m=(s,t)=>{const e={name:"Gemm",inputNames:s.length===3?["A","B","C"]:["A","B"],inputTypes:s.length===3?[d.TextureType.unpacked,d.TextureType.unpacked,d.TextureType.unpacked]:[d.TextureType.unpacked,d.TextureType.unpacked],key:t.cacheKey};return Object.assign(Object.assign({},e),{get:()=>b(e,s,t)})},b=(s,t,e)=>{const r=t[0].dims.slice(),i=t[1].dims.slice(),[g,y]=a.GemmUtil.getShapeOfGemmResult(r,e.transA,i,e.transB,t.length===3?t[2].dims:void 0),_=[g,y];if(!_)throw new Error("Can't use gemm on the given tensors");let v=r[r.length-1],w="";e.transA&&(v=r[0]),e.transA&&e.transB?w="value += _A_T(a) * _B_T(b);":e.transA&&!e.transB?w="value += _A_T(a) * _B(b);":!e.transA&&e.transB?w="value += _A(a) * _B_T(b);":e.transA||e.transB||(w="value += _A(a) * _B(b);");const x=_.length,T=`
      float process(int indices[${x}]) {
          int a[${x}];
          int b[${x}];
          ${t.length===3?`int c[${t[2].dims.length}];`:""}

          copyVec(indices, a);
          copyVec(indices, b);
          ${t.length===3?"bcastIndices_C(indices, c);":""}

          float value = 0.0;
          for (int k=0; k<${v}; ++k) {
              a[${x-1}] = k;
              b[${x-2}] = k;
              ${w}
          }

          value = value * alpha;
          ${t.length===3?"value += beta * _C(c);":""}
          return value;
      }`;return Object.assign(Object.assign({},s),{output:{dims:_,type:t[0].type,textureType:d.TextureType.unpacked},variables:[{name:"alpha",type:"float",data:e.alpha},{name:"beta",type:"float",data:e.beta}],shaderSource:T})},f=(s,t)=>{if(!s)throw new Error("Input is missing");if(t.isOptionalC&&(s.length<2||s.length>3))throw new Error("Invaid input shape.");if(!t.isOptionalC&&s.length!==3)throw new Error("Gemm requires 3 inputs");if(s.length===3&&s[2].dims.length!==1&&s[2].dims.length!==2)throw new Error("Invalid input shape of C");if(s[0].type!=="float32"&&s[0].type!=="float64"||s[1].type!=="float32"&&s[1].type!=="float64"||s.length===3&&s[2].type!=="float32"&&s[2].type!=="float64")throw new Error("Invalid input type.");if(s[0].type!==s[1].type||s.length===3&&s[0].type!==s[2].type)throw new Error("Input types are mismatched")}},8555:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedIm2ColProgramInfoLoader=void 0;const l=u(5060),a=u(2039),d=u(2827);n.createPackedIm2ColProgramInfoLoader=(c,m,b,f,s)=>{const t=(e=s.cacheKey,{name:"Im2Col (packed)",inputNames:["A"],inputTypes:[a.TextureType.packed],cacheHint:e});var e;return Object.assign(Object.assign({},t),{get:()=>((r,i,g,y,_,v)=>{const w=g.dims,x=y.dims,T=_.length,A=[x[1]*x[2]*x[3],_[2]*_[3]],E=x[2]*x[3],O=d.unpackFromChannel(),S=l.getGlsl(r.session.backend.glContext.version);let P="";for(let M=0;M<=1;M++)for(let j=0;j<=1;j++)P+=`
            blockIndex = rc.x + ${j};
            pos = rc.y + ${M};

            if(blockIndex < ${A[1]} && pos < ${A[0]}) {
              offsetY = int(blockIndex / (${_[T-1]})) * ${v.strides[0]} -
                ${v.pads[0]};
              d0 = offsetY + ${v.dilations[0]} * (imod(pos, ${E}) / ${x[2]});

              if(d0 < ${w[2]} && d0 >= 0) {
                offsetX = imod(blockIndex, ${_[T-1]}) * ${v.strides[1]} -
                  ${v.pads[1]};
                d1 = offsetX + ${v.dilations[1]} * imod(imod(pos, ${E}), ${x[2]});

                if(d1 < ${w[3]} && d1 >= 0) {

                  ch = int(float(pos)/ ${E}.);
                    innerDims = vec2(d0, d1);
                    result[${2*M+j}] = getChannel(
                      getA(0, ch, int(innerDims.x),
                      int(innerDims.y)), innerDims);
                }
              }
            }

          `;const $=`
      ${O}

      void main() {
        ivec2 rc = getOutputCoords();
          vec4 result = vec4(0.0);
          int blockIndex, pos, offsetY, d0, offsetX, d1, ch;
          vec2 innerDims;
          ${P}
          ${S.output} = result;
      }
            `;return Object.assign(Object.assign({},i),{output:{dims:A,type:g.type,textureType:a.TextureType.packed},shaderSource:$,hasMain:!0})})(c,t,m,b,f,s)})}},3248:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.calculateIm2ColDims=n.createIm2ColProgramInfoLoader=void 0;const l=u(2039);n.createIm2ColProgramInfoLoader=(a,d,c,m,b)=>{const f=(s=b.cacheKey,{name:"Im2Col",inputNames:["X"],inputTypes:[l.TextureType.unpacked],cacheHint:s});var s;return Object.assign(Object.assign({},f),{get:()=>((t,e,r,i,g,y)=>{const _=r.dims,v=i.dims,w=g.length,x=n.calculateIm2ColDims(_,v,g,4),T=`
        const int XC = ${_[1]};
        const int XH = ${_[2]};
        const int XW = ${_[3]};
        const int KH = ${y.kernelShape[0]};
        const int KW = ${y.kernelShape[1]};
        const int dilationH = ${y.dilations[0]};
        const int dilationW = ${y.dilations[1]};
        const int strideH = ${y.strides[0]};
        const int strideW = ${y.strides[1]};
        const int padH = ${y.pads[0]};
        const int padW = ${y.pads[1]};
        const int KHKW = KH*KW;
        const int XCKHKW = XC * KHKW;
        const int outputChannels = 4;
        vec4 process(int indices[${w}]) {
          int b  = indices[0]; // batch size
          int oh = indices[1] * strideH - padH; //output height
          int ow = indices[2] * strideW - padW; //output width
          int p = indices[3] * outputChannels; //patch
          vec4 value = vec4(0.0);
          for(int i=0; i < outputChannels; ++i) {
            if(p < XCKHKW) {
              int patchC = p / KHKW;
              int patchH = (p - patchC*KHKW) / KW;
              int patchW = (p - patchC*KHKW) - patchH * KW;
              int xh2 = oh + patchH * dilationH;
              int xw2 = ow + patchW * dilationW;
              int x[${_.length}];
              x[0] = b;
              x[1] = patchC;
              x[2] = xh2;
              x[3] = xw2;
              if(xh2 >= 0 &&
                  xh2 < XH &&
                  xw2 >= 0 &&
                  xw2 < XW) {
                value[i] = _X(x);
              }
            }
            ++p;
          }
          return value;
        }
        `;return Object.assign(Object.assign({},e),{output:{dims:x,type:r.type,textureType:l.TextureType.packedLastDimension},shaderSource:T})})(0,f,d,c,m,b)})},n.calculateIm2ColDims=(a,d,c,m=4)=>[c[0],c[2],c[3],Math.ceil(a[1]*d[2]*d[3]/m)]},6572:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseImageScalerAttributes=n.imageScaler=void 0;const l=u(246),a=u(2039);n.imageScaler=(f,s,t)=>(b(s),[f.run(c(f,s,t),s)]),n.parseImageScalerAttributes=f=>{const s=f.attributes.getFloat("scale"),t=f.attributes.getFloats("bias");return l.createAttributeWithCacheKey({scale:s,bias:t})};const d={name:"ImageScaler",inputNames:["X"],inputTypes:[a.TextureType.unpacked]},c=(f,s,t)=>{const e=Object.assign(Object.assign({},d),{cacheHint:t.cacheKey});return Object.assign(Object.assign({},e),{get:()=>((r,i,g,y)=>{const _=g[0].dims.slice(),v=_.length,w=`
      ${m(y.bias.length)}
      float process(int indices[${v}]) {
        return _X(indices) * scale + getBias(bias, indices[1]);
      }`;return Object.assign(Object.assign({},i),{output:{dims:_,type:g[0].type,textureType:a.TextureType.unpacked},variables:[{name:"bias",type:"float",arrayLength:y.bias.length,data:y.bias},{name:"scale",type:"float",data:y.scale}],shaderSource:w})})(0,e,s,t)})},m=f=>{const s=[`float getBias(float bias[${f}], int channel) {`];for(let t=0;t<f;++t)t===0?s.push(`	if (channel == ${t}) { return bias[${t}]; }`):t===f-1?s.push(`	else { return bias[${t}]; }`):s.push(`	else if (channel == ${t}) { return bias[${t}]; }`);return s.push("	}"),s.join(`
`)},b=f=>{if(!f||f.length!==1)throw new Error("ImageScaler requires 1 input.");if(f[0].dims.length!==4)throw new Error("Invalid input shape.");if(f[0].type!=="float32"&&f[0].type!=="float64")throw new Error("Invalid input type.")}},3346:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseInstanceNormalizationAttributes=n.instanceNormalization=void 0;const l=u(5060),a=u(2039);n.instanceNormalization=(s,t,e)=>{f(t);const r=s.run(c(t[0]),t);return[s.run(b(s,t[0],e,r.dims),[t[0],r,t[1],t[2]])]},n.parseInstanceNormalizationAttributes=s=>s.attributes.getFloat("epsilon",1e-5);const d={name:"InstanceNormalization_MeanAndVariance",inputNames:["X"],inputTypes:[a.TextureType.unpacked]},c=s=>Object.assign(Object.assign({},d),{get:()=>((t,e)=>{const r=e.dims.slice(),i=r[1],g=r[2]*r[3],y=[r[0],i],_=`
      vec4 process(int[2] indices) {
        vec4 v = vec4(0.0);
        int a[4];
        a[0] = indices[0];
        a[1] = indices[1];
        float temp = 0.0;
        for(int a2=0; a2<${r[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${r[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += x;
          }
        }
        float mean = temp / float(${g});
        temp = 0.0;
        for(int a2=0; a2<${r[2]}; a2++) {
          a[2] = a2;
          for(int a3=0; a3<${r[3]}; a3++) {
            a[3] = a3;
            float x = _X(a);
            temp += (x - mean) * (x - mean);
          }
        }
        v.r = mean;
        v.g = temp / float(${g});

        return v;
      }`;return Object.assign(Object.assign({},t),{output:{dims:y,type:e.type,textureType:a.TextureType.packedLastDimension},shaderSource:_})})(d,s)}),m={name:"InstanceNormalization_ComputeOutput",inputNames:["X","MeanAndVariance","Scale","B"],inputTypes:[a.TextureType.unpacked,a.TextureType.packedLastDimension,a.TextureType.unpacked,a.TextureType.unpacked]},b=(s,t,e,r)=>{const i=Object.assign(Object.assign({},m),{cacheHint:`${e}`});return Object.assign(Object.assign({},i),{get:()=>((g,y,_,v,w)=>{const x=l.getGlsl(g.session.backend.glContext.version),[T,A]=g.calculateTextureWidthAndHeight(w,a.TextureType.packedLastDimension),[E,O]=[T/4,A],S=`
      vec4 get_MeanAndVariance(int[2] mv) {
        int offset = indicesToOffset_MeanAndVariance(mv);
        vec2 coords = offsetToCoords(offset, ${E}, ${O});
        return ${x.texture2D}(MeanAndVariance, coords);
      }

      float process(int[4] indices) {
        int mv[2];
        mv[0] = indices[0];
        mv[1] = indices[1];
        vec4 mean_and_variance = get_MeanAndVariance(mv);
        float mean = mean_and_variance.r;
        float variance = mean_and_variance.g;

        int sb[1];
        sb[0] = indices[1];
        float scale = _Scale(sb);
        float b = _B(sb);

        return scale * (_X(indices) - mean) / sqrt(variance + epsilon) + b;
      }`;return Object.assign(Object.assign({},y),{output:{dims:_.dims,type:_.type,textureType:a.TextureType.unpacked},variables:[{name:"epsilon",type:"float",data:v}],shaderSource:S})})(s,i,t,e,r)})},f=s=>{if(!s||s.length!==3)throw new Error("InstanceNormalization requires 3 inputs.");const t=s[0],e=s[1],r=s[2];if(t.dims.length<3||e.dims.length!==1||r.dims.length!==1)throw new Error("Invalid input shape.");if(e.dims[0]!==t.dims[1]||r.dims[0]!==t.dims[1])throw new Error("Input shapes are mismatched.");if(t.type!=="float32"&&t.type!=="float64"||e.type!=="float32"&&e.type!=="float64"||r.type!=="float32"&&r.type!=="float64")throw new Error("Invalid input type.");if(s[0].dims.length!==4)throw new Error("Only support 4-D input shape.")}},708:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackedMatmulProgramInfoLoader=void 0;const l=u(2517),a=u(5060),d=u(2039),c=u(9390),m=u(2823),b=u(5623);n.createPackedMatmulProgramInfoLoader=(f,s,t)=>{const e=(r=s.length>2,i=t.activationCacheKey,{name:"MatMul (packed)",inputNames:r?["A","B","Bias"]:["A","B"],inputTypes:r?[d.TextureType.packed,d.TextureType.packed,d.TextureType.packed]:[d.TextureType.packed,d.TextureType.packed],cacheHint:i});var r,i;return Object.assign(Object.assign({},e),{get:()=>((g,y,_,v)=>{const w=_.length>2,x=w?"value += getBiasForMatmul();":"",T=_[0].dims,A=_[1].dims,E=l.BroadcastUtil.calcShape(T,A,!0),O=!l.ShapeUtil.areEqual(_[0].dims,_[1].dims);if(!E)throw new Error("Can't use matmul on the given tensors");const S=T[T.length-1],P=Math.ceil(S/2),$=T.length,M=A.length,j=a.getGlsl(g.session.backend.glContext.version),H=c.getCoordsDataType(E.length),K=E.length,C=c.getGlChannels(),{activationFunction:L,applyActivation:oe}=m.getActivationSnippet(v),X=w?`${b.getBiasForMatmul(H,C,_[2].dims,E,!0)}`:"",me=O?`${function(De,V,ee,Q){let ce=[],we=[];const Te=ee[0].dims,ye=ee[1].dims,D=Te.length,k=ye.length,B=Q.length,G=B-D,Y=B-k;ce=Te.map((le,fe)=>`coords.${V[fe+G]}`),ce[D-1]="i*2",ce.join(", "),we=ye.map((le,fe)=>`coords.${V[fe+Y]}`),we[k-2]="i*2",we.join(", ");const ne=l.BroadcastUtil.getBroadcastDims(Te,Q),ue=l.BroadcastUtil.getBroadcastDims(ye,Q),re=ne.map(le=>`coords.${V[le+G]} = 0;`).join(`
`),ie=ue.map(le=>`coords.${V[le+Y]} = 0;`).join(`
`),Z=`int lastDim = coords.${V[B-1]};
  coords.${V[B-1]} = coords.${V[B-2]};
  coords.${V[B-2]} = lastDim;`;return`
vec4 getAAtOutCoordsMatmul(int i) {
  ${De} coords = getOutputCoords();
  ${Z}
  ${re}
  vec4 outputValue = getA(${ce});
  return outputValue;
}

vec4 getBAtOutCoordsMatmul(int i) {
  ${De} coords = getOutputCoords();
  ${Z}
  ${ie}
  vec4 outputValue = getB(${we});
  return outputValue;
}`}(H,C,_,E)}`:"",pe=O?"getAAtOutCoordsMatmul(i)":`getA(${function(De,V){let ee="";for(let Q=0;Q<V-2;Q++)ee+=`rc.${De[Q]}, `;return ee+=`rc.${De[V-2]}, i*2`,ee}(C,$)})`,_e=O?"getBAtOutCoordsMatmul(i)":`getB(${function(De,V){let ee="";for(let Q=0;Q<V-2;Q++)ee+=`rc.${De[Q]}, `;return ee+=`i*2, rc.${De[V-1]}`,ee}(C,M)})`,Ce=`
            ${me}
            ${X}
            ${L}
            void main() {
              ${O?"":`${H} rc =
          getOutputCoords(); int lastDim = rc.${C[K-1]}; rc.${C[K-1]} =
          rc.${C[K-2]}; rc.${C[K-2]} = lastDim;
      `}

              vec4 value = vec4(0);
              for (int i = 0; i < ${P}; i++) {
                vec4 a = ${pe};
                vec4 b = ${_e};

                value += (a.rrbb * b.rgrg);
                value += (a.ggaa * b.baba);
              }
              ${x}
              ${oe}
              ${j.output} = value;
            }`;return Object.assign(Object.assign({},y),{output:{dims:E,type:_[0].type,textureType:d.TextureType.packed},shaderSource:Ce,hasMain:!0})})(f,e,s,t)})}},5623:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBiasForMatmul=n.createMatmulProgramInfoLoader=n.parseMatMulAttributes=n.matMul=void 0;const l=u(2517),a=u(2039),d=u(9390),c=u(2823),m=u(708);function b(t,e){const r=(i=t.length>2,g=e.activationCacheKey,{name:"MatMul",inputNames:i?["A","B","Bias"]:["A","B"],inputTypes:i?[a.TextureType.unpacked,a.TextureType.unpacked,a.TextureType.unpacked]:[a.TextureType.unpacked,a.TextureType.unpacked],cacheHint:g});var i,g;return Object.assign(Object.assign({},r),{get:()=>function(y,_,v){const w=_[0].dims,x=_[1].dims,T=l.BroadcastUtil.calcShape(w,x,!0);if(!T)throw new Error("Can't use matmul on the given tensors");const A=d.getCoordsDataType(T.length),E=d.getGlChannels(),{activationFunction:O,applyActivation:S}=c.getActivationSnippet(v),P=_.length>2,$=P?"value += getBiasForMatmul();":"",M=P?`${s(A,E,_[2].dims,T,!1)}`:"",j=T.length,H=w.length,K=x.length,C=`
    ${O}
    ${M}
    float process(int indices[${j}]) {
        int a[${H}];
        int b[${K}];
        bcastMatmulIndices_A(indices, a);
        bcastMatmulIndices_B(indices, b);

        float value;
        for (int k=0; k<${w[w.length-1]}; ++k) {
            a[${H-1}] = k;
            b[${K-2}] = k;
            value += _A(a) * _B(b);
        }
        ${$}
        ${S}
        return value;
    }`;return Object.assign(Object.assign({},y),{output:{dims:T,type:_[0].type,textureType:a.TextureType.unpacked},shaderSource:C})}(r,t,e)})}n.matMul=(t,e,r)=>(f(e),t.session.pack?[t.run(m.createPackedMatmulProgramInfoLoader(t,e,r),e)]:[t.run(b(e,r),e)]),n.parseMatMulAttributes=t=>c.parseInternalActivationAttributes(t.attributes),n.createMatmulProgramInfoLoader=b;const f=t=>{if(!t||t.length!==2)throw new Error("MatMul requires 2 inputs.");if(t[0].dims[t[0].dims.length-1]!==t[1].dims[t[1].dims.length-2])throw new Error("shared dimension does not match.");if(t[0].type!=="float32"&&t[0].type!=="float64"||t[1].type!=="float32"&&t[1].type!=="float64")throw new Error("inputs should be float type");if(t[0].type!==t[1].type)throw new Error("inputs types should match")};function s(t,e,r,i,g){let y="";const _=r.length,v=i.length,w=v-_;y=v<2&&_>0?"coords":r.map((A,E)=>`coords.${e[E+w]}`).join(", ");const x=l.BroadcastUtil.getBroadcastDims(r,i).map(A=>`coords.${e[A+w]} = 0;`).join(`
`);let T="vec4(outputValue.xx, outputValue.yy)";return l.ShapeUtil.size(r)===1&&(T="vec4(outputValue.x)"),g?`
vec4 getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${x}
  vec4 outputValue = getBias(${y});
  return ${T};
}`:`
float getBiasForMatmul() {
  ${t} coords = getOutputCoords();
  ${x}
  return getBias(coords.x);
}`}n.getBiasForMatmul=s},2403:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createPackProgramInfoLoader=void 0;const l=u(5060),a=u(2039),d=u(9390),c=u(2827),m={name:"pack",inputNames:["A"],inputTypes:[a.TextureType.unpackedReversed]};n.createPackProgramInfoLoader=(b,f)=>Object.assign(Object.assign({},m),{get:()=>((s,t)=>{const e=l.getGlsl(s.session.backend.glContext.version),r=t.dims,i=r.length,g=t.dims.length,y=d.getCoordsDataType(g),_=c.getChannels("rc",g),v=(w=g,x=_,T=r[r.length-2],A=r[r.length-1],w===0||w===1?"":`
    int r = ${x[w-2]};
    int c = ${x[w-1]};
    int rp1 = ${x[w-2]} + 1;
    int cp1 = ${x[w-1]} + 1;
    bool rEdge = rp1 >= ${A};
    bool cEdge = cp1 >= ${T};
    `);var w,x,T,A;let E;E=i===0?[1,1]:i===1?[r[0],1]:[r[g-1],r[g-2]];const O=function($,M,j){if($===0)return"false";if($===1)return`rc > ${M[0]}`;let H="";for(let K=$-2;K<$;K++)H+=`${j[K]} >= ${M[K-$+2]}`,K<$-1&&(H+="||");return H}(g,E,_),S=function($,M){const j=$.length;if(j===0)return"getA(), 0, 0, 0";if(j===1)return`getA(rc),
            rc + 1 >= ${$[0]} ? 0. : getA(rc + 1),
            0, 0`;let H="";if(j>2)for(let K=0;K<j-2;++K)H+=`${M[K]},`;return`getA(${H}r, c),
          rEdge ? 0. : getA(${H}rp1, c),
          cEdge ? 0. : getA(${H}r, cp1),
          rEdge || cEdge ? 0. : getA(${H}rp1, cp1)`}(r,_),P=`
        void main() {
          ${y} rc = getOutputCoords();

          if(${O}) {
            ${e.output} = vec4(0);
          } else {
            ${v}

            ${e.output} = vec4(${S});
          }
        }
      `;return Object.assign(Object.assign({},m),{hasMain:!0,output:{dims:t.dims,type:t.type,textureType:a.TextureType.packed},shaderSource:P})})(b,f)})},2827:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.unpackFromChannel=n.getChannels=n.getVecChannels=void 0;const l=u(9390);function a(d,c){return l.getGlChannels(c).map(m=>`${d}.${m}`)}n.getVecChannels=a,n.getChannels=function(d,c){return c===1?[d]:a(d,c)},n.unpackFromChannel=function(){return`
    float getChannel(vec4 frag, int dim) {
      int modCoord = imod(dim, 2);
      return modCoord == 0 ? frag.r : frag.g;
    }

    float getChannel(vec4 frag, vec2 innerDims) {
      vec2 modCoord = mod(innerDims, 2.);
      return modCoord.x == 0. ?
        (modCoord.y == 0. ? frag.r : frag.g) :
        (modCoord.y == 0. ? frag.b : frag.a);
    }
  `}},2870:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parsePadAttributesV11=n.padV11=n.parsePadAttributesV2=n.padV2=void 0;const l=u(246),a=u(2517),d=u(5060),c=u(2039),m={name:"Pad",inputNames:["A"],inputTypes:[c.TextureType.unpacked]};n.padV2=(y,_,v)=>(s(_),[y.run(Object.assign(Object.assign({},m),{cacheHint:v.cacheKey,get:()=>f(y,_[0],v)}),_)]),n.parsePadAttributesV2=y=>{const _=y.attributes.getString("mode","constant"),v=y.attributes.getFloat("value",0),w=y.attributes.getInts("pads");return l.createAttributeWithCacheKey({mode:_,value:v,pads:w})},n.padV11=(y,_,v)=>{t(_);const w=b(y,_,v);return n.padV2(y,[_[0]],w)},n.parsePadAttributesV11=y=>y.attributes.getString("mode","constant");const b=(y,_,v)=>{if(!y.session.isInitializer(_[1].dataId)||_.length>=3&&!y.session.isInitializer(_[2].dataId))throw new Error("dynamic pad attributes are not allowed");const w=Array.from(_[1].integerData),x=_.length>=3?_[2].floatData[0]:0;return l.createAttributeWithCacheKey({mode:v,pads:w,value:x})},f=(y,_,v)=>{const w=a.ShapeUtil.padShape(_.dims.slice(),v.pads),x=w.length,T=`
      ${e(y,_,v)}
      float process(int[${x}] indices) {
          return padA(indices);
      }`;return{name:"Pad",inputNames:["A"],inputTypes:[c.TextureType.unpacked],output:{dims:w,type:_.type,textureType:c.TextureType.unpacked},shaderSource:T}},s=y=>{if(!y||y.length!==1)throw new Error("Pad requires 1 input");if(y[0].type!=="float32"&&y[0].type!=="float64")throw new Error("Invalid input type.")},t=y=>{if(!y||y.length!==2&&y.length!==3)throw new Error("Pad requires 2 or 3 inputs");if(y[1].type!=="int32")throw new Error("Invalid input type.");if(y.length>=3&&y[2].type==="string")throw new Error("Invalid input type.")},e=(y,_,v)=>{const w=d.getGlsl(y.session.backend.glContext.version),[x,T]=y.calculateTextureWidthAndHeight(_.dims,c.TextureType.unpacked),A=a.ShapeUtil.computeStrides(_.dims);switch(v.mode){case"constant":return r(w,_.dims,A,x,T,v.pads,v.value);case"reflect":return i(w,_.dims,A,x,T,v.pads);case"edge":return g(w,_.dims,A,x,T,v.pads);default:throw new Error("Invalid mode")}},r=(y,_,v,w,x,T,A)=>{const E=_.length;let O="";for(let S=E-1;S>=0;--S)O+=`
        k = m[${S}] - ${T[S]};
        if (k < 0)  return constant;
        if (k >= ${_[S]}) return constant;
        offset += k * ${v[S]};
        `;return`
      float padA(int m[${E}]) {
        const float constant = float(${A});
        int offset = 0;
        int k = 0;
        ${O}
        vec2 coords = offsetToCoords(offset, ${w}, ${x});
        float value = getColorAsFloat(${y.texture2D}(A, coords));
        return value;
      }
      `},i=(y,_,v,w,x,T)=>{const A=_.length;let E="";for(let O=A-1;O>=0;--O)E+=`
        k = m[${O}] - ${T[O]};
        if (k < 0) { k = -k; }
        {
          const int _2n_1 = ${2*(_[O]-1)};
          k = int( mod( float(k), float(_2n_1) ) ) ;
          if(k >= ${_[O]}) { k = _2n_1 - k; }
        }
        offset += k * ${v[O]};
        `;return`
      float padA(int m[${A}]) {
        int offset = 0;
        int k = 0;
        ${E}
        vec2 coords = offsetToCoords(offset, ${w}, ${x});
        float value = getColorAsFloat(${y.texture2D}(A, coords));
        return value;
      }
      `},g=(y,_,v,w,x,T)=>{const A=_.length;let E="";for(let O=A-1;O>=0;--O)E+=`
        k = m[${O}] - ${T[O]};
        if (k < 0)  k = 0;
        if (k >= ${_[O]}) k = ${_[O]-1};
        offset += k * ${v[O]};
      `;return`
      float padA(int m[${A}]) {
        int offset = 0;
        int k = 0;
        ${E}
        vec2 coords = offsetToCoords(offset, ${w}, ${x});
        float value = getColorAsFloat(${y.texture2D}(A, coords));
        return value;
      }
      `}},2143:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.globalMaxPool=n.parseMaxPoolAttributes=n.maxPool=n.parseGlobalAveragePoolAttributes=n.globalAveragePool=n.parseAveragePoolAttributes=n.averagePool=void 0;const l=u(246),a=u(2517),d=u(2039);n.averagePool=(g,y,_)=>{t(y);const v={name:"AveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:_.cacheKey};return[g.run(Object.assign(Object.assign({},v),{get:()=>c(y,v,!1,_)}),y)]},n.parseAveragePoolAttributes=g=>{const y=g.attributes.getString("auto_pad","NOTSET"),_=g.attributes.getInt("ceil_mode",0),v=g.attributes.getInt("count_include_pad",0)!==0,w=g.attributes.getInts("kernel_shape"),x=g.attributes.getInts("strides",[]),T=g.attributes.getInts("pads",[]);if(_!==0)throw new Error("using ceil() in shape computation is not yet supported for AveragePool");return l.createAttributeWithCacheKey({autoPad:y,ceilMode:_,countIncludePad:v,kernelShape:w,strides:x,pads:T})};const c=(g,y,_,v)=>{const[w,x]=b(g,v,_),T=a.ShapeUtil.size(w.kernelShape);let A="";w.countIncludePad?A+=`value /= float(${T});`:A+=`value /= float(${T} - pad);`;const E=`
        ${e(g[0].dims,w,"value += _X(x);",A,"0.0")}
      `;return Object.assign(Object.assign({},y),{output:{dims:x,type:g[0].type,textureType:d.TextureType.unpacked},shaderSource:E})};n.globalAveragePool=(g,y,_)=>{t(y);const v={name:"GlobalAveragePool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:`${_.countIncludePad}`};return[g.run(Object.assign(Object.assign({},v),{get:()=>c(y,v,!0,_)}),y)]},n.parseGlobalAveragePoolAttributes=g=>{const y=g.attributes.getInt("count_include_pad",0)!==0;return l.createAttributeWithCacheKey({autoPad:"",ceilMode:0,countIncludePad:y,kernelShape:[],strides:[],pads:[]})},n.maxPool=(g,y,_)=>{t(y);const v={name:"MaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked],cacheHint:_.cacheKey};return[g.run(Object.assign(Object.assign({},v),{get:()=>m(y,v,!1,_)}),y)]},n.parseMaxPoolAttributes=g=>{const y=g.attributes.getString("auto_pad","NOTSET"),_=g.attributes.getInt("ceil_mode",0),v=g.attributes.getInts("kernel_shape"),w=g.attributes.getInts("strides",[]),x=g.attributes.getInts("pads",[]),T=g.attributes.getInt("storage_order",0),A=g.attributes.getInts("dilations",[]);if(T!==0)throw new Error("column major storage order is not yet supported for MaxPool");if(_!==0)throw new Error("using ceil() in shape computation is not yet supported for MaxPool");return l.createAttributeWithCacheKey({autoPad:y,ceilMode:_,countIncludePad:!1,kernelShape:v,strides:w,pads:x,storageOrder:T,dilations:A})};const m=(g,y,_,v)=>{const[w,x]=b(g,v,_),T=`
      ${e(g[0].dims,w,`
      value = max(_X(x), value);
    `,"","-1e5")}
    `;return Object.assign(Object.assign({},y),{output:{dims:x,type:g[0].type,textureType:d.TextureType.unpacked},shaderSource:T})},b=(g,y,_)=>{const v=g[0].dims.slice(),w=Object.hasOwnProperty.call(y,"dilations"),x=y.kernelShape.slice(),T=y.strides.slice(),A=w?y.dilations.slice():[],E=y.pads.slice();a.PoolConvUtil.adjustPoolAttributes(_,v,x,T,A,E);const O=a.PoolConvUtil.computePoolOutputShape(_,v,T,A,x,E,y.autoPad),S=Object.assign({},y);return w?Object.assign(S,{kernelShape:x,strides:T,pads:E,dilations:A,cacheKey:y.cacheKey}):Object.assign(S,{kernelShape:x,strides:T,pads:E,cacheKey:y.cacheKey}),[S,O]},f={autoPad:"",ceilMode:0,countIncludePad:!1,kernelShape:[],strides:[],pads:[],storageOrder:0,dilations:[],cacheKey:""},s={name:"GlobalMaxPool",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};n.globalMaxPool=(g,y)=>(t(y),[g.run(Object.assign(Object.assign({},s),{get:()=>m(y,s,!0,f)}),y)]);const t=g=>{if(!g||g.length!==1)throw new Error("Pool ops requires 1 input.");if(g[0].type!=="float32"&&g[0].type!=="float64")throw new Error("Invalid input type.")},e=(g,y,_,v,w)=>{const x=g.length;if(y.kernelShape.length<=2){const T=y.kernelShape[y.kernelShape.length-1],A=y.strides[y.strides.length-1],E=y.pads[y.pads.length/2-1],O=y.pads[y.pads.length-1],S=g[x-1];let P="",$="",M="";if(P=E+O!==0?`
          for (int i = 0; i < ${T}; i++) {
            x[${x} - 1] = indices[${x} - 1] * ${A} - ${E} + i;
            if (x[${x} - 1] < 0 || x[${x} - 1] >= ${S}) {
              pad++;
              continue;
            }
            ${_}
          }`:`
          for (int i = 0; i < ${T}; i++) {
            x[${x} - 1] = indices[${x} - 1] * ${A} - ${E} + i;
            ${_}
          }`,y.kernelShape.length===2){const j=y.kernelShape[y.kernelShape.length-2],H=y.strides[y.strides.length-2],K=y.pads[y.pads.length/2-2],C=y.pads[y.pads.length-2],L=g[x-2];$=K+C!==0?`
            for (int j = 0; j < ${j}; j++) {
              x[${x} - 2] = indices[${x} - 2] * ${H} - ${K} + j;
              if (x[${x} - 2] < 0 || x[${x} - 2] >= ${L}) {
                pad+= ${T};
                continue;
              }
          `:`
            for (int j = 0; j < ${j}; j++) {
              x[${x} - 2] = indices[${x} - 2] * ${H} - ${K} + j;
            `,M=`
          }
        `}return`
        float process(int indices[${x}]) {
          int x[${x}];
          copyVec(indices, x);

          float value = ${w};
          int pad = 0;
          ${$}
          ${P}
          ${M}
          ${v}
          return value;
        }
      `}{const T=a.ShapeUtil.size(y.kernelShape),A=a.ShapeUtil.computeStrides(y.kernelShape),E=A.length,O=y.pads.length,S=i(E),P=r(g,"inputDims"),$=r(y.pads,"pads"),M=r(A,"kernelStrides"),j=r(y.strides,"strides");let H="";return H=y.pads.reduce((K,C)=>K+C)?`
            if (x[j] >= inputDims[j] || x[j] < 0) {
              pad++;
              isPad = true;
              break;
            }
          }
          if (!isPad) {
            ${_}
          }`:`
          }
          ${_}
        `,`
        ${S}
        float process(int indices[${x}]) {
          int x[${x}];
          copyVec(indices, x);
          int offset[${E}];
          int pads[${O}];
          int inputDims[${x}];
          int kernelStrides[${E}];
          int strides[${E}];
          ${$}
          ${P}
          ${j}
          ${M}

          float value = ${w};
          int pad = 0;
          bool isPad = false;
          for (int i = 0; i < ${T}; i++) {
            offsetToIndices(i, kernelStrides, offset);
            isPad = false;
            for (int j = ${x} - ${E}; j < ${x}; j++) {
              x[j] = indices[j] * strides[j - ${x} + ${E}]
                + offset[j - ${x} + ${E}] - pads[j - 2];
              ${H}
          }
          ${v}

          return value;
        }
      `}},r=(g,y)=>{let _="";for(let v=0;v<g.length;v++)_+=`
      ${y}[${v}] = ${g[v]};
    `;return _},i=g=>`
  void offsetToIndices(int offset, int[${g}] strides, out int[${g}] indices) {
    if (${g} == 0) {
      return;
    }
    for (int i = 0; i < ${g} - 1; ++i) {
      indices[i] = offset / strides[i];
      offset -= indices[i] * strides[i];
    }
    indices[${g} - 1] = offset;
  }`},4939:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reduceLogSumSquare=n.reduceLogSum=n.reduceProd=n.reduceMin=n.reduceMax=n.reduceMean=n.reduceSum=n.parseReduceAttributes=void 0;const l=u(246),a=u(782),d=u(2517),c=u(2039),m=(s,t,e,r,i)=>{f(t);const g={name:r,inputNames:["A"],inputTypes:[c.TextureType.unpacked]};return[s.run(Object.assign(Object.assign({},g),{cacheHint:e.cacheKey,get:()=>b(s,t,e,r,i,g)}),t)]};n.parseReduceAttributes=s=>{const t=s.attributes.getInts("axes",[]),e=s.attributes.getInt("keepdims",1)===1;return l.createAttributeWithCacheKey({axes:t,keepDims:e})};const b=(s,t,e,r,i,g)=>{const y=[],_=t[0].dims.length||1,v=[],w=d.ShapeUtil.normalizeAxes(e.axes,t[0].dims.length),x=i(t,w);let T=x[1];for(let E=0;E<t[0].dims.length;E++)w.indexOf(E)>=0||w.length===0?(e.keepDims&&y.push(1),T=`
          for(int j${E} = 0; j${E} < ${t[0].dims[E]}; j${E}++) {
            inputIdx[${E}] = j${E};
            ${T}
          }`):(v.push(`inputIdx[${E}] = outputIdx[${y.length}];`),y.push(t[0].dims[E]));const A=`
      float process(int outputIdx[${y.length||1}]) {
        float value;                 // final result
        int inputIdx[${_}];      // addressing input data
        ${v.join(`
`)}
        ${x[0]}       // init ops for reduce max/min
        ${T}
        ${x[2]}       // final computation for reduce mean
        return value;
      }`;return Object.assign(Object.assign({},g),{output:{dims:y,type:t[0].type,textureType:c.TextureType.unpacked},shaderSource:A})},f=s=>{if(!s||s.length!==1)throw new Error("Reduce op requires 1 input.");if(a.NUMBER_TYPES.indexOf(s[0].type)===-1)throw new Error("Invalid input type.")};n.reduceSum=(s,t,e)=>m(s,t,e,"ReduceSum",()=>["value = 0.0;","value += _A(inputIdx);",""]),n.reduceMean=(s,t,e)=>m(s,t,e,"ReduceMean",(r,i)=>{let g=1;for(let y=0;y<r[0].dims.length;y++)(i.indexOf(y)>=0||i.length===0)&&(g*=r[0].dims[y]);return["value = 0.0;","value += _A(inputIdx);",`value /= ${g}.;`]}),n.reduceMax=(s,t,e)=>m(s,t,e,"ReduceMax",(r,i)=>{const g=[];for(let y=0;y<r[0].dims.length;y++)(i.indexOf(y)>=0||i.length===0)&&g.push(`inputIdx[${y}] = 0;`);return[`${g.join(`
`)}
value = _A(inputIdx);`,"value = max(value, _A(inputIdx));",""]}),n.reduceMin=(s,t,e)=>m(s,t,e,"ReduceMin",(r,i)=>{const g=[];for(let y=0;y<r[0].dims.length;y++)(i.indexOf(y)>=0||i.length===0)&&g.push(`inputIdx[${y}] = 0;`);return[`${g.join(`
`)}
value = _A(inputIdx);`,"value = min(value, _A(inputIdx));",""]}),n.reduceProd=(s,t,e)=>m(s,t,e,"ReduceProd",()=>["value = 1.0;","value *= _A(inputIdx);",""]),n.reduceLogSum=(s,t,e)=>m(s,t,e,"ReduceLogSum",()=>["value = 0.0;","value += _A(inputIdx);","value = log(value);"]),n.reduceLogSumSquare=(s,t,e)=>m(s,t,e,"ReduceLogSumSquare",()=>["float t; value = 0.0;","t = _A(inputIdx); value += t * t;",""])},7019:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.isReshapeCheap=n.processDims3D=n.createPackedReshape3DProgramInfoLoader=void 0;const l=u(2517),a=u(5060),d=u(2039),c=u(2827);n.createPackedReshape3DProgramInfoLoader=(m,b,f)=>{const s=(t=>({name:"Reshape (packed)",inputTypes:[d.TextureType.packed],inputNames:["A"],cacheHint:`${t}`}))(f);return Object.assign(Object.assign({},s),{get:()=>((t,e,r,i)=>{const g=e.dims,y=i;let _="";for(let x=0;x<4;x++){let T="";switch(x){case 0:T="outputCoords = rc;";break;case 1:T="outputCoords = ivec3(rc.x, rc.y+1, rc.z);";break;case 2:T="outputCoords = ivec3(rc.x, rc.y, rc.z+1);";break;case 3:T="outputCoords = ivec3(rc.x, rc.y+1, rc.z+1);";break;default:throw new Error}_+=`
        ${T}
        ${x>0?"if(outputCoords.y < rows && outputCoords.z < cols){":""}
          int flattenedIndex = getFlattenedIndex(outputCoords);

          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flattenedIndex);
          vec2 innerDims = vec2(float(inputRC.y),float(inputRC.z));

          result[${x}] = getChannel(getA(inputRC.x, inputRC.y, inputRC.z), innerDims);

        ${x>0?"}":""}
      `}const v=a.getGlsl(t.session.backend.glContext.version),w=`
      ${function(x){const T=l.ShapeUtil.computeStrides(x),A=["b","r","c"];return`
    ivec3 inputCoordsFromReshapedOutCoords(int index) {
      ${T.map((E,O)=>`int ${A[O]} = index / ${E}; ${O===T.length-1?`int ${A[O+1]} = index - ${A[O]} * ${E}`:`index -= ${A[O]} * ${E}`};`).join("")}
      return ivec3(b, r, c);
    }
  `}(g)}
      ${function(x){const T=l.ShapeUtil.computeStrides(x);return`
  int getFlattenedIndex(ivec3 coords) {
    // reverse y, z order
    return coords.x * ${T[0]} + coords.z * ${T[1]} + coords.y;
  }
`}(y)}
      ${c.unpackFromChannel()}

      void main() {
        ivec3 rc = getOutputCoords();

        vec4 result = vec4(0.0);

        ivec3 outputCoords;
        int rows = ${y[2]};
        int cols = ${y[1]};

        ${_}
        ${v.output} = result;
      }
    `;return Object.assign(Object.assign({},r),{output:{dims:y,type:e.type,textureType:d.TextureType.packed},shaderSource:w,hasMain:!0})})(m,b,s,f)})},n.processDims3D=function(m){if(m.length===0)return[1,1,1];let b=1;for(let f=0;f<m.length-2;++f)b*=m[f];return[b,m.length>1?m[m.length-2]:1,m[m.length-1]]},n.isReshapeCheap=function(m,b){let f=!1;return f=m.length===0||b.length===0||(m.length<2||b.length<2?m[m.length-1]===b[b.length-1]:m[m.length-1]===b[b.length-1]&&m[m.length-2]===b[b.length-2]),f}},718:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.reshape=void 0;const l=u(2517);n.reshape=(a,d)=>{const c=l.ShapeUtil.calculateReshapedDims(d[0].dims,d[1].integerData);return a.session.pack?[a.reshapePacked(d[0],c)]:[a.reshapeUnpacked(d[0],c)]}},2268:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseResizeAttributesV11=n.parseResizeAttributesV10=n.resize=void 0;const l=u(5060),a=u(2039),d=u(9390),c=u(2827),m=u(9793),b={name:"Resize",inputNames:["A"],inputTypes:[a.TextureType.packed]};n.resize=(r,i,g)=>(m.validateInputs(i,g),[r.run(Object.assign(Object.assign({},b),{cacheHint:g.cacheKey,get:()=>f(r,i,g)}),i)]),n.parseResizeAttributesV10=r=>m.parseUpsampleAttributes(r,10),n.parseResizeAttributesV11=r=>m.parseUpsampleAttributes(r,11);const f=(r,i,g)=>{const y=l.getGlsl(r.session.backend.glContext.version),[_,v]=s(i,g);if(_.every(H=>H===1)&&g.coordinateTransformMode!=="tf_crop_and_resize")return Object.assign(Object.assign({},b),{output:{dims:v,type:i[0].type,textureType:a.TextureType.packed},hasMain:!0,shaderSource:`void main() {
                    vec4 v = ${y.texture2D}(X, TexCoords);
                    ${y.output} = v;
                }`});const w=v.length;if(w<2)throw new Error(`output dimension should be at least 2, but got ${w}`);const x=v[w-2],T=v[w-1],A=i[0].dims;if(w!==A.length)throw new Error(`output dimension should match input ${A.length}, but got ${w}`);const E=A[w-2],O=A[w-1],S=_[w-2],P=_[w-1];let $="";if(g.mode!=="linear")throw new Error(`resize (packed) does not support mode: '${g.mode}'`);switch(g.coordinateTransformMode){case"asymmetric":$=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return vec4(coords) / scaleWHWH;
                    }
                `;break;case"half_pixel":$=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        return (vec4(coords) + 0.5) / scaleWHWH - 0.5;
                    }
                `;break;case"align_corners":$=`
                    vec4 getSourceFracIndex(ivec4 coords) {
                        vec4 resized = vec4(${T}.0 - 1.0, ${x}.0 - 1.0, ${T}.0 - 1.0,
                            ${x}.0 - 1.0);
                        vec4 original = vec4(${O}.0 - 1.0, ${E}.0 - 1.0, ${O}.0 - 1.0,
                            ${E}.0 - 1.0);
                        vec4 new_scale = original / resized;
                        return vec4(coords) * new_scale;
                    }
                `;break;default:throw new Error(`resize (packed) does not support coordinateTransformMode:                                 '${g.coordinateTransformMode}'`)}const M=d.getCoordsDataType(w),j=`
            const vec2 inputWH = vec2(${E}.0, ${O}.0);
            const vec4 scaleWHWH = vec4(float(${S}), float(${P}), float(${S}), float(${P}));
            ${c.unpackFromChannel()}
            ${$}
            float getAValue(int x10, int r, int c, int d) {
                return getChannel(getA(x10, r, c, d), vec2(c, d));
            }
            void main() {
                ${M} rc = getOutputCoords();

                int batch = rc[0];
                int depth = rc[1];

                // retrieve the 4 coordinates that is used in the 4 packed output values.
                ivec4 coords = ivec4(rc.wz, rc.w + 1, rc.z + 1);

                // calculate the source index in fraction
                vec4 sourceFrac = getSourceFracIndex(coords);

                // get the lower and upper bound of the 4 values that will be packed into one texel.
                ivec4 x00 = ivec4(max(sourceFrac.xy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xy)));
                ivec4 x01 = ivec4(max(sourceFrac.xw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.xw)));
                ivec4 x10 = ivec4(max(sourceFrac.zy, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zy)));
                ivec4 x11 = ivec4(max(sourceFrac.zw, vec2(0.0)), min(inputWH - 1.0, ceil(sourceFrac.zw)));

                bool hasNextRow = rc.w < ${x-1};
                bool hasNextCol = rc.z < ${T-1};

                // pack x00, x01, x10, x11's top-left corner into one vec4 structure
                vec4 topLeft = vec4(
                    getAValue(batch, depth, x00.x, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.y) : 0.0);

                // pack x00, x01, x10, x11's top-right corner into one vec4 structure
                vec4 topRight = vec4(
                    getAValue(batch, depth, x00.x, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.x, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.x, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.x, x11.w) : 0.0);

                // pack x00, x01, x10, x11's bottom-left corner into one vec4 structure
                vec4 bottomLeft = vec4(
                    getAValue(batch, depth, x00.z, x00.y),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.y) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.y) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.y) : 0.0);

                // pack x00, x01, x10, x11's bottom-right corner into one vec4 structure
                vec4 bottomRight = vec4(
                    getAValue(batch, depth, x00.z, x00.w),
                    hasNextCol ? getAValue(batch, depth, x01.z, x01.w) : 0.0,
                    hasNextRow ? getAValue(batch, depth, x10.z, x10.w) : 0.0,
                    (hasNextRow && hasNextCol) ? getAValue(batch, depth, x11.z, x11.w) : 0.0);

                // calculate the interpolation fraction on u and v direction
                vec4 frac = vec4(sourceFrac) - floor(sourceFrac);
                vec4 clampFrac = clamp(frac, vec4(0.0), vec4(1.0));

                vec4 top = mix(topLeft, topRight, clampFrac.ywyw);
                vec4 bottom = mix(bottomLeft, bottomRight, clampFrac.ywyw);
                vec4 newValue = mix(top, bottom, clampFrac.xxzz);

                ${y.output} = vec4(newValue);
            }
        `;return Object.assign(Object.assign({},b),{output:{dims:v,type:i[0].type,textureType:a.TextureType.packed},hasMain:!0,shaderSource:j})},s=(r,i)=>{const g=r[0].dims;let y,_=i.scales;if(_.length===0){const w=r[i.scalesInputIdx];if(w&&w.size!==0){if(r[i.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");_=t(w,i.mode,i.isResize)}else{const x=r[i.sizesInputIdx];if(!x||x.size===0)throw new Error("Either scales or sizes MUST be provided as input.");y=Array.from(x.integerData),_=e(y,g,i.mode,i.isResize)}}else if(r[i.sizesInputIdx])throw new Error("Only one of scales or sizes must be provided as input.");const v=y||g.map((w,x)=>Math.floor(w*_[x]));return[_,v]},t=(r,i,g)=>{const y=Array.from(r.floatData);return m.scalesValidation(y,i,g),y},e=(r,i,g,y)=>{const _=i.length,v=new Array(_);for(let w=0,x=_;w<x;w++)if(i[w]===0){if(r[w]!==0)throw new Error("Input dim is zero but required output dim is non-zero.");v[w]=1}else v[w]=r[w]/i[w];return m.scalesValidation(v,g,y),v}},8117:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.shape=void 0;const l=u(9162);n.shape=(d,c)=>(a(c),[new l.Tensor([c[0].dims.length],"int32",void 0,void 0,new Int32Array(c[0].dims))]);const a=d=>{if(!d||d.length!==1)throw new Error("Shape requires 1 input.")}},2278:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sliceV10=n.parseSliceAttributes=n.slice=void 0;const l=u(246),a=u(782),d=u(2517),c=u(2039),m={name:"Slice",inputNames:["A"],inputTypes:[c.TextureType.unpacked]};n.slice=(e,r,i)=>(f(r),[e.run(Object.assign(Object.assign({},m),{cacheHint:i.cacheKey,get:()=>b(e,r[0],i)}),r)]),n.parseSliceAttributes=e=>{const r=e.attributes.getInts("starts"),i=e.attributes.getInts("ends"),g=e.attributes.getInts("axes",[]);return l.createAttributeWithCacheKey({starts:r,ends:i,axes:g})};const b=(e,r,i)=>{const g=i.axes.length===0?r.dims.slice(0).map((A,E)=>E):i.axes,y=d.ShapeUtil.normalizeAxes(g,r.dims.length),_=i.starts.map((A,E)=>A>r.dims[y[E]]-1?r.dims[y[E]]:d.ShapeUtil.normalizeAxis(A,r.dims[y[E]])),v=i.ends.map((A,E)=>A>r.dims[y[E]]-1?r.dims[y[E]]:d.ShapeUtil.normalizeAxis(A,r.dims[y[E]])),w=r.dims.slice(),x=[];for(let A=0;A<y.length;A++)w[y[A]]=v[A]-_[A],_[A]>0&&x.push(`outputIdx[${y[A]}] += ${_[A]};`);const T=`
      float process(int outputIdx[${w.length}]) {
        ${x.join(`
      `)}
        return _A(outputIdx);
      }`;return Object.assign(Object.assign({},m),{output:{dims:w,type:r.type,textureType:c.TextureType.unpacked},shaderSource:T})},f=e=>{if(!e||e.length!==1)throw new Error("Slice requires 1 input.");if(a.NUMBER_TYPES.indexOf(e[0].type)===-1)throw new Error("Invalid input type.")};n.sliceV10=(e,r)=>{t(r);const i=s(e,r);return[e.run(Object.assign(Object.assign({},m),{cacheHint:i.cacheKey,get:()=>b(e,r[0],i)}),[r[0]])]};const s=(e,r)=>{if(!e.session.isInitializer(r[1].dataId)||!e.session.isInitializer(r[2].dataId)||r.length>=4&&!e.session.isInitializer(r[3].dataId)||r.length>=5&&!e.session.isInitializer(r[4].dataId))throw new Error("dynamic slice attributes are not allowed");if(r.length>=5&&r[4].integerData.some(_=>_!==1))throw new Error("currently non-1 steps is not supported for Slice");const i=Array.from(r[1].integerData),g=Array.from(r[2].integerData),y=r.length>=4?Array.from(r[3].integerData):[];return{starts:i,ends:g,axes:y,cacheKey:`${y};${i};${g}`}},t=e=>{if(!e||e.length<3||e.length>5)throw new Error("Invalid input number.");if(e[1].type!=="int32"||e[1].dims.length!==1)throw new Error("Invalid input type.");if(e[2].type!=="int32"||e[2].dims.length!==1)throw new Error("Invalid input type.");if(e.length>=4&&(e[3].type!=="int32"||e[3].dims.length!==1))throw new Error("Invalid input type.");if(e.length>=5&&(e[4].type!=="int32"||e[4].dims.length!==1))throw new Error("Invalid input type.")}},5524:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.softmaxV13=n.parseSoftmaxAttributesV13=n.parseSoftmaxAttributes=n.softmax=void 0;const l=u(246),a=u(2517),d=u(5060),c=u(2039),m=u(3738),b={name:"SoftmaxComputeMax",inputNames:["A"],inputTypes:[c.TextureType.unpacked]},f={name:"SoftmaxComputeScale",inputNames:["A","Max"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked]},s={name:"SoftMax",inputNames:["A","Max","Norm"],inputTypes:[c.TextureType.unpacked,c.TextureType.unpacked,c.TextureType.unpacked]};n.softmax=(y,_,v)=>{g(_);const w=_[0].dims.slice(),x=a.ShapeUtil.normalizeAxis(v.axis,w.length),T=a.ShapeUtil.sizeToDimension(w,x),A=a.ShapeUtil.sizeFromDimension(w,x);return t(y,_,v,T,A)},n.parseSoftmaxAttributes=y=>l.createAttributeWithCacheKey({axis:y.attributes.getInt("axis",1)}),n.parseSoftmaxAttributesV13=y=>l.createAttributeWithCacheKey({axis:y.attributes.getInt("axis",-1)}),n.softmaxV13=(y,_,v)=>{g(_);const w=_[0].dims.slice(),x=a.ShapeUtil.normalizeAxis(v.axis,w.length),T=w.length,A=x!==T-1,E=[];let O,S=[],P=[];A&&(S=Array.from({length:T}).map((H,K)=>K),S[x]=T-1,S[T-1]=x,S.map(H=>E.push(w[H])),O=l.createAttributeWithCacheKey({perm:S}),P=m.transpose(y,_,O));const $=A?a.ShapeUtil.sizeToDimension(E,T-1):a.ShapeUtil.sizeToDimension(w,T-1),M=A?a.ShapeUtil.sizeFromDimension(E,T-1):a.ShapeUtil.sizeFromDimension(w,T-1),j=t(y,A?P:_,v,$,M);return A?m.transpose(y,j,O):j};const t=(y,_,v,w,x)=>{const T=e(y,_[0],w,x,[w]),A=y.run(Object.assign(Object.assign({},b),{cacheHint:v.cacheKey,get:()=>T}),_),E=r(y,_[0],w,x,T.output.dims,[w]),O=y.run(Object.assign(Object.assign({},f),{cacheHint:v.cacheKey,get:()=>E}),[_[0],A]),S=i(y,_[0],w,x,T.output.dims,E.output.dims);return[y.run(Object.assign(Object.assign({},s),{cacheHint:v.cacheKey,get:()=>S}),[_[0],A,O])]},e=(y,_,v,w,x)=>{const[T,A]=y.calculateTextureWidthAndHeight(_.dims,c.TextureType.unpacked),E=x.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(x.length!==1)throw new Error("Dimensionality of the output should be 1");if(x[0]!==v)throw new Error("Shape of the output should be equal to logical row count");const O=d.getGlsl(y.session.backend.glContext.version),S=`
      float process(int[${E}] indices) {
        int logical_row_start_offset = indices[0] * ${w};

        float max = getColorAsFloat(${O.texture2D}(A, offsetToCoords(logical_row_start_offset, ${T},
        ${A} )));
        for(int i=1; i<${w}; ++i)
        {
          float current = getColorAsFloat(${O.texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${T}, ${A})));
          if(current > max)
          max = current;
        }

        return max;
      }`;return Object.assign(Object.assign({},b),{output:{dims:x,type:_.type,textureType:c.TextureType.unpacked},shaderSource:S})},r=(y,_,v,w,x,T)=>{const[A,E]=y.calculateTextureWidthAndHeight(_.dims,c.TextureType.unpacked),O=T.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(T.length!==1)throw new Error("Dimensionality of the output should be 1");if(T[0]!==v)throw new Error("Shape of the output should be equal to logical row count");if(x.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(x[0]!==v)throw new Error("Shape of the intermediate results should be equal to logical row count");const S=`
      float process(int[${O}] indices) {
        int logical_row_start_offset = indices[0] * ${w};

        float norm_factor = 0.0;
        float max = _Max(indices);
        for(int i=0; i<${w}; ++i)
        {
          norm_factor += exp(getColorAsFloat(${d.getGlsl(y.session.backend.glContext.version).texture2D}(A, offsetToCoords(logical_row_start_offset + i,
            ${A}, ${E}))) - max);
        }

        return norm_factor;
      }`;return Object.assign(Object.assign({},f),{output:{dims:T,type:_.type,textureType:c.TextureType.unpacked},shaderSource:S})},i=(y,_,v,w,x,T)=>{const[A,E]=y.calculateTextureWidthAndHeight(_.dims,c.TextureType.unpacked),O=_.dims.length;if(v<1||w<1)throw new Error("Logical row count N and feature count D must be greater than or equal to 1");if(x.length!==1||T.length!==1)throw new Error("Dimensionality of the intermediate results should be 1");if(x[0]!==v||T[0]!==v)throw new Error("Shape of the intermediate results should be equal to logical row count");const S=`
      float process(int[${O}] indices) {

      // get offset of current logical tensor index from the 2-D texture coordinates (TexCoords)
      int offset = coordsToOffset(TexCoords, ${A}, ${E});

      //determine the logical row for this index
      int logical_row_index[1];
      logical_row_index[0] = offset / ${w};

      float norm_factor = _Norm(logical_row_index);

      // avoid possible division by 0
      // if norm_facor is 0, all elements are zero
      // if so, return 0
      if(norm_factor == 0.0)
        return 0.0;

      return exp(_A(indices) - _Max(logical_row_index)) / norm_factor;
    }`;return Object.assign(Object.assign({},s),{output:{dims:_.dims,type:_.type,textureType:c.TextureType.unpacked},shaderSource:S})},g=y=>{if(!y||y.length!==1)throw new Error("Softmax requires 1 input.");if(y[0].type!=="float32"&&y[0].type!=="float64")throw new Error("Invalid input type")}},5975:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSplitAttributes=n.split=void 0;const l=u(246),a=u(2517),d=u(2039),c={name:"Split",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};n.split=(s,t,e)=>{f(t);const r=a.ShapeUtil.normalizeAxis(e.axis,t[0].dims.length),i=m(s,t,r,e),g=[];for(let y=0;y<i;++y)g.push(s.run(Object.assign(Object.assign({},c),{cacheHint:`${e.cacheKey};${y}`,get:()=>b(s,t[0],e,r,y)}),t));return g},n.parseSplitAttributes=s=>{const t=s.attributes.getInt("axis",0),e=s.attributes.getInts("split",[]),r=s.outputs.length;return l.createAttributeWithCacheKey({axis:t,split:e,numOutputs:r})};const m=(s,t,e,r)=>{const[,i]=a.SplitUtil.splitShape(t[0].dims,e,r.split,r.numOutputs);return i.length},b=(s,t,e,r,i)=>{const[g,y]=a.SplitUtil.splitShape(t.dims,r,e.split,e.numOutputs),_=y[i],v=g[i],w=`
      float process(int indices[${v.length}]) {
        indices[${r}] += ${_};
        return _A(indices);
      }
    `;return Object.assign(Object.assign({},c),{cacheHint:`${e.cacheKey}:${i}`,output:{dims:v,type:t.type,textureType:d.TextureType.unpacked},shaderSource:w})},f=s=>{if(!s||s.length!==1)throw new Error("Split requires one input.");if(s[0].type!=="int8"&&s[0].type!=="uint8"&&s[0].type!=="int16"&&s[0].type!=="uint16"&&s[0].type!=="int32"&&s[0].type!=="uint32"&&s[0].type!=="float32"&&s[0].type!=="float64"&&s[0].type!=="bool")throw new Error("Invalid input type.")}},3933:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseSqueezeAttributes=n.squeezeV13=n.squeeze=void 0;const l=u(2517);n.squeeze=(c,m,b)=>{a(m);const f=l.ShapeUtil.squeezeShape(m[0].dims,b);return[c.reshapeUnpacked(m[0],f)]},n.squeezeV13=(c,m)=>(d(m),n.squeeze(c,[m[0]],Array.from(m[1].integerData))),n.parseSqueezeAttributes=c=>c.attributes.getInts("axes");const a=c=>{if(!c||c.length!==1)throw new Error("Squeeze requires 1 input.");if(c[0].type==="string")throw new Error("invalid input tensor types.")},d=c=>{if(!c||c.length!==2)throw new Error("Squeeze requires 2 inputs.");if(c[1].type!=="int32")throw new Error("Invalid input type.")}},6558:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.sum=void 0;const l=u(5060),a=u(2039);n.sum=(m,b)=>{c(b);const f={name:"Sum",inputNames:b.map((s,t)=>`X${t}`),inputTypes:new Array(b.length).fill(a.TextureType.unpacked)};return[m.run(Object.assign(Object.assign({},f),{get:()=>d(m,b,f)}),b)]};const d=(m,b,f)=>{const s=l.getGlsl(m.session.backend.glContext.version),t=b[0].dims.slice(),e=`
      void main() {
        vec4 result = ${b.map((r,i)=>`${s.texture2D}(X${i},TexCoords)`).join(" + ")};
        ${s.output} = result;
      }
    `;return Object.assign(Object.assign({},f),{output:{dims:t,type:b[0].type,textureType:a.TextureType.unpacked},hasMain:!0,shaderSource:e})},c=m=>{if(!m||m.length===0)throw new Error("Sum requires inputs.");const b=m[0].dims.length;for(let f=1;f<m.length;f++){if(b!==m[f].dims.length)throw new Error("Input shapes are mismatched.");for(let s=0;s<b;s++)if(m[0].dims[s]!==m[f].dims[s])throw new Error("Input shapes are not matched.")}if(m[0].type!=="float32"&&m[0].type!=="float64")throw new Error("Invalid input type.");for(let f=1;f<m.length;f++)if(m[0].type!==m[f].type)throw new Error("Input types are not matched.")}},5723:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tile=void 0;const l=u(782),a=u(2039);n.tile=(m,b)=>{c(b);const f={name:"Tile",inputNames:["A"],inputTypes:[a.TextureType.unpacked]};return[m.run(Object.assign(Object.assign({},f),{get:()=>d(m,b,f)}),b)]};const d=(m,b,f)=>{const s=b[0].dims.slice(),t=new Array(s.length),e=[];for(let g=0;g<s.length;g++)t[g]=s[g]*b[1].numberData[g],e.push(`inputIdx[${g}] = int(mod(float(outputIdx[${g}]), ${s[g]}.));`);const r=t.length,i=`
      float process(int outputIdx[${r}]) {
        int inputIdx[${r}];
        ${e.join(`
`)}
        return _A(inputIdx);
      }
    `;return Object.assign(Object.assign({},f),{output:{dims:t,type:b[0].type,textureType:a.TextureType.unpacked},shaderSource:i})},c=m=>{if(!m||m.length!==2)throw new Error("Tile requires 2 input.");if(m[1].dims.length!==1)throw new Error("The second input shape must 1 dimension.");if(m[1].dims[0]!==m[0].dims.length)throw new Error("Invalid input shape.");if(l.NUMBER_TYPES.indexOf(m[0].type)===-1)throw new Error("Invalid input type.");if(m[1].type!=="int32"&&m[1].type!=="int16")throw new Error("Invalid repeat type.")}},3738:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseTransposeAttributes=n.transpose=void 0;const l=u(246),a=u(2517),d=u(2039),c={name:"Transpose",inputNames:["A"],inputTypes:[d.TextureType.unpacked]};n.transpose=(e,r,i)=>(t(r),[e.run(Object.assign(Object.assign({},c),{cacheHint:i.cacheKey,get:()=>m(e,r[0],i.perm)}),r)]),n.parseTransposeAttributes=e=>l.createAttributeWithCacheKey({perm:e.attributes.getInts("perm",[])});const m=(e,r,i)=>{const g=r.dims;i=b(g,i);const y=f(g,i),_=g.length,v=`
      ${s("perm",i,_)}
      float process(int indices[${_}]) {
        int a[${_}];
        perm(a, indices);
        return _A(a);
      }`;return Object.assign(Object.assign({},c),{output:{dims:y,type:r.type,textureType:d.TextureType.unpacked},shaderSource:v})},b=(e,r)=>(r&&r.length!==e.length&&(r=[...e.keys()].reverse()),r),f=(e,r)=>(r=b(e,r),a.ShapeUtil.sortBasedOnPerm(e,r)),s=(e,r,i)=>{const g=[];g.push(`void ${e}(out int a[${i}], int src[${i}]) {`);for(let y=0;y<i;++y)g.push(`	a[${r[y]}]=src[${y}];`);return g.push("	}"),g.join(`
`)},t=e=>{if(!e||e.length!==1)throw new Error("Transpose requires 1 input.");if(e[0].type!=="float32"&&e[0].type!=="float64")throw new Error("input should be float tensor")}},8710:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.encodeAsUint8=void 0;const l=u(5060),a=u(2039);n.encodeAsUint8=(d,c)=>{const m=c.shape,b=l.getGlsl(d.session.backend.glContext.version),f=`
    const float FLOAT_MAX = 1.70141184e38;
    const float FLOAT_MIN = 1.17549435e-38;

    bool isNaN(float val) {
      return (val < 1.0 || 0.0 < val || val == 0.0) ? false : true;
    }

    highp vec4 encodeAsUint8(highp float v) {
      if (isNaN(v)) {
        return vec4(255, 255, 255, 255);
      }

      highp float av = abs(v);

      if(av < FLOAT_MIN) {
        return vec4(0.0, 0.0, 0.0, 0.0);
      } else if(v > FLOAT_MAX) {
        return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;
      } else if(v < -FLOAT_MAX) {
        return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;
      }

      highp vec4 c = vec4(0,0,0,0);

      highp float e = floor(log2(av));
      highp float m = exp2(fract(log2(av))) - 1.0;

      c[2] = floor(128.0 * m);
      m -= c[2] / 128.0;
      c[1] = floor(32768.0 * m);
      m -= c[1] / 32768.0;
      c[0] = floor(8388608.0 * m);

      highp float ebias = e + 127.0;
      c[3] = floor(ebias / 2.0);
      ebias -= c[3] * 2.0;
      c[2] += floor(ebias) * 128.0;

      c[3] += 128.0 * step(0.0, -v);

      return c / 255.0;
    }

    void main() {
      float value = ${b.texture2D}(X,TexCoords).r;
      ${b.output} = encodeAsUint8(value);
    }`,s={name:"Uint8Encode",inputTypes:[a.TextureType.unpacked],inputNames:["X"],output:{dims:m,type:c.tensor.type,textureType:a.TextureType.downloadUint8AsFloat},shaderSource:f,hasMain:!0};return d.executeProgram(s,[c.tensor])}},4909:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.tanh=n.tan=n.sqrt=n.sin=n.sigmoid=n.relu=n.not=n.neg=n.log=n.parseLeakyReluAttributes=n.leakyRelu=n.identity=n.floor=n.exp=n.parseEluAttributes=n.elu=n.cos=n.ceil=n.clipV11=n.parseClipAttributes=n.clip=n.atan=n.asin=n.acos=n.abs=n.glslTanh=n.glslTan=n.glslSqrt=n.glslSigmoid=n.glslRelu=n.glslSin=n.glslNot=n.glslNeg=n.glslLog=n.glslLeakyRelu=n.glslIdentity=n.glslClip=n.glslFloor=n.glslExp=n.glslElu=n.glslCos=n.glslCeil=n.glslAtan=n.glslAsin=n.glslAcos=n.glslAbs=void 0;const l=u(246),a=u(2517),d=u(8520),c=u(5060),m=u(2039);function b(){return j("abs")}function f(){return j("acos")}function s(){return j("asin")}function t(){return j("atan")}function e(){return j("ceil")}function r(){return j("cos")}function i(C){return{body:`
  const float alpha = float(${C});

  float elu_(float a) {
    return a >= 0.0 ? a: (exp(a) - 1.0) * alpha;
  }
  vec4 elu_(vec4 v) {
    return vec4(elu_(v.x), elu_(v.y), elu_(v.z), elu_(v.w));
  }
  `,name:"elu",type:d.FunctionType.ValueBased}}function g(){return j("exp")}function y(){return j("floor")}function _(C,L){return{body:`
  const float min = float(${C});
  const float max = float(${L});

  float clip_(float a) {
    return clamp(a, min, max);
  }
  vec4 clip_(vec4 v) {
    return clamp(v, min, max);
  }
  `,name:"clip",type:d.FunctionType.ValueBased}}function v(){const C="indentity";return{body:`
  float ${C}_(float a) {
    return a;
  }
  vec4 ${C}_(vec4 v) {
    return v;
  }
  `,name:C,type:d.FunctionType.ValueBased}}function w(C){const L="leakyRelu";return{body:`
  const float alpha = float(${C});

  float ${L}_(float a) {
    return a < 0.0 ? a * alpha : a;
  }
  vec4 ${L}_(vec4 v) {
    return vec4(${L}_(v.x), ${L}_(v.y), ${L}_(v.z), ${L}_(v.w));
  }
  `,name:L,type:d.FunctionType.ValueBased}}function x(){return j("log")}function T(){return{body:`
  float neg_(float a) {
    return -a;
  }
  vec4 neg_(vec4 v) {
    return -v;
  }
  `,name:"neg",type:d.FunctionType.ValueBased}}function A(){return{body:`
  float not_(float a) {
    return float( ! bool(a) );
  }
  bool not_(bool a) {
    return !a;
  }
  vec4 not_(vec4 v) {
    return vec4(!bool(v.x), !bool(v.y), !bool(v.z), !bool(v.w));
  }
  bvec4 not_(bvec4 v) {
    return bvec4(!v.x, !v.y, !v.z, !v.w);
  }
  `,name:"not",type:d.FunctionType.ValueBased}}function E(){return j("sin")}function O(){return{body:`
  float relu_(float a) {
    return max( a, 0.0 );
  }
  vec4 relu_(vec4 v) {
    return max( v, 0.0 );
  }
  `,name:"relu",type:d.FunctionType.ValueBased}}function S(){return{body:`
  float sigmoid_(float a) {
    return 1.0 / (1.0 + exp(-a));
  }
  vec4 sigmoid_(vec4 v) {
    return 1.0 / (1.0 + exp(-v));
  }
  `,name:"sigmoid",type:d.FunctionType.ValueBased}}function P(){return j("sqrt")}function $(){return j("tan")}function M(){return{body:`
  float tanh_(float a) {
    a = clamp(a, -10., 10.);
    a = exp(2.*a);
    return (a - 1.) / (a + 1.);
  }
  vec4 tanh_(vec4 v) {
    v = clamp(v, -10., 10.);
    v = exp(2.*v);
    return (v - 1.) / (v + 1.);
  }
  `,name:"tanh",type:d.FunctionType.ValueBased}}function j(C){return{body:`
  float ${C}_(float a) {
    return ${C}(a);
  }
  vec4 ${C}_(vec4 v) {
    return ${C}(v);
  }
  `,name:C,type:d.FunctionType.ValueBased}}n.glslAbs=b,n.glslAcos=f,n.glslAsin=s,n.glslAtan=t,n.glslCeil=e,n.glslCos=r,n.glslElu=i,n.glslExp=g,n.glslFloor=y,n.glslClip=_,n.glslIdentity=v,n.glslLeakyRelu=w,n.glslLog=x,n.glslNeg=T,n.glslNot=A,n.glslSin=E,n.glslRelu=O,n.glslSigmoid=S,n.glslSqrt=P,n.glslTan=$,n.glslTanh=M;const H=(C,L,oe,X)=>{const me=C.session.pack?m.TextureType.packed:m.TextureType.unpacked,pe={name:oe.name,inputTypes:[me],inputNames:["A"],cacheHint:X};return Object.assign(Object.assign({},pe),{get:()=>((_e,Ce,De,V)=>{const ee=_e.session.pack?m.TextureType.packed:m.TextureType.unpacked,Q=c.getGlsl(_e.session.backend.glContext.version);return Object.assign(Object.assign({},Ce),{output:{dims:De.dims,type:De.type,textureType:ee},shaderSource:`
     ${V.body}
     void main() {
       vec4 v = ${Q.texture2D}(A, TexCoords);
       v = ${V.name}_(v);
       ${Q.output} = v;
     }
     `,hasMain:!0})})(C,pe,L,oe)})};n.abs=(C,L)=>[C.run(H(C,L[0],b()),L)],n.acos=(C,L)=>[C.run(H(C,L[0],f()),L)],n.asin=(C,L)=>[C.run(H(C,L[0],s()),L)],n.atan=(C,L)=>[C.run(H(C,L[0],t()),L)],n.clip=(C,L,oe)=>[C.run(H(C,L[0],_(oe.min,oe.max),oe.cacheKey),L)],n.parseClipAttributes=C=>l.createAttributeWithCacheKey({min:C.attributes.getFloat("min",a.MIN_CLIP),max:C.attributes.getFloat("max",a.MAX_CLIP)}),n.clipV11=(C,L)=>{const oe=K(C,L);return n.clip(C,[L[0]],oe)};const K=(C,L)=>{if(L.length>=3&&(!C.session.isInitializer(L[1].dataId)||!C.session.isInitializer(L[2].dataId)))throw new Error("dynamic clip attributes are not allowed");const oe=L.length>=3?L[1].numberData[0]:a.MIN_CLIP,X=L.length>=3?L[2].numberData[0]:a.MAX_CLIP;return l.createAttributeWithCacheKey({min:oe,max:X})};n.ceil=(C,L)=>[C.run(H(C,L[0],e()),L)],n.cos=(C,L)=>[C.run(H(C,L[0],r()),L)],n.elu=(C,L,oe)=>[C.run(H(C,L[0],i(oe.alpha),oe.cacheKey),L)],n.parseEluAttributes=C=>l.createAttributeWithCacheKey({alpha:C.attributes.getFloat("alpha",1)}),n.exp=(C,L)=>[C.run(H(C,L[0],g()),L)],n.floor=(C,L)=>[C.run(H(C,L[0],y()),L)],n.identity=(C,L)=>[C.run(H(C,L[0],v()),L)],n.leakyRelu=(C,L,oe)=>[C.run(H(C,L[0],w(oe.alpha),oe.cacheKey),L)],n.parseLeakyReluAttributes=C=>l.createAttributeWithCacheKey({alpha:C.attributes.getFloat("alpha",.01)}),n.log=(C,L)=>[C.run(H(C,L[0],x()),L)],n.neg=(C,L)=>[C.run(H(C,L[0],T()),L)],n.not=(C,L)=>[C.run(H(C,L[0],A()),L)],n.relu=(C,L)=>[C.run(H(C,L[0],O()),L)],n.sigmoid=(C,L)=>[C.run(H(C,L[0],S()),L)],n.sin=(C,L)=>[C.run(H(C,L[0],E()),L)],n.sqrt=(C,L)=>[C.run(H(C,L[0],P()),L)],n.tan=(C,L)=>[C.run(H(C,L[0],$()),L)],n.tanh=(C,L)=>[C.run(H(C,L[0],M()),L)]},5611:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createUnpackProgramInfoLoader=n.createUnpackProgramInfo=void 0;const l=u(5060),a=u(2039),d=u(9390),c=u(2827),m={name:"unpack",inputNames:["A"],inputTypes:[a.TextureType.packed]};n.createUnpackProgramInfo=(b,f)=>{const s=f.dims.length,t=c.getChannels("rc",s),e=t.slice(-2),r=d.getCoordsDataType(s),i=c.unpackFromChannel(),g=f.dims.length===0?"":function(v,w){if(v===1)return"rc";let x="";for(let T=0;T<v;T++)x+=w[T],T<v-1&&(x+=",");return x}(s,t),y=s<=1?"rc":`vec2(${e.join(",")})`,_=`
    ${i}
    void main() {
      ${r} rc = getOutputCoords();

       // Sample the texture with the coords to get the rgba channel value.
       vec4 packedInput = getA(${g});

       ${l.getGlsl(b.session.backend.glContext.version).output} = vec4(getChannel(packedInput, ${y}), 0, 0, 0);
     }
   `;return Object.assign(Object.assign({},m),{hasMain:!0,output:{dims:f.dims,type:f.type,textureType:a.TextureType.unpacked},shaderSource:_})},n.createUnpackProgramInfoLoader=(b,f)=>Object.assign(Object.assign({},m),{get:()=>n.createUnpackProgramInfo(b,f)})},8428:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.parseUnsqueezeAttributes=n.unsqueezeV13=n.unsqueeze=void 0;const l=u(2517);n.unsqueeze=(c,m,b)=>{a(m);const f=l.ShapeUtil.unsqueezeShape(m[0].dims,b);return[c.reshapeUnpacked(m[0],f)]},n.unsqueezeV13=(c,m)=>(d(m),n.unsqueeze(c,[m[0]],Array.from(m[1].integerData))),n.parseUnsqueezeAttributes=c=>c.attributes.getInts("axes");const a=c=>{if(!c||c.length!==1)throw new Error("Unsqueeze requires 1 input.");if(c[0].type==="string")throw new Error("invalid input tensor types.")},d=c=>{if(!c||c.length!==2)throw new Error("Unsqueeze requires 2 inputs.");if(c[1].type!=="int32")throw new Error("Invalid input type.")}},9793:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.scalesValidation=n.validateInputs=n.parseUpsampleAttributes=n.parseUpsampleAttributesV9=n.parseUpsampleAttributesV7=n.upsample=void 0;const l=u(246),a=u(5060),d=u(2039),c={name:"Upsample",inputNames:["X"],inputTypes:[d.TextureType.unpacked]};n.upsample=(b,f,s)=>(n.validateInputs(f,s),[b.run(Object.assign(Object.assign({},c),{cacheHint:s.cacheKey,get:()=>m(b,f,s)}),f)]),n.parseUpsampleAttributesV7=b=>n.parseUpsampleAttributes(b,7),n.parseUpsampleAttributesV9=b=>n.parseUpsampleAttributes(b,9),n.parseUpsampleAttributes=(b,f)=>{const s=f>=10,t=b.attributes.getString("mode","nearest");if(t!=="nearest"&&t!=="linear"&&(f<11||t!=="cubic"))throw new Error(`unrecognized mode: ${t}`);let e=[];f<9&&(e=b.attributes.getFloats("scales"),n.scalesValidation(e,t,s));const r=b.attributes.getFloat("extrapolation_value",0),i=f>10?b.attributes.getString("coordinate_transformation_mode","half_pixel"):"asymmetric";if(["asymmetric","pytorch_half_pixel","tf_half_pixel_for_nn","align_corners","tf_crop_and_resize","half_pixel"].indexOf(i)===-1)throw new Error(`coordinate_transform_mode '${i}' is not supported`);const g=i==="tf_crop_and_resize",y=g,_=t==="nearest"&&f>=11?b.attributes.getString("nearest_mode","round_prefer_floor"):"";if(["round_prefer_floor","round_prefer_ceil","floor","ceil",""].indexOf(_)===-1)throw new Error(`nearest_mode '${_}' is not supported`);const v=b.attributes.getFloat("cubic_coeff_a",-.75),w=b.attributes.getInt("exclude_outside",0)!==0;if(w&&t!=="cubic")throw new Error("exclude_outside can be set to 1 only when mode is CUBIC.");const x=f<11||t==="nearest"&&i==="asymmetric"&&_==="floor";let T=0,A=0,E=0;return f>10?(T=1,A=2,E=3):f===9&&(A=1),l.createAttributeWithCacheKey({opset:f,isResize:s,mode:t,scales:e,extrapolationValue:r,coordinateTransformMode:i,useExtrapolation:y,needRoiInput:g,nearestMode:_,cubicCoefficientA:v,excludeOutside:w,useNearest2xOptimization:x,roiInputIdx:T,scalesInputIdx:A,sizesInputIdx:E})};const m=(b,f,s)=>{const t=a.getGlsl(b.session.backend.glContext.version),[e,r]=b.calculateTextureWidthAndHeight(f[0].dims,d.TextureType.unpacked),i=f[0].dims.map((E,O)=>Math.floor(E*s.scales[O])),[g,y]=b.calculateTextureWidthAndHeight(i,d.TextureType.unpacked),_=i.length,v=new Array(_),w=new Array(_);let x=`
      int output_pitches[${_}];
      int input_pitches[${_}];
      `;for(let E=_-1;E>=0;E--)v[E]=E===_-1?1:v[E+1]*i[E+1],w[E]=E===_-1?1:w[E+1]*f[0].dims[E+1],x+=`
        output_pitches[${E}] = ${v[E]};
        input_pitches[${E}] = ${w[E]};
        `;const T=`
      float getInputFloat(int index) {
        vec2 coords = offsetToCoords(index, ${e}, ${r});
        float value = getColorAsFloat(${t.texture2D}(X, coords));
        return value;
      }
      `,A=s.mode==="nearest"?`
    ${T}
    float process(int indices[${_}]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${g}, ${y});

      ${x}

      int d, m;
      for (int dim = 0; dim < ${_}; ++dim) {
        d = output_index / output_pitches[dim];
        m = output_index - d * output_pitches[dim];
        output_index = m;

        if (scales[dim] != 1 && d > 0) {
          int d2 = d / scales[dim];
          m = d - d2 * scales[dim];
          d = d2;
        }
        input_index += input_pitches[dim] * d;
      }

      return getInputFloat(input_index);
    }`:_===4?`
    ${T}
    float process(int indices[4]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${g}, ${y});

      ${x}

      int m;
      int index_of_dim0, index_of_dim1, index_of_dim2, index_of_dim3;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m / output_pitches[1];
      m = m - index_of_dim1 * output_pitches[1];
      index_of_dim2 = m / output_pitches[2];
      m = m - index_of_dim2 * output_pitches[2];
      index_of_dim3 = m;

      int index_of_input_dim2, index_of_input_dim3, x_offset, y_offset;
      index_of_input_dim2 = index_of_dim2 / scales[2];
      y_offset = index_of_dim2 - index_of_input_dim2 * scales[2];
      index_of_input_dim3 = index_of_dim3 / scales[3];
      x_offset = index_of_dim3 - index_of_input_dim3 * scales[3];

      input_index = index_of_dim0 * input_pitches[0] +
            index_of_dim1 * input_pitches[1] +
            index_of_input_dim2 * input_pitches[2] +
            index_of_input_dim3;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim2 = false;
      if (index_of_input_dim2 == (${f[0].dims[2]} - 1)) {
        // It's the end in dimension 2
        x01 = x00;
        end_of_dim2 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[2]);
      }

      if (index_of_input_dim3 == (input_pitches[2] - 1)) {
        // It's the end in dimension 3
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim2 ? x10 : getInputFloat(input_index + input_pitches[2] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[2]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[2]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[3]);
    }`:`
    ${T}
    float process(int indices[2]) {
      int input_index = 0;
      int output_index = coordsToOffset(TexCoords, ${g}, ${y});

      ${x}

      int m;
      int index_of_dim0, index_of_dim1;
      index_of_dim0 = output_index / output_pitches[0];
      m = output_index - index_of_dim0 * output_pitches[0];
      index_of_dim1 = m;

      int index_of_input_dim0, index_of_input_dim1, x_offset, y_offset;
      index_of_input_dim0 = index_of_dim0 / scales[0];
      y_offset = index_of_dim0 - index_of_input_dim0 * scales[0];
      index_of_input_dim1 = index_of_dim1 / scales[1];
      x_offset = index_of_dim1 - index_of_input_dim1 * scales[1];

      input_index = index_of_input_dim0 * input_pitches[0] + index_of_input_dim1;

      float x00 = getInputFloat(input_index);
      float x10, x01, x11;

      bool end_of_dim0 = false;
      if (index_of_input_dim0 == (${f[0].dims[0]} - 1)) {
        // It's the end in dimension 0
        x01 = x00;
        end_of_dim0 = true;
      } else {
        x01 = getInputFloat(input_index + input_pitches[0]);
      }

      if (index_of_input_dim1 == (input_pitches[0] - 1)) {
        // It's the end in dimension 1
        x10 = x00;
        x11 = x01;
      }
      else {
        x10 = getInputFloat(input_index + 1);
        x11 = end_of_dim0 ? x10 : getInputFloat(input_index + input_pitches[0] + 1);
      }

      float y0 = x00 + float(y_offset) * (x01 - x00) / float(scales[0]);
      float y1 = x10 + float(y_offset) * (x11 - x10) / float(scales[0]);
      return y0 + float(x_offset) * (y1 - y0) / float(scales[1]);
    }`;return Object.assign(Object.assign({},c),{output:{dims:i,type:f[0].type,textureType:d.TextureType.unpacked},shaderSource:A,variables:[{name:"scales",type:"int",arrayLength:s.scales.length,data:s.scales.map(E=>Math.ceil(E))}]})};n.validateInputs=(b,f)=>{if(!b||f.opset<9&&b.length!==1||f.opset>=9&&f.opset<11&&b.length!==2||f.opset>=11&&b.length!==3&&b.length!==4)throw new Error("invalid inputs.");if(f.scales.length>0&&b[0].dims.length!==f.scales.length)throw new Error("Invalid input shape.");if(b[0].type==="string")throw new Error("Invalid input tensor types.")},n.scalesValidation=(b,f,s)=>{if(s){for(const t of b)if(t<=0)throw new Error("Scale value should be greater than 0.")}else for(const t of b)if(t<1)throw new Error("Scale value should be greater than or equal to 1.");if(!(f!=="linear"&&f!=="cubic"||b.length===2||b.length===4&&b[0]===1&&b[1]===1))throw new Error(`'Linear' mode and 'Cubic' mode only support 2-D inputs ('Bilinear', 'Bicubic')         or 4-D inputs with the corresponding outermost 2 scale values being 1         in the ${s?"Resize":"Upsample"} opeartor.`)}},1958:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ProgramManager=void 0;const l=u(2174),a=u(6231),d=u(8879),c=u(5060);n.ProgramManager=class{constructor(m,b,f){this.profiler=m,this.glContext=b,this.textureLayoutStrategy=f,this.repo=new Map,this.attributesBound=!1}getArtifact(m){return this.repo.get(m)}setArtifact(m,b){this.repo.set(m,b)}run(m,b,f){var s;this.profiler.event("op",`ProgramManager.run ${(s=m.programInfo.name)!==null&&s!==void 0?s:"unknown kernel"}`,()=>{var t;const e=this.glContext.gl,r=m.program;e.useProgram(r);try{this.bindOutput(f),this.attributesBound||this.bindAttributes(m.attribLocations),this.bindUniforms(m.uniformLocations,(t=m.programInfo.variables)!==null&&t!==void 0?t:[],b)}catch(i){throw a.Logger.error("ProgramManager",m.programInfo.shaderSource),i}this.profiler.event("backend","GlContext.draw()",()=>{this.glContext.draw()})},this.glContext)}dispose(){this.vertexShader&&this.glContext.deleteShader(this.vertexShader),this.repo.forEach(m=>this.glContext.deleteProgram(m.program))}build(m,b,f){return this.profiler.event("backend","ProgramManager.build",()=>{const s=new d.GlslPreprocessor(this.glContext,m,b,f),t=s.preprocess(),e=this.compile(t);return{programInfo:m,program:e,uniformLocations:this.getUniformLocations(e,s.context.programInfo.inputNames,s.context.programInfo.variables),attribLocations:this.getAttribLocations(e)}})}compile(m){if(!this.vertexShader){a.Logger.verbose("ProrgramManager","Compiling and caching Vertex shader for the first time");const s=c.getVertexShaderSource(this.glContext.version);this.vertexShader=this.glContext.compileShader(s,this.glContext.gl.VERTEX_SHADER)}l.env.debug&&a.Logger.verbose("ProrgramManager",`FragShader:
${m}
`);const b=this.glContext.compileShader(m,this.glContext.gl.FRAGMENT_SHADER),f=this.glContext.createProgram(this.vertexShader,b);return this.glContext.deleteShader(b),f}bindOutput(m){const b=m.width,f=m.height;a.Logger.verbose("ProrgramManager",`Binding output texture to Framebuffer: w/h=${b}/${f}, shape=${m.shape}, type=${m.tensor.type}`),this.glContext.attachFramebuffer(m.texture,b,f)}bindAttributes(m){const b=m.position,f=m.textureCoord;this.glContext.setVertexAttributes(b,f),this.attributesBound=!0}bindUniforms(m,b,f){var s;const t=this.glContext.gl;let e=0;for(const{name:r,type:i,location:g,arrayLength:y}of m){const _=(s=b.find(v=>v.name===r))===null||s===void 0?void 0:s.data;if(i!=="sampler2D"&&!_)throw new Error(`variable '${r}' does not have data defined in program info`);switch(i){case"sampler2D":this.bindTexture(f[e],g,e),e++;break;case"float":y?t.uniform1fv(g,_):t.uniform1f(g,_);break;case"int":y?t.uniform1iv(g,_):t.uniform1i(g,_);break;default:throw new Error(`Uniform not implemented: ${i}`)}}}bindTexture(m,b,f){this.glContext.bindTextureToUniform(m.texture,f,b)}getAttribLocations(m){return{position:this.getAttribLocation(m,"position"),textureCoord:this.getAttribLocation(m,"textureCoord")}}getUniformLocations(m,b,f){const s=[];if(b)for(const t of b)s.push({name:t,type:"sampler2D",location:this.getUniformLocation(m,t)});if(f)for(const t of f)s.push(Object.assign(Object.assign({},t),{location:this.getUniformLocation(m,t.name)}));return s}getUniformLocation(m,b){const f=this.glContext.gl.getUniformLocation(m,b);if(f===null)throw new Error(`Uniform ${b} not found.`);return f}getAttribLocation(m,b){return this.glContext.gl.getAttribLocation(m,b)}}},6416:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLSessionHandler=void 0;const l=u(6231),a=u(1047),d=u(8316),c=u(1640),m=u(1958),b=u(7859),f=u(5702);n.WebGLSessionHandler=class{constructor(s,t){this.backend=s,this.context=t,this.layoutStrategy=new b.PreferLogicalStrategy(s.glContext.maxTextureSize),this.programManager=new m.ProgramManager(this.context.profiler,s.glContext,this.layoutStrategy),this.textureManager=new f.TextureManager(s.glContext,this.layoutStrategy,this.context.profiler,{reuseTextures:s.textureCacheMode==="full"}),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache=new Map,this.pack=s.pack,this.pack2unpackMap=new Map,this.unpack2packMap=new Map}createInferenceHandler(){return new d.WebGLInferenceHandler(this)}onGraphInitialized(s){const t=s.getValues().filter(e=>e.from===-1&&e.tensor).map(e=>e.tensor.dataId);this.initializers=new Set(t)}isInitializer(s){return!!this.initializers&&this.initializers.has(s)}addInitializer(s){this.initializers.add(s)}getTextureData(s,t){return t?this.packedTextureDataCache.get(s):this.unpackedTextureDataCache.get(s)}setTextureData(s,t,e=!1){l.Logger.verbose("WebGLSessionHandler","Storing Texture data in cache"),e?this.packedTextureDataCache.set(s,t):this.unpackedTextureDataCache.set(s,t)}dispose(){this.programManager.dispose(),this.textureManager.clearActiveTextures(),this.packedTextureDataCache.forEach(s=>this.textureManager.releaseTexture(s,!0)),this.packedTextureDataCache=new Map,this.unpackedTextureDataCache.forEach(s=>this.textureManager.releaseTexture(s,!0)),this.unpackedTextureDataCache=new Map}resolve(s,t,e){const r=a.resolveOperator(s,t,c.WEBGL_OP_RESOLVE_RULES);return{impl:r.opImpl,context:r.opInit?r.opInit(s,e):s}}}},7769:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Uint8DataEncoder=n.RGBAFloatDataEncoder=n.RedFloat32DataEncoder=void 0;const l=u(6231);n.RedFloat32DataEncoder=class{constructor(a,d=1){if(d===1)this.internalFormat=a.R32F,this.format=a.RED,this.textureType=a.FLOAT,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=a.RGBA32F,this.format=a.RGBA,this.textureType=a.FLOAT,this.channelSize=d}}encode(a,d){let c,m;return a.constructor!==Float32Array&&(l.Logger.warning("Encoder","data was not of type Float32; creating new Float32Array"),m=new Float32Array(a)),d*this.channelSize>a.length?(l.Logger.warning("Encoder","Source data too small. Allocating larger array"),m=a,c=this.allocate(d*this.channelSize),m.forEach((b,f)=>c[f]=b)):(m=a,c=m),c}allocate(a){return new Float32Array(4*a)}decode(a,d){return this.channelSize===1?a.filter((c,m)=>m%4==0).subarray(0,d):a.subarray(0,d)}},n.RGBAFloatDataEncoder=class{constructor(a,d=1,c){if(d!==1&&d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=a.RGBA,this.format=a.RGBA,this.channelSize=d,this.textureType=c||a.FLOAT}encode(a,d){let c=a;return this.channelSize===1&&(l.Logger.verbose("Encoder","Exploding into a larger array"),c=this.allocate(d),a.forEach((m,b)=>c[4*b]=m)),c}allocate(a){return new Float32Array(4*a)}decode(a,d){return this.channelSize===1?a.filter((c,m)=>m%4==0).subarray(0,d):a.subarray(0,d)}},n.Uint8DataEncoder=class{constructor(a,d=1){if(this.channelSize=4,d===1)this.internalFormat=a.ALPHA,this.format=a.ALPHA,this.textureType=a.UNSIGNED_BYTE,this.channelSize=d;else{if(d!==4)throw new Error(`Invalid number of channels: ${d}`);this.internalFormat=a.RGBA,this.format=a.RGBA,this.textureType=a.UNSIGNED_BYTE,this.channelSize=d}}encode(a,d){return new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}allocate(a){return new Uint8Array(a*this.channelSize)}decode(a,d){if(a instanceof Uint8Array)return a.subarray(0,d);throw new Error(`Invalid array type: ${a.constructor}`)}}},7859:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getBatchDim=n.sizeToSquarishShape=n.getRowsCols=n.sizeFromShape=n.isInt=n.parseAxisParam=n.squeezeShape=n.PreferLogicalStrategy=n.AlwaysKeepOriginalSizeStrategy=void 0;const l=u(6231),a=u(2517);function d(s,t){const e=[],r=[],i=t!=null&&Array.isArray(t)&&t.length===0,g=t==null||i?null:c(t,s).sort();let y=0;for(let _=0;_<s.length;++_){if(g!=null){if(g[y]===_&&s[_]!==1)throw new Error(`Can't squeeze axis ${_} since its dim '${s[_]}' is not 1`);(g[y]==null||g[y]>_)&&s[_]===1&&(e.push(s[_]),r.push(_)),g[y]<=_&&y++}s[_]!==1&&(e.push(s[_]),r.push(_))}return{newShape:e,keptDims:r}}function c(s,t){const e=t.length;return s=s==null?t.map((r,i)=>i):[].concat(s),a.assert(s.every(r=>r>=-e&&r<e),()=>`All values in axis param must be in range [-${e}, ${e}) but got axis ${s}`),a.assert(s.every(m),()=>`All values in axis param must be integers but got axis ${s}`),s.map(r=>r<0?e+r:r)}function m(s){return s%1==0}function b(s){if(s.length===0)return 1;let t=s[0];for(let e=1;e<s.length;e++)t*=s[e];return t}function f(s){const t=Math.ceil(Math.sqrt(s));return[t,Math.ceil(s/t)]}n.AlwaysKeepOriginalSizeStrategy=class{constructor(s){this.maxTextureSize=s}computeTextureWH(s,t){if(s.length===0)return[1,1];const e=this.maxTextureSize;if(t&&t.breakAxis!==void 0){const g=t.breakAxis>=s.length?1:s.slice(t.breakAxis).reduce((_,v)=>_*v),y=t.breakAxis<=0?1:s.slice(0,t.breakAxis).reduce((_,v)=>_*v);if(!(g>e||y>e))return[g,y];l.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${s}, breakAxis:${t.breakAxis}`)}const r=s.reduce((g,y)=>g*y);let i=Math.floor(Math.sqrt(r));for(;i<e&&i<r&&r%i!=0;i++);if(i>=e||r%i!=0)throw new Error(`The given dimensions are outside this GPU's boundaries: ${s}`);return[i,r/i]}},n.PreferLogicalStrategy=class{constructor(s){this.maxTextureSize=s}computeTextureWH(s,t){const e=this.computeTexture(s,t);return t&&t.isPacked&&(e[0]/=2,e[1]/=2),t&&t.reverseWH?[e[1],e[0]]:e}computeTexture(s,t){const e=t&&t.isPacked;if(s.length===0)return e?[2,2]:[1,1];let r=this.maxTextureSize;if(t&&t.breakAxis!==void 0){const y=t.breakAxis>=s.length?1:s.slice(t.breakAxis).reduce((v,w)=>v*w),_=t.breakAxis<=0?1:s.slice(0,t.breakAxis).reduce((v,w)=>v*w);if(!(y>r||_>r))return[y,_];l.Logger.verbose("TextureLayout",`Given width/height preferences were unattainable: shape:${s}, breakAxis:${t.breakAxis}`)}let i=s.slice(0);e&&(r*=2,i=i.map((y,_)=>_>=i.length-2?i[_]%2==0?i[_]:i[_]+1:i[_]),i.length===1&&(i=[2,i[0]])),i.length!==2&&(i=d(i).newShape);const g=b(i);return i.length<=1&&g<=r?[1,g]:i.length===2&&i[0]<=r&&i[1]<=r?i:i.length===3&&i[0]*i[1]<=r&&i[2]<=r?[i[0]*i[1],i[2]]:i.length===3&&i[0]<=r&&i[1]*i[2]<=r?[i[0],i[1]*i[2]]:i.length===4&&i[0]*i[1]*i[2]<=r&&i[3]<=r?[i[0]*i[1]*i[2],i[3]]:i.length===4&&i[0]<=r&&i[1]*i[2]*i[3]<=r?[i[0],i[1]*i[2]*i[3]]:e?f(g/4).map(y=>2*y):f(g)}},n.squeezeShape=d,n.parseAxisParam=c,n.isInt=m,n.sizeFromShape=b,n.getRowsCols=function(s){if(s.length===0)throw Error("Cannot get rows and columns of an empty shape array.");return[s.length>1?s[s.length-2]:1,s[s.length-1]]},n.sizeToSquarishShape=f,n.getBatchDim=function(s,t=2){return b(s.slice(0,s.length-t))}},4057:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createTextureLayoutFromShape=n.calculateTextureWidthAndHeight=n.createTextureLayoutFromTextureType=void 0;const l=u(2517),a=u(2039);n.createTextureLayoutFromTextureType=(d,c,m)=>{const b=m===a.TextureType.unpacked||m===a.TextureType.unpackedReversed?1:4,f=m===a.TextureType.packed,s=m===a.TextureType.unpackedReversed||m===a.TextureType.packed,t=m===a.TextureType.packedLastDimension?c.length-1:void 0,e=m===a.TextureType.packedLastDimension?c.map((r,i)=>i===c.length-1?4*r:r):void 0;return n.createTextureLayoutFromShape(d,c,b,e,{isPacked:f,reverseWH:s,breakAxis:t})},n.calculateTextureWidthAndHeight=(d,c,m)=>{const b=n.createTextureLayoutFromTextureType(d,c,m);return[b.width,b.height]},n.createTextureLayoutFromShape=(d,c,m=1,b,f)=>{const s=!(!f||!f.isPacked),[t,e]=d.computeTextureWH(s&&b||c,f),r=c.length;let i=c.slice(0);if(r===0&&(i=[1]),m===1)b=c;else if(s){if(m!==4)throw new Error("a packed texture must be 4-channel");b=c,r>0&&(i[r-1]=Math.ceil(i[r-1]/2)),r>1&&(i[r-2]=Math.ceil(i[r-2]/2))}else if(!b)throw new Error("Unpacked shape is needed when using channels > 1");return{width:t,height:e,channels:m,isPacked:s,shape:i,strides:l.ShapeUtil.computeStrides(i),unpackedShape:b,reversedWH:f&&f.reverseWH}}},5702:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextureManager=void 0;const l=u(6231);n.TextureManager=class{constructor(a,d,c,m){this.glContext=a,this.layoutStrategy=d,this.profiler=c,this.config=m,this.pendingRead=new Map,m.reuseTextures&&(this.inUseTextures=new Map,this.idleTextures=new Map,this.textureLookup=new Map)}createTextureFromLayout(a,d,c,m){const b=this.toEncoderType(a),f=this.glContext.getEncoder(b,d.channels||1,m);if(d.isPacked&&m===1)throw new Error("not implemented");const s=d.width,t=d.height;let e,r;if(this.config.reuseTextures){e=`${s}x${t}_${f.format}_${f.internalFormat}_${f.textureType}`,r=this.inUseTextures.get(e),r||(r=[],this.inUseTextures.set(e,r));const g=this.idleTextures.get(e);if(g&&g.length>0){const y=g.pop();return r.push(y),m===1&&this.glContext.updateTexture(y,s,t,f,this.toTextureData(a,c)),y}}l.Logger.verbose("TextureManager",`Creating new texture of size ${d.width}x${d.height}`);const i=this.glContext.allocateTexture(s,t,f,this.toTextureData(a,c));return this.config.reuseTextures&&(r.push(i),this.textureLookup.set(i,e)),i}readTexture(a,d,c){return c||(c=1),this.profiler.event("backend","TextureManager.readTexture",()=>{const m=a.shape.reduce((f,s)=>f*s)*c,b=this.glContext.readTexture(a.texture,a.width,a.height,m,this.toEncoderType(d),c);return this.toTensorData(d,b)})}async readTextureAsync(a,d,c){const m=a.tensor.dataId;if(c||(c=1),this.pendingRead.has(m)){const b=this.pendingRead.get(m);return new Promise(f=>b==null?void 0:b.push(f))}return this.profiler.event("backend","TextureManager.readTextureAsync",async()=>{this.pendingRead.set(m,[]);const b=a.shape.reduce((e,r)=>e*r)*c;await this.glContext.createAndWaitForFence();const f=this.glContext.readTexture(a.texture,a.width,a.height,b,this.toEncoderType(d),c),s=this.toTensorData(d,f),t=this.pendingRead.get(m);return this.pendingRead.delete(m),t==null||t.forEach(e=>e(s)),s})}readUint8TextureAsFloat(a){return this.profiler.event("backend","TextureManager.readUint8TextureAsFloat",()=>{const d=a.shape.reduce((m,b)=>m*b),c=this.glContext.readTexture(a.texture,a.width,a.height,4*d,"byte",4);return new Float32Array(c.buffer,c.byteOffset,d)})}releaseTexture(a,d){let c;if(this.config.reuseTextures&&(c=this.textureLookup.get(a.texture),c)){d&&this.textureLookup.delete(c);const m=this.inUseTextures.get(c);if(m){const b=m.indexOf(a.texture);if(b!==-1){m.splice(b,1);let f=this.idleTextures.get(c);f||(f=[],this.idleTextures.set(c,f)),f.push(a.texture)}}}c&&!d||(l.Logger.verbose("TextureManager",`Deleting texture of size ${a.width}x${a.height}`),this.glContext.deleteTexture(a.texture))}toTensorData(a,d){switch(a){case"int16":return d instanceof Int16Array?d:Int16Array.from(d);case"int32":return d instanceof Int32Array?d:Int32Array.from(d);case"int8":return d instanceof Int8Array?d:Int8Array.from(d);case"uint16":return d instanceof Uint16Array?d:Uint16Array.from(d);case"uint32":return d instanceof Uint32Array?d:Uint32Array.from(d);case"uint8":case"bool":return d instanceof Uint8Array?d:Uint8Array.from(d);case"float32":return d instanceof Float32Array?d:Float32Array.from(d);case"float64":return d instanceof Float64Array?d:Float64Array.from(d);default:throw new Error(`TensorData type ${a} is not supported`)}}toTextureData(a,d){if(d)return d instanceof Float32Array?d:new Float32Array(d)}toEncoderType(a){return"float"}clearActiveTextures(){this.glContext.clearActiveTextures()}}},2039:(o,n)=>{var u;Object.defineProperty(n,"__esModule",{value:!0}),n.TextureType=void 0,(u=n.TextureType||(n.TextureType={}))[u.unpacked=0]="unpacked",u[u.unpackedReversed=1]="unpackedReversed",u[u.packed=2]="packed",u[u.downloadUint8AsFloat=3]="downloadUint8AsFloat",u[u.packedLastDimension=4]="packedLastDimension"},9390:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getGlChannels=n.getCoordsDataType=n.getSqueezedParams=n.squeezeInputShape=n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=n.generateShaderFuncNameFromInputSamplerName=n.repeatedTry=n.getPackedShape=void 0;const l=u(2517);n.getPackedShape=function(a){const d=a.length;return a.slice(0,d-1).concat(a[d-1]/4)},n.repeatedTry=async function(a,d=m=>0,c){return new Promise((m,b)=>{let f=0;const s=()=>{if(a())return void m();f++;const t=d(f);c!=null&&f>=c?b():setTimeout(s,t)};s()})},n.generateShaderFuncNameFromInputSamplerName=function(a){return l.assert(a!==void 0&&a.length!==0,()=>"empty string found for sampler name"),"get"+a.charAt(0).toUpperCase()+a.slice(1)},n.generateShaderFuncNameFromInputSamplerNameAtOutCoords=function(a){return l.assert(a!==void 0&&a.length!==0,()=>"empty string found for sampler name"),"get"+a.charAt(0).toUpperCase()+a.slice(1)+"AtOutCoords"},n.squeezeInputShape=function(a,d){let c=JSON.parse(JSON.stringify(a));return c=d,c},n.getSqueezedParams=function(a,d){return d.map(c=>a[c]).join(", ")},n.getCoordsDataType=function(a){if(a<=1)return"int";if(a===2)return"ivec2";if(a===3)return"ivec3";if(a===4)return"ivec4";if(a===5)return"ivec5";if(a===6)return"ivec6";throw Error(`GPU for rank ${a} is not yet supported`)},n.getGlChannels=function(a=6){return["x","y","z","w","u","v"].slice(0,a)}},7305:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createNewWebGLContext=n.createWebGLContext=void 0;const l=u(6231),a=u(1713),d={};function c(m){const b=function(){if(typeof document>"u"){if(typeof OffscreenCanvas>"u")throw new TypeError("failed to create canvas: OffscreenCanvas is not supported");return new OffscreenCanvas(1,1)}const t=document.createElement("canvas");return t.width=1,t.height=1,t}();let f;const s={alpha:!1,depth:!1,antialias:!1,stencil:!1,preserveDrawingBuffer:!1,premultipliedAlpha:!1,failIfMajorPerformanceCaveat:!1};if((!m||m==="webgl2")&&(f=b.getContext("webgl2",s),f))try{return new a.WebGLContext(f,2)}catch(t){l.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl2'. Error: ${t}`)}if((!m||m==="webgl")&&(f=b.getContext("webgl",s)||b.getContext("experimental-webgl",s),f))try{return new a.WebGLContext(f,1)}catch(t){l.Logger.warning("GlContextFactory",`failed to create WebGLContext using contextId 'webgl' or 'experimental-webgl'. Error: ${t}`)}throw new Error("WebGL is not supported")}n.createWebGLContext=function m(b){let f;b&&b!=="webgl2"||!("webgl2"in d)?b&&b!=="webgl"||!("webgl"in d)||(f=d.webgl):f=d.webgl2,f=f||c(b),b=b||f.version===1?"webgl":"webgl2";const s=f.gl;return d[b]=f,s.isContextLost()?(delete d[b],m(b)):(s.disable(s.DEPTH_TEST),s.disable(s.STENCIL_TEST),s.disable(s.BLEND),s.disable(s.DITHER),s.disable(s.POLYGON_OFFSET_FILL),s.disable(s.SAMPLE_COVERAGE),s.enable(s.SCISSOR_TEST),s.enable(s.CULL_FACE),s.cullFace(s.BACK),f)},n.createNewWebGLContext=c},1713:function(o,n,u){var l=this&&this.__createBinding||(Object.create?function(s,t,e,r){r===void 0&&(r=e),Object.defineProperty(s,r,{enumerable:!0,get:function(){return t[e]}})}:function(s,t,e,r){r===void 0&&(r=e),s[r]=t[e]}),a=this&&this.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),d=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var e in s)e!=="default"&&Object.prototype.hasOwnProperty.call(s,e)&&l(t,s,e);return a(t,s),t};Object.defineProperty(n,"__esModule",{value:!0}),n.WebGLContext=n.linearSearchLastTrue=void 0;const c=u(2174),m=d(u(7769)),b=u(9390);function f(s){let t=0;for(;t<s.length&&s[t]();++t);return t-1}n.linearSearchLastTrue=f,n.WebGLContext=class{constructor(s,t){this.frameBufferBound=!1,this.itemsToPoll=[],this.gl=s,this.version=t,this.getExtensions(),this.vertexbuffer=this.createVertexbuffer(),this.framebuffer=this.createFramebuffer(),this.queryVitalParameters()}allocateTexture(s,t,e,r){const i=this.gl,g=i.createTexture();i.bindTexture(i.TEXTURE_2D,g),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);const y=r?e.encode(r,s*t):null;return i.texImage2D(i.TEXTURE_2D,0,e.internalFormat,s,t,0,e.format,e.textureType,y),this.checkError(),g}updateTexture(s,t,e,r,i){const g=this.gl;g.bindTexture(g.TEXTURE_2D,s);const y=r.encode(i,t*e);g.texSubImage2D(g.TEXTURE_2D,0,0,0,t,e,r.format,r.textureType,y),this.checkError()}attachFramebuffer(s,t,e){const r=this.gl;r.bindTexture(r.TEXTURE_2D,s),r.bindFramebuffer(r.FRAMEBUFFER,this.framebuffer),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,s,0),this.checkError(),r.viewport(0,0,t,e),r.scissor(0,0,t,e)}readTexture(s,t,e,r,i,g){const y=this.gl;g||(g=1),this.frameBufferBound||this.attachFramebuffer(s,t,e);const _=this.getEncoder(i,g),v=_.allocate(t*e);return y.bindTexture(y.TEXTURE_2D,s),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_2D,s,0),y.readPixels(0,0,t,e,y.RGBA,_.textureType,v),this.checkError(),_.decode(v,r)}isFramebufferReady(){return!0}getActiveTexture(){const s=this.gl;return"TEXTURE"+(s.getParameter(this.gl.ACTIVE_TEXTURE)-s.TEXTURE0)}getTextureBinding(){return this.gl.getParameter(this.gl.TEXTURE_BINDING_2D)}getFramebufferBinding(){return this.gl.getParameter(this.gl.FRAMEBUFFER_BINDING)}setVertexAttributes(s,t){const e=this.gl;e.vertexAttribPointer(s,3,e.FLOAT,!1,20,0),e.enableVertexAttribArray(s),t!==-1&&(e.vertexAttribPointer(t,2,e.FLOAT,!1,20,12),e.enableVertexAttribArray(t)),this.checkError()}createProgram(s,t){const e=this.gl,r=e.createProgram();return e.attachShader(r,s),e.attachShader(r,t),e.linkProgram(r),r}compileShader(s,t){const e=this.gl,r=e.createShader(t);if(!r)throw new Error(`createShader() returned null with type ${t}`);if(e.shaderSource(r,s),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)===!1)throw new Error(`Failed to compile shader: ${e.getShaderInfoLog(r)}
Shader source:
${s}`);return r}deleteShader(s){this.gl.deleteShader(s)}bindTextureToUniform(s,t,e){const r=this.gl;r.activeTexture(r.TEXTURE0+t),this.checkError(),r.bindTexture(r.TEXTURE_2D,s),this.checkError(),r.uniform1i(e,t),this.checkError()}draw(){this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4),this.checkError()}checkError(){if(c.env.debug){const s=this.gl,t=s.getError();let e="";switch(t){case s.NO_ERROR:return;case s.INVALID_ENUM:e="INVALID_ENUM";break;case s.INVALID_VALUE:e="INVALID_VALUE";break;case s.INVALID_OPERATION:e="INVALID_OPERATION";break;case s.INVALID_FRAMEBUFFER_OPERATION:e="INVALID_FRAMEBUFFER_OPERATION";break;case s.OUT_OF_MEMORY:e="OUT_OF_MEMORY";break;case s.CONTEXT_LOST_WEBGL:e="CONTEXT_LOST_WEBGL";break;default:e=`Unknown WebGL Error: ${t.toString(16)}`}throw new Error(e)}}deleteTexture(s){this.gl.deleteTexture(s)}deleteProgram(s){this.gl.deleteProgram(s)}getEncoder(s,t,e=0){if(this.version===2)return new m.RedFloat32DataEncoder(this.gl,t);switch(s){case"float":return e===1||this.isRenderFloat32Supported?new m.RGBAFloatDataEncoder(this.gl,t):new m.RGBAFloatDataEncoder(this.gl,t,this.textureHalfFloatExtension.HALF_FLOAT_OES);case"int":throw new Error("not implemented");case"byte":return new m.Uint8DataEncoder(this.gl,t);default:throw new Error(`Invalid dataType: ${s}`)}}clearActiveTextures(){const s=this.gl;for(let t=0;t<this.maxTextureImageUnits;++t)s.activeTexture(s.TEXTURE0+t),s.bindTexture(s.TEXTURE_2D,null)}dispose(){if(this.disposed)return;const s=this.gl;s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(this.framebuffer),s.bindBuffer(s.ARRAY_BUFFER,null),s.deleteBuffer(this.vertexbuffer),s.bindBuffer(s.ELEMENT_ARRAY_BUFFER,null),s.finish(),this.disposed=!0}createDefaultGeometry(){return new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0])}createVertexbuffer(){const s=this.gl,t=s.createBuffer();if(!t)throw new Error("createBuffer() returned null");const e=this.createDefaultGeometry();return s.bindBuffer(s.ARRAY_BUFFER,t),s.bufferData(s.ARRAY_BUFFER,e,s.STATIC_DRAW),this.checkError(),t}createFramebuffer(){const s=this.gl.createFramebuffer();if(!s)throw new Error("createFramebuffer returned null");return s}queryVitalParameters(){const s=this.gl;if(this.isFloatTextureAttachableToFrameBuffer=this.checkFloatTextureAttachableToFrameBuffer(),this.isRenderFloat32Supported=this.checkRenderFloat32(),this.isFloat32DownloadSupported=this.checkFloat32Download(),this.version===1&&!this.textureHalfFloatExtension&&!this.isRenderFloat32Supported)throw new Error("both float32 and float16 TextureType are not supported");this.isBlendSupported=!this.isRenderFloat32Supported||this.checkFloat32Blend(),this.maxTextureSize=s.getParameter(s.MAX_TEXTURE_SIZE),this.maxTextureImageUnits=s.getParameter(s.MAX_TEXTURE_IMAGE_UNITS),this.version}getExtensions(){this.version===2?(this.colorBufferFloatExtension=this.gl.getExtension("EXT_color_buffer_float"),this.disjointTimerQueryWebgl2Extension=this.gl.getExtension("EXT_disjoint_timer_query_webgl2")):(this.textureFloatExtension=this.gl.getExtension("OES_texture_float"),this.textureHalfFloatExtension=this.gl.getExtension("OES_texture_half_float"))}checkFloatTextureAttachableToFrameBuffer(){const s=this.gl,t=s.createTexture();s.bindTexture(s.TEXTURE_2D,t);const e=this.version===2?s.RGBA32F:s.RGBA;s.texImage2D(s.TEXTURE_2D,0,e,1,1,0,s.RGBA,s.FLOAT,null);const r=s.createFramebuffer();s.bindFramebuffer(s.FRAMEBUFFER,r),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t,0);const i=s.checkFramebufferStatus(s.FRAMEBUFFER)===s.FRAMEBUFFER_COMPLETE;return s.bindTexture(s.TEXTURE_2D,null),s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteTexture(t),s.deleteFramebuffer(r),i}checkRenderFloat32(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension)return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Download(){if(this.version===2){if(!this.colorBufferFloatExtension)return!1}else if(!this.textureFloatExtension||!this.gl.getExtension("WEBGL_color_buffer_float"))return!1;return this.isFloatTextureAttachableToFrameBuffer}checkFloat32Blend(){const s=this.gl;let t,e,r,i,g;try{t=s.createTexture(),e=s.createFramebuffer(),s.bindTexture(s.TEXTURE_2D,t);const y=this.version===2?s.RGBA32F:s.RGBA;return s.texImage2D(s.TEXTURE_2D,0,y,1,1,0,s.RGBA,s.FLOAT,null),s.bindFramebuffer(s.FRAMEBUFFER,e),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,t,0),s.enable(s.BLEND),r=s.createShader(s.VERTEX_SHADER),!!r&&(s.shaderSource(r,"void main(){}"),s.compileShader(r),i=s.createShader(s.FRAGMENT_SHADER),!!i&&(s.shaderSource(i,"precision highp float;void main(){gl_FragColor=vec4(0.5);}"),s.compileShader(i),g=s.createProgram(),!!g&&(s.attachShader(g,r),s.attachShader(g,i),s.linkProgram(g),s.useProgram(g),s.drawArrays(s.POINTS,0,1),s.getError()===s.NO_ERROR)))}finally{s.disable(s.BLEND),g&&s.deleteProgram(g),r&&s.deleteShader(r),i&&s.deleteShader(i),e&&(s.bindFramebuffer(s.FRAMEBUFFER,null),s.deleteFramebuffer(e)),t&&(s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(t))}}beginTimer(){if(this.version===2&&this.disjointTimerQueryWebgl2Extension){const s=this.gl,t=this.disjointTimerQueryWebgl2Extension,e=s.createQuery();return s.beginQuery(t.TIME_ELAPSED_EXT,e),e}throw new Error("WebGL1 profiling currently not supported.")}endTimer(){if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const s=this.gl,t=this.disjointTimerQueryWebgl2Extension;s.endQuery(t.TIME_ELAPSED_EXT)}}isTimerResultAvailable(s){let t=!1,e=!1;if(this.version!==2||!this.disjointTimerQueryWebgl2Extension)throw new Error("WebGL1 profiling currently not supported");{const r=this.gl,i=this.disjointTimerQueryWebgl2Extension;t=r.getQueryParameter(s,r.QUERY_RESULT_AVAILABLE),e=r.getParameter(i.GPU_DISJOINT_EXT)}return t&&!e}getTimerResult(s){let t=0;if(this.version!==2)throw new Error("WebGL1 profiling currently not supported");{const e=this.gl;t=e.getQueryParameter(s,e.QUERY_RESULT),e.deleteQuery(s)}return t/1e6}async waitForQueryAndGetTime(s){return await b.repeatedTry(()=>this.isTimerResultAvailable(s)),this.getTimerResult(s)}async createAndWaitForFence(){const s=this.createFence(this.gl);return this.pollFence(s)}createFence(s){let t;const e=s,r=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return s.flush(),t=r===null?()=>!0:()=>{const i=e.clientWaitSync(r,0,0);return i===e.ALREADY_SIGNALED||i===e.CONDITION_SATISFIED},{query:r,isFencePassed:t}}async pollFence(s){return new Promise(t=>{this.addItemToPoll(()=>s.isFencePassed(),()=>t())})}pollItems(){const s=f(this.itemsToPoll.map(t=>t.isDoneFn));for(let t=0;t<=s;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(s+1)}async addItemToPoll(s,t){this.itemsToPoll.push({isDoneFn:s,resolveFn:t}),this.itemsToPoll.length>1||await b.repeatedTry(()=>(this.pollItems(),this.itemsToPoll.length===0))}}},1036:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ExecutionPlan=void 0;const l=u(6231);class a{constructor(c,m){this.op=c,this.node=m}}n.ExecutionPlan=class{constructor(d,c,m){this.graph=d,this.profiler=m,this.initialize(c)}initialize(d){this.profiler.event("session","ExecutionPlan.initialize",()=>{const c=this.graph.getNodes();if(c.length!==d.length)throw new Error("The size of nodes and OPs do not match.");this._ops=d.map((m,b)=>new a(m,c[b])),this.reset(),this._starter=[],this._ops.forEach((m,b)=>{let f=!0;for(const s of m.node.inputs)if(!this._values[s]&&this.graph.getInputIndices().indexOf(s)===-1){f=!1;break}f&&this._starter.push(b)})})}reset(){this._values=this.graph.getValues().map(d=>d.tensor)}async execute(d,c){return this.profiler.event("session","ExecutionPlan.execute",async()=>{this.reset();const m=d.createInferenceHandler(),b=this.graph.getInputIndices();if(c.length!==b.length)throw new Error(`number of input tensors don't match the number of inputs to the model: actual: ${c.length} expected: ${b.length}`);c.forEach((i,g)=>{const y=b[g];this._values[y]=i});const f=this._starter.slice(0),s=this.graph.getValues(),t=this.graph.getNodes();let e=0;for(;e<f.length;){const i=f[e++],g=this._ops[i],y=g.node.inputs.map(x=>this._values[x]);if(y.indexOf(void 0)!==-1)throw new Error(`unresolved input detected: op: ${g.node}`);const _=y;l.Logger.verbose("ExecPlan",`Runing op:${g.node.name} (${_.map((x,T)=>`'${g.node.inputs[T]}': ${x.type}[${x.dims.join(",")}]`).join(", ")})`);const v=await this.profiler.event("node",g.node.name,async()=>g.op.impl(m,_,g.op.context));if(v.length!==g.node.outputs.length)throw new Error("the size of output does not match model definition.");v.forEach((x,T)=>{const A=g.node.outputs[T];if(this._values[A])throw new Error(`output [${A}] already has value: op:${g.node.name}`);this._values[A]=x});const w=new Set;v.forEach((x,T)=>{const A=g.node.outputs[T];for(const E of s[A].to){const O=t[E];let S=!0;for(const P of O.inputs)if(!this._values[P]){S=!1;break}S&&w.add(E)}}),f.push(...w)}const r=[];for(let i=0;i<this.graph.getOutputIndices().length;i++){const g=this.graph.getOutputIndices()[i],y=this._values[g];if(y===void 0)throw new Error(`required output [${g}] does not have value`);g===0?await y.getData():y.data,r.push(y)}return l.Logger.verbose("ExecPlan","disposing of inferenceHandler"),m.dispose(),r})}}},7070:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Graph=void 0;const l=u(1446),a=u(7778),d=u(9395),c=u(9162),m=u(2517);var b=d.onnxruntime.experimental.fbs;n.Graph={from:(e,r)=>new t(e,r)};class f{constructor(r){this._from=void 0,this._to=[],this.tensor=void 0,this.type=void 0,r&&(this.type=m.ProtoUtil.tensorValueTypeFromProto(r.type.tensorType))}get from(){return this._from}get to(){return this._to}}class s{constructor(r,i){r instanceof l.onnx.NodeProto?(this.name=r.name,this.opType=r.opType,this.attributes=new a.Attribute(r.attribute)):r instanceof b.Node&&(this.name=i??r.name(),this.opType=r.opType(),this.attributes=new a.Attribute(m.ProtoUtil.tensorAttributesFromORTFormat(r))),this.inputs=[],this.outputs=[],this.executeNode=!0}}class t{constructor(r,i){if(!r)throw new TypeError("graph is empty");this.buildGraph(r),this.transformGraph(i),this.checkIsAcyclic()}getInputIndices(){return this._allInputIndices}getInputNames(){return this._allInputNames}getOutputIndices(){return this._allOutputIndices}getOutputNames(){return this._allOutputNames}getValues(){return this._allData}getNodes(){return this._nodes}buildGraph(r){if(r instanceof l.onnx.GraphProto)this.buildGraphFromOnnxFormat(r);else{if(!(r instanceof b.Graph))throw new TypeError("Graph type is not supported.");this.buildGraphFromOrtFormat(r)}}buildGraphFromOnnxFormat(r){const i=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const g=new Map;if(!r.input)throw new Error("missing information in graph: input");const y=[];for(const _ of r.input){if(i.has(_.name))throw new Error(`duplicated input name: ${_.name}`);const v=this._allData.push(new f(_))-1;i.set(_.name,v),y.push(_.name)}if(!r.initializer)throw new Error("missing information in graph: initializer");for(const _ of r.initializer){let v=i.get(_.name);if(v===void 0){const w=new f;w.type={shape:{dims:m.ProtoUtil.tensorDimsFromProto(_.dims)},tensorType:m.ProtoUtil.tensorDataTypeFromProto(_.dataType)},v=this._allData.push(w)-1,i.set(_.name,v)}this._allData[v]._from=-1,this._allData[v].tensor=c.Tensor.fromProto(_)}for(let _=0;_<this._allData.length;_++)this._allData[_].tensor||(this._allInputIndices.push(_),this._allInputNames.push(y[_]));if(!r.output)throw new Error("missing information in graph: output");for(const _ of r.output){if(i.has(_.name))throw new Error(`duplicated output name: ${_.name}`);const v=this._allData.push(new f(_))-1;i.set(_.name,v),this._allOutputIndices.push(v),this._allOutputNames.push(_.name)}if(!r.node)throw new Error("missing information in graph: node");for(const _ of r.node){if(!_.name)for(let w=0;;w++){const x=`unnamed_${_.opType}_${w}`;if(!g.has(x)){_.name=x;break}}if(g.has(_.name))throw new Error(`duplicated node name: ${_.name}`);const v=this._nodes.push(new s(_))-1;g.set(_.name,v)}for(let _=0;_<this._nodes.length;_++){const v=this._nodes[_],w=r.node[_];if(!w.output)throw new Error(`missing output for node: ${w.name}`);for(const x of w.output){let T=i.get(x);if(T===void 0&&(T=this._allData.push(new f)-1,i.set(x,T)),v.outputs.push(T),this._allData[T]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${T}`);if(this._allData[T]._from=_,w.opType==="Constant"){if(!w.attribute||w.attribute.length!==1||!w.attribute[0].t)throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(!w.output||w.output.length!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");v.outputs.pop(),v.executeNode=!1,this._allData[T]._from=-1,this._allData[T].tensor=c.Tensor.fromProto(w.attribute[0].t)}}}for(let _=0;_<this._nodes.length;_++){const v=this._nodes[_],w=r.node[_];if(!w.input)throw new Error(`missing input for node: ${w.name}`);for(const x of w.input){const T=i.get(x);if(T===void 0)throw new Error(`unrecognized input '${x}' for node: ${w.name}`);v.inputs.push(T),this._allData[T]._to.push(_)}}return!0}buildGraphFromOrtFormat(r){var i,g,y;const _=new Map;this._allData=[],this._allInputIndices=[],this._allInputNames=[],this._allOutputIndices=[],this._allOutputNames=[],this._nodes=[];const v=new Map,w=[];for(let x=0;x<r.inputsLength();x++){const T=r.inputs(x);if(_.has(T))throw new Error(`duplicated input name: ${T}`);for(let A=0;A<r.nodeArgsLength();A++)if(((i=r.nodeArgs(A))===null||i===void 0?void 0:i.name())===T){const E=new f;if(((y=(g=r.nodeArgs(A))===null||g===void 0?void 0:g.type())===null||y===void 0?void 0:y.valueType())!==b.TypeInfoValue.tensor_type)throw new Error("Unexpected value type for the nodeArg.");const O=r.nodeArgs(A).type().value(new b.TensorTypeAndShape),S=m.ProtoUtil.tensorDataTypeFromProto(O.elemType()),P=O.shape(),$=[];for(let j=0;j<P.dimLength();j++)$.push(m.LongUtil.longToNumber(P.dim(j).value().dimValue()));E.type={shape:{dims:$},tensorType:S};const M=this._allData.push(E)-1;_.set(T,M),w.push(T)}}for(let x=0;x<r.initializersLength();x++){const T=r.initializers(x);let A=_.get(T.name());if(A===void 0){const E=new f,O=m.ProtoUtil.tensorDimsFromORTFormat(T),S=m.ProtoUtil.tensorDataTypeFromProto(T.dataType());E.type={shape:{dims:O},tensorType:S},A=this._allData.push(E)-1,_.set(T.name(),A)}this._allData[A]._from=-1,this._allData[A].tensor=c.Tensor.fromOrtTensor(T)}for(let x=0;x<this._allData.length;x++)this._allData[x].tensor||(this._allInputIndices.push(x),this._allInputNames.push(w[x]));for(let x=0;x<r.outputsLength();x++){const T=r.outputs(x);if(_.has(T))throw new Error(`duplicated output name: ${T}`);const A=this._allData.push(new f)-1;_.set(T,A),this._allOutputIndices.push(A),this._allOutputNames.push(T)}if(!r.nodes)throw new Error("missing information in graph: node");for(let x=0;x<r.nodesLength();x++){const T=r.nodes(x);let A=T.name();if(!A)for(let O=0;A=`unnamed_${T.opType()}_${O}`,v.has(A);O++);if(v.has(A))throw new Error(`duplicated node name: ${A}`);const E=this._nodes.push(new s(T,A))-1;v.set(A,E)}for(let x=0;x<this._nodes.length;x++){const T=this._nodes[x],A=r.nodes(x);if(A==null)throw new Error(`No node exists at index ${x}`);if((A==null?void 0:A.outputsLength())===0)throw new Error(`missing output for node: ${A.name}`);for(let E=0;E<(A==null?void 0:A.outputsLength());E++){const O=A==null?void 0:A.outputs(E);let S=_.get(O);if(S===void 0&&(S=this._allData.push(new f)-1,_.set(O,S)),T.outputs.push(S),this._allData[S]._from!==void 0)throw new Error(`multiple nodes output to one data value: ${S}`);if(this._allData[S]._from=x,A.opType()==="Constant"){if(A.attributesLength()!==1||!A.attributes(0).t())throw new Error("missing attributes or missing tensor value in attributes for this Constant operator");if(A.outputsLength()!==1)throw new Error("missing output or incorrect number of outputs for this Constant operator");T.outputs.pop(),T.executeNode=!1,this._allData[S]._from=-1,this._allData[S].tensor=c.Tensor.fromOrtTensor(A.attributes(0).t())}}}for(let x=0;x<this._nodes.length;x++){const T=this._nodes[x],A=r.nodes(x);if(A.inputsLength()===0)throw new Error(`missing input for node: ${A.name}`);for(let E=0;E<A.inputsLength();E++){const O=A.inputs(E),S=_.get(O);if(S===void 0)throw new Error(`unrecognized input '${O}' for node: ${A.name()}`);T.inputs.push(S),this._allData[S]._to.push(x)}}}checkIsAcyclic(){const r=new Set;this._allInputIndices.forEach(y=>{this._allData[y]._to.forEach(_=>{r.add(_)})});const i=Array.from(r),g=new Array(this._nodes.length).fill("white");for(;i.length>0;){const y=i.pop();g[y]==="gray"?g[y]="black":(i.push(y),g[y]="gray",this._nodes[y].outputs.forEach(_=>{const v=this._allData[_];if(v.tensor!==void 0)throw new Error("node outputs should not be initialized");if(v._from!==y)throw new Error("from property of the Value object doesn't match index of Node being processed");v._to.forEach(w=>{if(g[w]==="gray")throw new Error("model graph is cyclic");g[w]==="white"&&i.push(w)})}))}}transformGraph(r){this.removeAllIdentityNodes(),this.removeAllDropoutNodes(),this.fuseConvActivationNodes(),r&&r.transformGraph(this),this.finalizeGraph()}finalizeGraph(){let r=0;for(let i=0;i<this._nodes.length;i++)this._nodes[i].executeNode?r>0&&(this._nodes[i].inputs.forEach(g=>{const y=this._allData[g]._to.indexOf(i+r);y!==-1&&(this._allData[g]._to[y]=i)}),this._nodes[i].outputs.forEach(g=>{this._allData[g]._from&&this._allData[g]._from===i+r&&(this._allData[g]._from=i)})):(r++,this._nodes[i].outputs.forEach(g=>{this._allData[g]._from=-2}),this._nodes.splice(i,1),i--);r=0;for(let i=0;i<this._allData.length;i++)if(this._allData[i].from!==-2||this._allOutputIndices.indexOf(i+r)!==-1){if(r>0){let g=-1;this._allData[i].from!==void 0&&this._allData[i].from!==-1?(g=this._nodes[this._allData[i].from].outputs.indexOf(i+r),g!==-1&&(this._nodes[this._allData[i].from].outputs[g]=i)):(g=this._allInputIndices.indexOf(i+r),g!==-1&&(this._allInputIndices[g]=i)),this._allData[i].to.forEach(y=>{g=this._nodes[y].inputs.indexOf(i+r),g!==-1&&(this._nodes[y].inputs[g]=i)}),this._allData[i].to.length===0&&(g=this._allOutputIndices.indexOf(i+r),g!==-1&&(this._allOutputIndices[g]=i))}}else r++,this._allData.splice(i,1),i--}deleteNode(r){const i=this._nodes[r];if(i.outputs.length>1){for(let x=1;x<i.outputs.length;x++)if(this._allData[i.outputs[x]].to.length>0)throw new Error("Node deletion with more than one output connected to other nodes is not supported. ")}i.executeNode=!1;const g=i.inputs[0],y=i.outputs[0],_=this._allData[y].to,v=this._allData[g].to.indexOf(r);if(v===-1)throw new Error("The Value object doesn't have the current Node in it's 'to' property ");this._allData[g].to.splice(v,1),this._allData[y]._to=[];const w=this._allOutputIndices.indexOf(y);if(w!==-1&&(this._allOutputIndices[w]=g),_&&_.length>0)for(const x of _){const T=this._nodes[x].inputs.indexOf(y);if(T===-1)throw new Error("The Node object doesn't have the output Value in it's 'inputs' property ");this._nodes[x].inputs[T]=g,this._allData[g].to.push(x)}}removeAllDropoutNodes(){let r=0;for(const i of this._nodes){if(i.opType==="Dropout"){if(i.inputs.length!==1)throw new Error("Dropout nodes should only contain one input. ");if(i.outputs.length!==1&&i.outputs.length!==2)throw new Error("Dropout nodes should contain either 1 or 2 output(s)");if(i.outputs.length===2&&this._allData[i.outputs[1]]._to.length!==0)throw new Error("Dropout nodes's second output should not be referenced by other nodes");this.deleteNode(r)}r++}}removeAllIdentityNodes(){let r=0;for(const i of this._nodes)i.opType==="Identity"&&this.deleteNode(r),r++}isActivation(r){switch(r.opType){case"Relu":case"Sigmoid":case"Clip":return!0;default:return!1}}fuseConvActivationNodes(){for(const r of this._nodes)if(r.opType==="Conv"){const i=this._allData[r.outputs[0]]._to;if(i.length===1&&this.isActivation(this._nodes[i[0]])){const g=this._nodes[i[0]];if(g.opType==="Clip")if(g.inputs.length===1)try{r.attributes.set("activation_params","floats",[g.attributes.getFloat("min"),g.attributes.getFloat("max")])}catch{r.attributes.set("activation_params","floats",[m.MIN_CLIP,m.MAX_CLIP])}else{if(!(g.inputs.length>=3&&this._allData[g.inputs[1]].tensor!==void 0&&this._allData[g.inputs[2]].tensor!==void 0))continue;r.attributes.set("activation_params","floats",[this._allData[g.inputs[1]].tensor.floatData[0],this._allData[g.inputs[2]].tensor.floatData[0]])}r.attributes.set("activation","string",g.opType),this.deleteNode(i[0])}}}}},6231:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.now=n.Profiler=n.Logger=void 0;const u={verbose:1e3,info:2e3,warning:4e3,error:5e3,fatal:6e3},l={none:new class{log(s,t,e){}},console:new class{log(s,t,e){console.log(`${this.color(s)} ${e?"\x1B[35m"+e+"\x1B[0m ":""}${t}`)}color(s){switch(s){case"verbose":return"\x1B[34;40mv\x1B[0m";case"info":return"\x1B[32mi\x1B[0m";case"warning":return"\x1B[30;43mw\x1B[0m";case"error":return"\x1B[31;40me\x1B[0m";case"fatal":return"\x1B[101mf\x1B[0m";default:throw new Error(`unsupported severity: ${s}`)}}}},a={provider:"console",minimalSeverity:"warning",logDateTime:!0,logSourceLocation:!1};let d={"":a};function c(s,t,e,r){if(t===void 0)return i=s,{verbose:c.verbose.bind(null,i),info:c.info.bind(null,i),warning:c.warning.bind(null,i),error:c.error.bind(null,i),fatal:c.fatal.bind(null,i)};if(e===void 0)m(s,t);else if(typeof e=="number"&&r===void 0)m(s,t);else if(typeof e=="string"&&r===void 0)m(s,e,0,t);else{if(typeof e!="string"||typeof r!="number")throw new TypeError("input is valid");m(s,e,0,t)}var i}function m(s,t,e,r){const i=d[r||""]||d[""];u[s]<u[i.minimalSeverity]||(i.logDateTime&&(t=`${new Date().toISOString()}|${t}`),i.logSourceLocation,l[i.provider].log(s,t,r))}(function(s){function t(r){d={},e("",r||{})}function e(r,i){if(r==="*")t(i);else{const g=d[r]||a;d[r]={provider:i.provider||g.provider,minimalSeverity:i.minimalSeverity||g.minimalSeverity,logDateTime:i.logDateTime===void 0?g.logDateTime:i.logDateTime,logSourceLocation:i.logSourceLocation===void 0?g.logSourceLocation:i.logSourceLocation}}}s.verbose=function(r,i){s("verbose",r,i)},s.info=function(r,i){s("info",r,i)},s.warning=function(r,i){s("warning",r,i)},s.error=function(r,i){s("error",r,i)},s.fatal=function(r,i){s("fatal",r,i)},s.reset=t,s.set=e,s.setWithEnv=function(r){const i={};r.logLevel&&(i.minimalSeverity=r.logLevel),e("",i)}})(c||(c={})),n.Logger=c;class b{constructor(t,e,r,i,g,y){this.category=t,this.name=e,this.startTime=r,this.endCallback=i,this.timer=g,this.ctx=y}end(){return this.endCallback(this)}async checkTimer(){if(this.ctx===void 0||this.timer===void 0)throw new Error("No webgl timer found");return this.ctx.endTimer(),this.ctx.waitForQueryAndGetTime(this.timer)}}class f{constructor(t,e,r,i){this.category=t,this.name=e,this.startTime=r,this.endTime=i}}n.Profiler=class{constructor(s,t,e){this._started=!1,this._flushPointer=0,this._started=!1,this._maxNumberEvents=s===void 0?1e4:s,this._flushBatchSize=t===void 0?10:t,this._flushIntervalInMilliseconds=e===void 0?5e3:e}static create(s){return s===void 0?new this:new this(s.maxNumberEvents,s.flushBatchSize,s.flushIntervalInMilliseconds)}start(){this._started=!0,this._timingEvents=[],this._flushTime=n.now(),this._flushPointer=0}stop(){for(this._started=!1;this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer])}event(s,t,e,r){const i=this._started?this.begin(s,t,r):void 0;let g=!1;const y=e();if(y&&typeof y.then=="function")return g=!0,new Promise((_,v)=>{y.then(async w=>{i&&await i.end(),_(w)},async w=>{i&&await i.end(),v(w)})});if(!g&&i){const _=i.end();if(_&&typeof _.then=="function")return new Promise((v,w)=>{_.then(()=>{v(y)},x=>{w(x)})})}return y}begin(s,t,e){if(!this._started)throw new Error("profiler is not started yet");if(e===void 0){const r=n.now();return this.flush(r),new b(s,t,r,i=>this.endSync(i))}{const r=e.beginTimer();return new b(s,t,0,async i=>this.end(i),r,e)}}async end(s){const t=await s.checkTimer();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new f(s.category,s.name,s.startTime,t)),this.flush(t))}endSync(s){const t=n.now();this._timingEvents.length<this._maxNumberEvents&&(this._timingEvents.push(new f(s.category,s.name,s.startTime,t)),this.flush(t))}logOneEvent(s){n.Logger.verbose(`Profiler.${s.category}`,`${(s.endTime-s.startTime).toFixed(2)}ms on event '${s.name}' at ${s.endTime.toFixed(2)}`)}flush(s){if(this._timingEvents.length-this._flushPointer>=this._flushBatchSize||s-this._flushTime>=this._flushIntervalInMilliseconds){for(const t=this._flushPointer;this._flushPointer<t+this._flushBatchSize&&this._flushPointer<this._timingEvents.length;this._flushPointer++)this.logOneEvent(this._timingEvents[this._flushPointer]);this._flushTime=n.now()}}get started(){return this._started}},n.now=typeof performance<"u"&&performance.now?()=>performance.now():Date.now},2644:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Model=void 0;const l=u(4819),a=u(1446),d=u(7070),c=u(9395),m=u(2517);var b=c.onnxruntime.experimental.fbs;n.Model=class{constructor(){}load(f,s,t){if(!t)try{return void this.loadFromOnnxFormat(f,s)}catch(e){if(t!==void 0)throw e}this.loadFromOrtFormat(f,s)}loadFromOnnxFormat(f,s){const t=a.onnx.ModelProto.decode(f);if(m.LongUtil.longToNumber(t.irVersion)<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=t.opsetImport.map(e=>({domain:e.domain,version:m.LongUtil.longToNumber(e.version)})),this._graph=d.Graph.from(t.graph,s)}loadFromOrtFormat(f,s){const t=new l.flatbuffers.ByteBuffer(f),e=b.InferenceSession.getRootAsInferenceSession(t).model();if(m.LongUtil.longToNumber(e.irVersion())<3)throw new Error("only support ONNX model with IR_VERSION>=3");this._opsets=[];for(let r=0;r<e.opsetImportLength();r++){const i=e.opsetImport(r);this._opsets.push({domain:i==null?void 0:i.domain(),version:m.LongUtil.longToNumber(i.version())})}this._graph=d.Graph.from(e.graph(),s)}get graph(){return this._graph}get opsets(){return this._opsets}}},782:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.FLOAT_TYPES=n.INT_TYPES=n.NUMBER_TYPES=void 0,n.NUMBER_TYPES=["float32","float64","int32","int16","int8","uint16","uint32","uint8"],n.INT_TYPES=["int32","int16","int8","uint16","uint32","uint8"],n.FLOAT_TYPES=["float32","float64"]},1047:(o,n)=>{function u(l,a){if(a.endsWith("+")){const d=Number.parseInt(a.substring(0,a.length-1),10);return!isNaN(d)&&d<=l}if(a.split("-").length===2){const d=a.split("-"),c=Number.parseInt(d[0],10),m=Number.parseInt(d[1],10);return!isNaN(c)&&!isNaN(m)&&c<=l&&l<=m}return Number.parseInt(a,10)===l}Object.defineProperty(n,"__esModule",{value:!0}),n.resolveOperator=void 0,n.resolveOperator=function(l,a,d){for(const c of d){const m=c[0],b=c[1],f=c[2],s=c[3],t=c[4];if(l.opType===m){for(const e of a)if((e.domain===b||e.domain==="ai.onnx"&&b==="")&&u(e.version,f))return{opImpl:s,opInit:t}}}throw new TypeError(`cannot resolve operator '${l.opType}' with opsets: ${a.map(c=>`${c.domain||"ai.onnx"} v${c.version}`).join(", ")}`)}},9395:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.onnxruntime=void 0;const l=u(4819);var a,d;a=n.onnxruntime||(n.onnxruntime={}),function(c){(function(m){m[m.UNDEFINED=0]="UNDEFINED",m[m.FLOAT=1]="FLOAT",m[m.INT=2]="INT",m[m.STRING=3]="STRING",m[m.TENSOR=4]="TENSOR",m[m.GRAPH=5]="GRAPH",m[m.FLOATS=6]="FLOATS",m[m.INTS=7]="INTS",m[m.STRINGS=8]="STRINGS",m[m.TENSORS=9]="TENSORS",m[m.GRAPHS=10]="GRAPHS",m[m.SPARSE_TENSOR=11]="SPARSE_TENSOR",m[m.SPARSE_TENSORS=12]="SPARSE_TENSORS"})(c.AttributeType||(c.AttributeType={}))}((d=a.experimental||(a.experimental={})).fbs||(d.fbs={})),function(c){(function(m){(function(b){(function(f){f[f.UNKNOWN=0]="UNKNOWN",f[f.VALUE=1]="VALUE",f[f.PARAM=2]="PARAM"})(b.DimensionValueType||(b.DimensionValueType={}))})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){(function(f){f[f.UNDEFINED=0]="UNDEFINED",f[f.FLOAT=1]="FLOAT",f[f.UINT8=2]="UINT8",f[f.INT8=3]="INT8",f[f.UINT16=4]="UINT16",f[f.INT16=5]="INT16",f[f.INT32=6]="INT32",f[f.INT64=7]="INT64",f[f.STRING=8]="STRING",f[f.BOOL=9]="BOOL",f[f.FLOAT16=10]="FLOAT16",f[f.DOUBLE=11]="DOUBLE",f[f.UINT32=12]="UINT32",f[f.UINT64=13]="UINT64",f[f.COMPLEX64=14]="COMPLEX64",f[f.COMPLEX128=15]="COMPLEX128",f[f.BFLOAT16=16]="BFLOAT16"})(b.TensorDataType||(b.TensorDataType={}))})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){(function(f){f[f.Primitive=0]="Primitive",f[f.Fused=1]="Fused"})(b.NodeType||(b.NodeType={}))})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){(function(f){f[f.NONE=0]="NONE",f[f.tensor_type=1]="tensor_type",f[f.sequence_type=2]="sequence_type",f[f.map_type=3]="map_type"})(b.TypeInfoValue||(b.TypeInfoValue={}))})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsShape(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsShape(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}dim(t,e){let r=this.bb.__offset(this.bb_pos,4);return r?(e||new c.experimental.fbs.Dimension).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}dimLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}static startShape(t){t.startObject(1)}static addDim(t,e){t.addFieldOffset(0,e,0)}static createDimVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startDimVector(t,e){t.startVector(4,e,4)}static endShape(t){return t.endObject()}static createShape(t,e){return f.startShape(t),f.addDim(t,e),f.endShape(t)}}b.Shape=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDimension(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDimension(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}value(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new c.experimental.fbs.DimensionValue).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}denotation(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startDimension(t){t.startObject(2)}static addValue(t,e){t.addFieldOffset(0,e,0)}static addDenotation(t,e){t.addFieldOffset(1,e,0)}static endDimension(t){return t.endObject()}static createDimension(t,e,r){return f.startDimension(t),f.addValue(t,e),f.addDenotation(t,r),f.endDimension(t)}}b.Dimension=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDimensionValue(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDimensionValue(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}dimType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):c.experimental.fbs.DimensionValueType.UNKNOWN}dimValue(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}dimParam(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}static startDimensionValue(t){t.startObject(3)}static addDimType(t,e){t.addFieldInt8(0,e,c.experimental.fbs.DimensionValueType.UNKNOWN)}static addDimValue(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}static addDimParam(t,e){t.addFieldOffset(2,e,0)}static endDimensionValue(t){return t.endObject()}static createDimensionValue(t,e,r,i){return f.startDimensionValue(t),f.addDimType(t,e),f.addDimValue(t,r),f.addDimParam(t,i),f.endDimensionValue(t)}}b.DimensionValue=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensorTypeAndShape(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensorTypeAndShape(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}elemType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):c.experimental.fbs.TensorDataType.UNDEFINED}shape(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new c.experimental.fbs.Shape).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startTensorTypeAndShape(t){t.startObject(2)}static addElemType(t,e){t.addFieldInt32(0,e,c.experimental.fbs.TensorDataType.UNDEFINED)}static addShape(t,e){t.addFieldOffset(1,e,0)}static endTensorTypeAndShape(t){return t.endObject()}static createTensorTypeAndShape(t,e,r){return f.startTensorTypeAndShape(t),f.addElemType(t,e),f.addShape(t,r),f.endTensorTypeAndShape(t)}}b.TensorTypeAndShape=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMapType(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMapType(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}keyType(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):c.experimental.fbs.TensorDataType.UNDEFINED}valueType(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new c.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startMapType(t){t.startObject(2)}static addKeyType(t,e){t.addFieldInt32(0,e,c.experimental.fbs.TensorDataType.UNDEFINED)}static addValueType(t,e){t.addFieldOffset(1,e,0)}static endMapType(t){return t.endObject()}static createMapType(t,e,r){return f.startMapType(t),f.addKeyType(t,e),f.addValueType(t,r),f.endMapType(t)}}b.MapType=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSequenceType(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSequenceType(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}elemType(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new c.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSequenceType(t){t.startObject(1)}static addElemType(t,e){t.addFieldOffset(0,e,0)}static endSequenceType(t){return t.endObject()}static createSequenceType(t,e){return f.startSequenceType(t),f.addElemType(t,e),f.endSequenceType(t)}}b.SequenceType=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(m.fbs||(m.fbs={})).EdgeEnd=class{constructor(){this.bb=null,this.bb_pos=0}__init(b,f){return this.bb_pos=b,this.bb=f,this}nodeIndex(){return this.bb.readUint32(this.bb_pos)}srcArgIndex(){return this.bb.readInt32(this.bb_pos+4)}dstArgIndex(){return this.bb.readInt32(this.bb_pos+8)}static createEdgeEnd(b,f,s,t){return b.prep(4,12),b.writeInt32(t),b.writeInt32(s),b.writeInt32(f),b.offset()}}})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNodeEdge(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNodeEdge(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}nodeIndex(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readUint32(this.bb_pos+t):0}inputEdges(t,e){let r=this.bb.__offset(this.bb_pos,6);return r?(e||new c.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}inputEdgesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}outputEdges(t,e){let r=this.bb.__offset(this.bb_pos,8);return r?(e||new c.experimental.fbs.EdgeEnd).__init(this.bb.__vector(this.bb_pos+r)+12*t,this.bb):null}outputEdgesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNodeEdge(t){t.startObject(3)}static addNodeIndex(t,e){t.addFieldInt32(0,e,0)}static addInputEdges(t,e){t.addFieldOffset(1,e,0)}static startInputEdgesVector(t,e){t.startVector(12,e,4)}static addOutputEdges(t,e){t.addFieldOffset(2,e,0)}static startOutputEdgesVector(t,e){t.startVector(12,e,4)}static endNodeEdge(t){return t.endObject()}static createNodeEdge(t,e,r,i){return f.startNodeEdge(t),f.addNodeIndex(t,e),f.addInputEdges(t,r),f.addOutputEdges(t,i),f.endNodeEdge(t)}}b.NodeEdge=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNode(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNode(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}domain(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}sinceVersion(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):0}index(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readUint32(this.bb_pos+t):0}opType(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}type(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.readInt32(this.bb_pos+t):c.experimental.fbs.NodeType.Primitive}executionProviderType(t){let e=this.bb.__offset(this.bb_pos,18);return e?this.bb.__string(this.bb_pos+e,t):null}inputs(t,e){let r=this.bb.__offset(this.bb_pos,20);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}inputsLength(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}outputs(t,e){let r=this.bb.__offset(this.bb_pos,22);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}outputsLength(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}attributes(t,e){let r=this.bb.__offset(this.bb_pos,24);return r?(e||new c.experimental.fbs.Attribute).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}attributesLength(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}inputArgCounts(t){let e=this.bb.__offset(this.bb_pos,26);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+4*t):0}inputArgCountsLength(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}inputArgCountsArray(){let t=this.bb.__offset(this.bb_pos,26);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}implicitInputs(t,e){let r=this.bb.__offset(this.bb_pos,28);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}implicitInputsLength(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}static startNode(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addDomain(t,e){t.addFieldOffset(2,e,0)}static addSinceVersion(t,e){t.addFieldInt32(3,e,0)}static addIndex(t,e){t.addFieldInt32(4,e,0)}static addOpType(t,e){t.addFieldOffset(5,e,0)}static addType(t,e){t.addFieldInt32(6,e,c.experimental.fbs.NodeType.Primitive)}static addExecutionProviderType(t,e){t.addFieldOffset(7,e,0)}static addInputs(t,e){t.addFieldOffset(8,e,0)}static createInputsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startInputsVector(t,e){t.startVector(4,e,4)}static addOutputs(t,e){t.addFieldOffset(9,e,0)}static createOutputsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startOutputsVector(t,e){t.startVector(4,e,4)}static addAttributes(t,e){t.addFieldOffset(10,e,0)}static createAttributesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startAttributesVector(t,e){t.startVector(4,e,4)}static addInputArgCounts(t,e){t.addFieldOffset(11,e,0)}static createInputArgCountsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startInputArgCountsVector(t,e){t.startVector(4,e,4)}static addImplicitInputs(t,e){t.addFieldOffset(12,e,0)}static createImplicitInputsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startImplicitInputsVector(t,e){t.startVector(4,e,4)}static endNode(t){return t.endObject()}static createNode(t,e,r,i,g,y,_,v,w,x,T,A,E,O){return f.startNode(t),f.addName(t,e),f.addDocString(t,r),f.addDomain(t,i),f.addSinceVersion(t,g),f.addIndex(t,y),f.addOpType(t,_),f.addType(t,v),f.addExecutionProviderType(t,w),f.addInputs(t,x),f.addOutputs(t,T),f.addAttributes(t,A),f.addInputArgCounts(t,E),f.addImplicitInputs(t,O),f.endNode(t)}}b.Node=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsValueInfo(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsValueInfo(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}type(t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new c.experimental.fbs.TypeInfo).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startValueInfo(t){t.startObject(3)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addType(t,e){t.addFieldOffset(2,e,0)}static endValueInfo(t){return t.endObject()}static createValueInfo(t,e,r,i){return f.startValueInfo(t),f.addName(t,e),f.addDocString(t,r),f.addType(t,i),f.endValueInfo(t)}}b.ValueInfo=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTypeInfo(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTypeInfo(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}denotation(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}valueType(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):c.experimental.fbs.TypeInfoValue.NONE}value(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}static startTypeInfo(t){t.startObject(3)}static addDenotation(t,e){t.addFieldOffset(0,e,0)}static addValueType(t,e){t.addFieldInt8(1,e,c.experimental.fbs.TypeInfoValue.NONE)}static addValue(t,e){t.addFieldOffset(2,e,0)}static endTypeInfo(t){return t.endObject()}static createTypeInfo(t,e,r,i){return f.startTypeInfo(t),f.addDenotation(t,e),f.addValueType(t,r),f.addValue(t,i),f.endTypeInfo(t)}}b.TypeInfo=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsOperatorSetId(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsOperatorSetId(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}domain(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}version(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}static startOperatorSetId(t){t.startObject(2)}static addDomain(t,e){t.addFieldOffset(0,e,0)}static addVersion(t,e){t.addFieldInt64(1,e,t.createLong(0,0))}static endOperatorSetId(t){return t.endObject()}static createOperatorSetId(t,e,r){return f.startOperatorSetId(t),f.addDomain(t,e),f.addVersion(t,r),f.endOperatorSetId(t)}}b.OperatorSetId=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTensor(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTensor(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}dims(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}dimsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}dataType(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt32(this.bb_pos+t):c.experimental.fbs.TensorDataType.UNDEFINED}rawData(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.readUint8(this.bb.__vector(this.bb_pos+e)+t):0}rawDataLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}rawDataArray(){let t=this.bb.__offset(this.bb_pos,12);return t?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}stringData(t,e){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}stringDataLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}static startTensor(t){t.startObject(6)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addDims(t,e){t.addFieldOffset(2,e,0)}static createDimsVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startDimsVector(t,e){t.startVector(8,e,8)}static addDataType(t,e){t.addFieldInt32(3,e,c.experimental.fbs.TensorDataType.UNDEFINED)}static addRawData(t,e){t.addFieldOffset(4,e,0)}static createRawDataVector(t,e){t.startVector(1,e.length,1);for(let r=e.length-1;r>=0;r--)t.addInt8(e[r]);return t.endVector()}static startRawDataVector(t,e){t.startVector(1,e,1)}static addStringData(t,e){t.addFieldOffset(5,e,0)}static createStringDataVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startStringDataVector(t,e){t.startVector(4,e,4)}static endTensor(t){return t.endObject()}static createTensor(t,e,r,i,g,y,_){return f.startTensor(t),f.addName(t,e),f.addDocString(t,r),f.addDims(t,i),f.addDataType(t,g),f.addRawData(t,y),f.addStringData(t,_),f.endTensor(t)}}b.Tensor=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSparseTensor(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSparseTensor(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}values(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}indices(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dims(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}dimsLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSparseTensor(t){t.startObject(3)}static addValues(t,e){t.addFieldOffset(0,e,0)}static addIndices(t,e){t.addFieldOffset(1,e,0)}static addDims(t,e){t.addFieldOffset(2,e,0)}static createDimsVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startDimsVector(t,e){t.startVector(8,e,8)}static endSparseTensor(t){return t.endObject()}static createSparseTensor(t,e,r,i){return f.startSparseTensor(t),f.addValues(t,e),f.addIndices(t,r),f.addDims(t,i),f.endSparseTensor(t)}}b.SparseTensor=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsAttribute(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsAttribute(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}name(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}docString(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}type(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):c.experimental.fbs.AttributeType.UNDEFINED}f(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readFloat32(this.bb_pos+t):0}i(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}s(t){let e=this.bb.__offset(this.bb_pos,14);return e?this.bb.__string(this.bb_pos+e,t):null}t(t){let e=this.bb.__offset(this.bb_pos,16);return e?(t||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}g(t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new c.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}floats(t){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.readFloat32(this.bb.__vector(this.bb_pos+e)+4*t):0}floatsLength(){let t=this.bb.__offset(this.bb_pos,20);return t?this.bb.__vector_len(this.bb_pos+t):0}floatsArray(){let t=this.bb.__offset(this.bb_pos,20);return t?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}ints(t){let e=this.bb.__offset(this.bb_pos,22);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}intsLength(){let t=this.bb.__offset(this.bb_pos,22);return t?this.bb.__vector_len(this.bb_pos+t):0}strings(t,e){let r=this.bb.__offset(this.bb_pos,24);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}stringsLength(){let t=this.bb.__offset(this.bb_pos,24);return t?this.bb.__vector_len(this.bb_pos+t):0}tensors(t,e){let r=this.bb.__offset(this.bb_pos,26);return r?(e||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}tensorsLength(){let t=this.bb.__offset(this.bb_pos,26);return t?this.bb.__vector_len(this.bb_pos+t):0}graphs(t,e){let r=this.bb.__offset(this.bb_pos,28);return r?(e||new c.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}graphsLength(){let t=this.bb.__offset(this.bb_pos,28);return t?this.bb.__vector_len(this.bb_pos+t):0}static startAttribute(t){t.startObject(13)}static addName(t,e){t.addFieldOffset(0,e,0)}static addDocString(t,e){t.addFieldOffset(1,e,0)}static addType(t,e){t.addFieldInt32(2,e,c.experimental.fbs.AttributeType.UNDEFINED)}static addF(t,e){t.addFieldFloat32(3,e,0)}static addI(t,e){t.addFieldInt64(4,e,t.createLong(0,0))}static addS(t,e){t.addFieldOffset(5,e,0)}static addT(t,e){t.addFieldOffset(6,e,0)}static addG(t,e){t.addFieldOffset(7,e,0)}static addFloats(t,e){t.addFieldOffset(8,e,0)}static createFloatsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addFloat32(e[r]);return t.endVector()}static startFloatsVector(t,e){t.startVector(4,e,4)}static addInts(t,e){t.addFieldOffset(9,e,0)}static createIntsVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startIntsVector(t,e){t.startVector(8,e,8)}static addStrings(t,e){t.addFieldOffset(10,e,0)}static createStringsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startStringsVector(t,e){t.startVector(4,e,4)}static addTensors(t,e){t.addFieldOffset(11,e,0)}static createTensorsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startTensorsVector(t,e){t.startVector(4,e,4)}static addGraphs(t,e){t.addFieldOffset(12,e,0)}static createGraphsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startGraphsVector(t,e){t.startVector(4,e,4)}static endAttribute(t){return t.endObject()}static createAttribute(t,e,r,i,g,y,_,v,w,x,T,A,E,O){return f.startAttribute(t),f.addName(t,e),f.addDocString(t,r),f.addType(t,i),f.addF(t,g),f.addI(t,y),f.addS(t,_),f.addT(t,v),f.addG(t,w),f.addFloats(t,x),f.addInts(t,T),f.addStrings(t,A),f.addTensors(t,E),f.addGraphs(t,O),f.endAttribute(t)}}b.Attribute=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsGraph(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsGraph(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}initializers(t,e){let r=this.bb.__offset(this.bb_pos,4);return r?(e||new c.experimental.fbs.Tensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}initializersLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}nodeArgs(t,e){let r=this.bb.__offset(this.bb_pos,6);return r?(e||new c.experimental.fbs.ValueInfo).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeArgsLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}nodes(t,e){let r=this.bb.__offset(this.bb_pos,8);return r?(e||new c.experimental.fbs.Node).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodesLength(){let t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}maxNodeIndex(){let t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readUint32(this.bb_pos+t):0}nodeEdges(t,e){let r=this.bb.__offset(this.bb_pos,12);return r?(e||new c.experimental.fbs.NodeEdge).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}nodeEdgesLength(){let t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}inputs(t,e){let r=this.bb.__offset(this.bb_pos,14);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}inputsLength(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}outputs(t,e){let r=this.bb.__offset(this.bb_pos,16);return r?this.bb.__string(this.bb.__vector(this.bb_pos+r)+4*t,e):null}outputsLength(){let t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}sparseInitializers(t,e){let r=this.bb.__offset(this.bb_pos,18);return r?(e||new c.experimental.fbs.SparseTensor).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}sparseInitializersLength(){let t=this.bb.__offset(this.bb_pos,18);return t?this.bb.__vector_len(this.bb_pos+t):0}static startGraph(t){t.startObject(8)}static addInitializers(t,e){t.addFieldOffset(0,e,0)}static createInitializersVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startInitializersVector(t,e){t.startVector(4,e,4)}static addNodeArgs(t,e){t.addFieldOffset(1,e,0)}static createNodeArgsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startNodeArgsVector(t,e){t.startVector(4,e,4)}static addNodes(t,e){t.addFieldOffset(2,e,0)}static createNodesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startNodesVector(t,e){t.startVector(4,e,4)}static addMaxNodeIndex(t,e){t.addFieldInt32(3,e,0)}static addNodeEdges(t,e){t.addFieldOffset(4,e,0)}static createNodeEdgesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startNodeEdgesVector(t,e){t.startVector(4,e,4)}static addInputs(t,e){t.addFieldOffset(5,e,0)}static createInputsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startInputsVector(t,e){t.startVector(4,e,4)}static addOutputs(t,e){t.addFieldOffset(6,e,0)}static createOutputsVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startOutputsVector(t,e){t.startVector(4,e,4)}static addSparseInitializers(t,e){t.addFieldOffset(7,e,0)}static createSparseInitializersVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startSparseInitializersVector(t,e){t.startVector(4,e,4)}static endGraph(t){return t.endObject()}static createGraph(t,e,r,i,g,y,_,v,w){return f.startGraph(t),f.addInitializers(t,e),f.addNodeArgs(t,r),f.addNodes(t,i),f.addMaxNodeIndex(t,g),f.addNodeEdges(t,y),f.addInputs(t,_),f.addOutputs(t,v),f.addSparseInitializers(t,w),f.endGraph(t)}}b.Graph=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsModel(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsModel(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}irVersion(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}opsetImport(t,e){let r=this.bb.__offset(this.bb_pos,6);return r?(e||new c.experimental.fbs.OperatorSetId).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}opsetImportLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}producerName(t){let e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__string(this.bb_pos+e,t):null}producerVersion(t){let e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__string(this.bb_pos+e,t):null}domain(t){let e=this.bb.__offset(this.bb_pos,12);return e?this.bb.__string(this.bb_pos+e,t):null}modelVersion(){let t=this.bb.__offset(this.bb_pos,14);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}docString(t){let e=this.bb.__offset(this.bb_pos,16);return e?this.bb.__string(this.bb_pos+e,t):null}graph(t){let e=this.bb.__offset(this.bb_pos,18);return e?(t||new c.experimental.fbs.Graph).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}graphDocString(t){let e=this.bb.__offset(this.bb_pos,20);return e?this.bb.__string(this.bb_pos+e,t):null}static startModel(t){t.startObject(9)}static addIrVersion(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addOpsetImport(t,e){t.addFieldOffset(1,e,0)}static createOpsetImportVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startOpsetImportVector(t,e){t.startVector(4,e,4)}static addProducerName(t,e){t.addFieldOffset(2,e,0)}static addProducerVersion(t,e){t.addFieldOffset(3,e,0)}static addDomain(t,e){t.addFieldOffset(4,e,0)}static addModelVersion(t,e){t.addFieldInt64(5,e,t.createLong(0,0))}static addDocString(t,e){t.addFieldOffset(6,e,0)}static addGraph(t,e){t.addFieldOffset(7,e,0)}static addGraphDocString(t,e){t.addFieldOffset(8,e,0)}static endModel(t){return t.endObject()}static createModel(t,e,r,i,g,y,_,v,w,x){return f.startModel(t),f.addIrVersion(t,e),f.addOpsetImport(t,r),f.addProducerName(t,i),f.addProducerVersion(t,g),f.addDomain(t,y),f.addModelVersion(t,_),f.addDocString(t,v),f.addGraph(t,w),f.addGraphDocString(t,x),f.endModel(t)}}b.Model=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKernelCreateInfos(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKernelCreateInfos(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}nodeIndices(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.readUint32(this.bb.__vector(this.bb_pos+e)+4*t):0}nodeIndicesLength(){let t=this.bb.__offset(this.bb_pos,4);return t?this.bb.__vector_len(this.bb_pos+t):0}nodeIndicesArray(){let t=this.bb.__offset(this.bb_pos,4);return t?new Uint32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}kernelDefHashes(t){let e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readUint64(this.bb.__vector(this.bb_pos+e)+8*t):this.bb.createLong(0,0)}kernelDefHashesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startKernelCreateInfos(t){t.startObject(2)}static addNodeIndices(t,e){t.addFieldOffset(0,e,0)}static createNodeIndicesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addInt32(e[r]);return t.endVector()}static startNodeIndicesVector(t,e){t.startVector(4,e,4)}static addKernelDefHashes(t,e){t.addFieldOffset(1,e,0)}static createKernelDefHashesVector(t,e){t.startVector(8,e.length,8);for(let r=e.length-1;r>=0;r--)t.addInt64(e[r]);return t.endVector()}static startKernelDefHashesVector(t,e){t.startVector(8,e,8)}static endKernelCreateInfos(t){return t.endObject()}static createKernelCreateInfos(t,e,r){return f.startKernelCreateInfos(t),f.addNodeIndices(t,e),f.addKernelDefHashes(t,r),f.endKernelCreateInfos(t)}}b.KernelCreateInfos=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSubGraphSessionState(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSubGraphSessionState(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}graphId(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}sessionState(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new c.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startSubGraphSessionState(t){t.startObject(2)}static addGraphId(t,e){t.addFieldOffset(0,e,0)}static addSessionState(t,e){t.addFieldOffset(1,e,0)}static endSubGraphSessionState(t){let e=t.endObject();return t.requiredField(e,4),e}static createSubGraphSessionState(t,e,r){return f.startSubGraphSessionState(t),f.addGraphId(t,e),f.addSessionState(t,r),f.endSubGraphSessionState(t)}}b.SubGraphSessionState=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSessionState(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSessionState(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}kernels(t){let e=this.bb.__offset(this.bb_pos,4);return e?(t||new c.experimental.fbs.KernelCreateInfos).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}subGraphSessionStates(t,e){let r=this.bb.__offset(this.bb_pos,6);return r?(e||new c.experimental.fbs.SubGraphSessionState).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+r)+4*t),this.bb):null}subGraphSessionStatesLength(){let t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSessionState(t){t.startObject(2)}static addKernels(t,e){t.addFieldOffset(0,e,0)}static addSubGraphSessionStates(t,e){t.addFieldOffset(1,e,0)}static createSubGraphSessionStatesVector(t,e){t.startVector(4,e.length,4);for(let r=e.length-1;r>=0;r--)t.addOffset(e[r]);return t.endVector()}static startSubGraphSessionStatesVector(t,e){t.startVector(4,e,4)}static endSessionState(t){return t.endObject()}static createSessionState(t,e,r){return f.startSessionState(t),f.addKernels(t,e),f.addSubGraphSessionStates(t,r),f.endSessionState(t)}}b.SessionState=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={})),function(c){(function(m){(function(b){class f{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInferenceSession(t,e){return(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInferenceSession(t,e){return t.setPosition(t.position()+l.flatbuffers.SIZE_PREFIX_LENGTH),(e||new f).__init(t.readInt32(t.position())+t.position(),t)}static bufferHasIdentifier(t){return t.__has_identifier("ORTM")}ortVersion(t){let e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}model(t){let e=this.bb.__offset(this.bb_pos,6);return e?(t||new c.experimental.fbs.Model).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}sessionState(t){let e=this.bb.__offset(this.bb_pos,8);return e?(t||new c.experimental.fbs.SessionState).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startInferenceSession(t){t.startObject(3)}static addOrtVersion(t,e){t.addFieldOffset(0,e,0)}static addModel(t,e){t.addFieldOffset(1,e,0)}static addSessionState(t,e){t.addFieldOffset(2,e,0)}static endInferenceSession(t){return t.endObject()}static finishInferenceSessionBuffer(t,e){t.finish(e,"ORTM")}static finishSizePrefixedInferenceSessionBuffer(t,e){t.finish(e,"ORTM",!0)}static createInferenceSession(t,e,r,i){return f.startInferenceSession(t),f.addOrtVersion(t,e),f.addModel(t,r),f.addSessionState(t,i),f.endInferenceSession(t)}}b.InferenceSession=f})(m.fbs||(m.fbs={}))})(c.experimental||(c.experimental={}))}(n.onnxruntime||(n.onnxruntime={}))},7448:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxjsSessionHandler=void 0;const l=u(2174),a=u(9162);n.OnnxjsSessionHandler=class{constructor(d){this.session=d,this.inputNames=this.session.inputNames,this.outputNames=this.session.outputNames}async dispose(){}async run(d,c,m){const b=new Map;for(const t in d)if(Object.hasOwnProperty.call(d,t)){const e=d[t];b.set(t,new a.Tensor(e.dims,e.type,void 0,void 0,e.data))}const f=await this.session.run(b),s={};return f.forEach((t,e)=>{s[e]=new l.Tensor(t.type,t.data,t.dims)}),s}startProfiling(){this.session.startProfiling()}endProfiling(){this.session.endProfiling()}}},6919:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.Session=void 0;const l=u(7067),a=u(1296),d=u(7091),c=u(1036),m=u(6231),b=u(2644);n.Session=class{constructor(f={}){this._initialized=!1,this.backendHint=f.backendHint,this.profiler=m.Profiler.create(f.profiler),this.context={profiler:this.profiler,graphInputTypes:[],graphInputDims:[]}}get inputNames(){return this._model.graph.getInputNames()}get outputNames(){return this._model.graph.getOutputNames()}startProfiling(){this.profiler.start()}endProfiling(){this.profiler.stop()}async loadModel(f,s,t){await this.profiler.event("session","Session.loadModel",async()=>{const e=await d.resolveBackend(this.backendHint);if(this.sessionHandler=e.createSessionHandler(this.context),this._model=new b.Model,typeof f=="string"){const r=f.endsWith(".ort");if(typeof fetch>"u"){const i=await a.promisify(l.readFile)(f);this.initialize(i,r)}else{const i=await fetch(f),g=await i.arrayBuffer();this.initialize(new Uint8Array(g),r)}}else if(ArrayBuffer.isView(f))this.initialize(f);else{const r=new Uint8Array(f,s||0,t||f.byteLength);this.initialize(r)}})}initialize(f,s){if(this._initialized)throw new Error("already initialized");this.profiler.event("session","Session.initialize",()=>{const t=this.sessionHandler.transformGraph?this.sessionHandler:void 0;this._model.load(f,t,s),this.sessionHandler.onGraphInitialized&&this.sessionHandler.onGraphInitialized(this._model.graph),this.initializeOps(this._model.graph),this._executionPlan=new c.ExecutionPlan(this._model.graph,this._ops,this.profiler)}),this._initialized=!0}async run(f){if(!this._initialized)throw new Error("session not initialized yet");return this.profiler.event("session","Session.run",async()=>{const s=this.normalizeAndValidateInputs(f),t=await this._executionPlan.execute(this.sessionHandler,s);return this.createOutput(t)})}normalizeAndValidateInputs(f){const s=this._model.graph.getInputNames();if(Array.isArray(f)){if(f.length!==s.length)throw new Error(`incorrect input array length: expected ${s.length} but got ${f.length}`)}else{if(f.size!==s.length)throw new Error(`incorrect input map size: expected ${s.length} but got ${f.size}`);const t=new Array(f.size);let e=0;for(let r=0;r<s.length;++r){const i=f.get(s[r]);if(!i)throw new Error(`missing input tensor for: '${name}'`);t[e++]=i}f=t}if(this.context.graphInputTypes&&this.context.graphInputTypes.length!==0&&this.context.graphInputDims&&this.context.graphInputDims.length!==0)this.validateInputTensorDims(this.context.graphInputDims,f,!1);else{const t=this._model.graph.getInputIndices(),e=this._model.graph.getValues(),r=new Array(t.length);for(let i=0;i<t.length;++i){const g=e[t[i]];r[i]=g.type.shape.dims,this.context.graphInputTypes.push(g.type.tensorType),this.context.graphInputDims.push(f[i].dims)}this.validateInputTensorDims(r,f,!0)}return this.validateInputTensorTypes(this.context.graphInputTypes,f),f}validateInputTensorTypes(f,s){for(let t=0;t<s.length;t++){const e=f[t],r=s[t].type;if(e!==r)throw new Error(`input tensor[${t}] check failed: expected type '${e}' but got ${r}`)}}validateInputTensorDims(f,s,t){for(let e=0;e<s.length;e++){const r=f[e],i=s[e].dims;if(!this.compareTensorDims(r,i,t))throw new Error(`input tensor[${e}] check failed: expected shape '[${r.join(",")}]' but got [${i.join(",")}]`)}}compareTensorDims(f,s,t){if(f.length!==s.length)return!1;for(let e=0;e<f.length;++e)if(f[e]!==s[e]&&(!t||f[e]!==0))return!1;return!0}createOutput(f){const s=this._model.graph.getOutputNames();if(f.length!==s.length)throw new Error("expected number of outputs do not match number of generated outputs");const t=new Map;for(let e=0;e<s.length;++e)t.set(s[e],f[e]);return t}initializeOps(f){const s=f.getNodes();this._ops=new Array(s.length);for(let t=0;t<s.length;t++)this._ops[t]=this.sessionHandler.resolve(s[t],this._model.opsets,f)}}},9162:function(o,n,u){var l=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(n,"__esModule",{value:!0}),n.Tensor=void 0;const a=u(3442),d=l(u(3720)),c=u(1446),m=u(9395),b=u(2517);var f=m.onnxruntime.experimental.fbs;class s{constructor(y,_,v,w,x,T=a.Guid.create()){this.dims=y,this.type=_,this.dataProvider=v,this.asyncDataProvider=w,this.cache=x,this.dataId=T,this.size=b.ShapeUtil.validateDimsAndCalcSize(y);const A=this.size,E=v===void 0&&w===void 0&&x===void 0;if(x!==void 0&&x.length!==A)throw new RangeError("Input dims doesn't match data length.");if(_==="string"){if(!(x===void 0||Array.isArray(x)&&x.every(O=>typeof O=="string")))throw new TypeError("cache should be a string array");E&&(this.cache=new Array(A))}else{if(x!==void 0){const O=e(_);if(!(x instanceof O))throw new TypeError(`cache should be type ${O.name}`)}if(E){const O=new ArrayBuffer(A*function(S){switch(S){case"bool":case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;case"float64":return 8;default:throw new Error(`cannot calculate sizeof() on type ${S}`)}}(_));this.cache=function(S,P){return new(e(P))(S)}(O,_)}}}get data(){if(this.cache===void 0){const y=this.dataProvider(this.dataId);if(y.length!==this.size)throw new Error("Length of data provided by the Data Provider is inconsistent with the dims of this Tensor.");this.cache=y}return this.cache}get stringData(){if(this.type!=="string")throw new TypeError("data type is not string");return this.data}get integerData(){switch(this.type){case"uint8":case"int8":case"uint16":case"int16":case"int32":case"uint32":case"bool":return this.data;default:throw new TypeError("data type is not integer (uint8, int8, uint16, int16, int32, uint32, bool)")}}get floatData(){switch(this.type){case"float32":case"float64":return this.data;default:throw new TypeError("data type is not float (float32, float64)")}}get numberData(){if(this.type!=="string")return this.data;throw new TypeError("type cannot be non-number (string)")}get(y){return this.data[b.ShapeUtil.indicesToOffset(y,this.strides)]}set(y,_){this.data[b.ShapeUtil.indicesToOffset(y,this.strides)]=_}async getData(){return this.cache===void 0&&(this.cache=await this.asyncDataProvider(this.dataId)),this.cache}get strides(){return this._strides||(this._strides=b.ShapeUtil.computeStrides(this.dims)),this._strides}static fromProto(y){if(!y)throw new Error("cannot construct Value from an empty tensor");const _=b.ProtoUtil.tensorDataTypeFromProto(y.dataType),v=b.ProtoUtil.tensorDimsFromProto(y.dims),w=new s(v,_);if(_==="string")y.stringData.forEach((x,T)=>{w.data[T]=b.decodeUtf8String(x)});else if(y.rawData&&typeof y.rawData.byteLength=="number"&&y.rawData.byteLength>0){const x=w.data,T=new DataView(y.rawData.buffer,y.rawData.byteOffset,y.rawData.byteLength),A=t(y.dataType),E=y.rawData.byteLength/A;if(y.rawData.byteLength%A!=0)throw new Error("invalid buffer length");if(x.length!==E)throw new Error("buffer length mismatch");for(let O=0;O<E;O++){const S=i(T,y.dataType,O*A);x[O]=S}}else{let x;switch(y.dataType){case c.onnx.TensorProto.DataType.FLOAT:x=y.floatData;break;case c.onnx.TensorProto.DataType.INT32:case c.onnx.TensorProto.DataType.INT16:case c.onnx.TensorProto.DataType.UINT16:case c.onnx.TensorProto.DataType.INT8:case c.onnx.TensorProto.DataType.UINT8:case c.onnx.TensorProto.DataType.BOOL:x=y.int32Data;break;case c.onnx.TensorProto.DataType.INT64:x=y.int64Data;break;case c.onnx.TensorProto.DataType.DOUBLE:x=y.doubleData;break;case c.onnx.TensorProto.DataType.UINT32:case c.onnx.TensorProto.DataType.UINT64:x=y.uint64Data;break;default:throw new Error("unspecific error")}if(x==null)throw new Error("failed to populate data from a tensorproto value");const T=w.data;if(T.length!==x.length)throw new Error("array length mismatch");for(let A=0;A<x.length;A++){const E=x[A];d.default.isLong(E)?T[A]=r(E,y.dataType):T[A]=E}}return w}static fromData(y,_,v){return new s(_,v,void 0,void 0,y)}static fromOrtTensor(y){if(!y)throw new Error("cannot construct Value from an empty tensor");const _=b.ProtoUtil.tensorDimsFromORTFormat(y),v=b.ProtoUtil.tensorDataTypeFromProto(y.dataType()),w=new s(_,v);if(v==="string")for(let x=0;x<y.stringDataLength();x++)w.data[x]=y.stringData(x);else if(y.rawDataArray()&&typeof y.rawDataLength()=="number"&&y.rawDataLength()>0){const x=w.data,T=new DataView(y.rawDataArray().buffer,y.rawDataArray().byteOffset,y.rawDataLength()),A=t(y.dataType()),E=y.rawDataLength()/A;if(y.rawDataLength()%A!=0)throw new Error("invalid buffer length");if(x.length!==E)throw new Error("buffer length mismatch");for(let O=0;O<E;O++){const S=i(T,y.dataType(),O*A);x[O]=S}}return w}}function t(g){switch(g){case c.onnx.TensorProto.DataType.UINT8:case c.onnx.TensorProto.DataType.INT8:case c.onnx.TensorProto.DataType.BOOL:return 1;case c.onnx.TensorProto.DataType.UINT16:case c.onnx.TensorProto.DataType.INT16:return 2;case c.onnx.TensorProto.DataType.FLOAT:case c.onnx.TensorProto.DataType.INT32:case c.onnx.TensorProto.DataType.UINT32:return 4;case c.onnx.TensorProto.DataType.INT64:case c.onnx.TensorProto.DataType.DOUBLE:case c.onnx.TensorProto.DataType.UINT64:return 8;default:throw new Error(`cannot calculate sizeof() on type ${c.onnx.TensorProto.DataType[g]}`)}}function e(g){switch(g){case"bool":case"uint8":return Uint8Array;case"int8":return Int8Array;case"int16":return Int16Array;case"uint16":return Uint16Array;case"int32":return Int32Array;case"uint32":return Uint32Array;case"float32":return Float32Array;case"float64":return Float64Array;default:throw new Error("unspecified error")}}function r(g,y){if(y===c.onnx.TensorProto.DataType.INT64||y===f.TensorDataType.INT64){if(g.greaterThanOrEqual(2147483648)||g.lessThan(-2147483648))throw new TypeError("int64 is not supported")}else{if(y!==c.onnx.TensorProto.DataType.UINT32&&y!==f.TensorDataType.UINT32&&y!==c.onnx.TensorProto.DataType.UINT64&&y!==f.TensorDataType.UINT64)throw new TypeError(`not a LONG type: ${c.onnx.TensorProto.DataType[y]}`);if(g.greaterThanOrEqual(4294967296)||g.lessThan(0))throw new TypeError("uint64 is not supported")}return g.toNumber()}function i(g,y,_){switch(y){case c.onnx.TensorProto.DataType.BOOL:case c.onnx.TensorProto.DataType.UINT8:return g.getUint8(_);case c.onnx.TensorProto.DataType.INT8:return g.getInt8(_);case c.onnx.TensorProto.DataType.UINT16:return g.getUint16(_,!0);case c.onnx.TensorProto.DataType.INT16:return g.getInt16(_,!0);case c.onnx.TensorProto.DataType.FLOAT:return g.getFloat32(_,!0);case c.onnx.TensorProto.DataType.INT32:return g.getInt32(_,!0);case c.onnx.TensorProto.DataType.UINT32:return g.getUint32(_,!0);case c.onnx.TensorProto.DataType.INT64:return r(d.default.fromBits(g.getUint32(_,!0),g.getUint32(_+4,!0),!1),y);case c.onnx.TensorProto.DataType.DOUBLE:return g.getFloat64(_,!0);case c.onnx.TensorProto.DataType.UINT64:return r(d.default.fromBits(g.getUint32(_,!0),g.getUint32(_+4,!0),!0),y);default:throw new Error(`cannot read from DataView for type ${c.onnx.TensorProto.DataType[y]}`)}}n.Tensor=s},2517:function(o,n,u){var l=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(n,"__esModule",{value:!0}),n.decodeUtf8String=n.MAX_CLIP=n.MIN_CLIP=n.PoolConvUtil=n.ReduceUtil=n.SplitUtil=n.MathUtil=n.ShapeUtil=n.LongUtil=n.ProtoUtil=n.GemmUtil=n.arrayCopyHelper=n.BroadcastUtil=n.MatMulUtil=n.ArrayUtil=n.assert=n.checkInputsShape=void 0;const a=u(4819),d=l(u(3720)),c=u(1446),m=u(9162);n.checkInputsShape=function(y,..._){if(!y||y.length!==_.length)return!1;for(let v=0;v<y.length;v++)if(!y[v].dims||y[v].dims.length!==_[v])return!1;return!0},n.assert=function(y,_){if(!y)throw new Error(typeof _=="string"?_:_())},n.ArrayUtil=class{static arraysEqual(y,_){if(y.length!==_.length)return!1;for(let v=0;v<y.length;v++)if(y[v]!==_[v])return!1;return!0}};class b{static preprocessInputShapes(_,v){return[_.length===1?[1,_[0]]:_,v.length===1?[v[0],1]:v]}static postprocessOutputShape(_,v,w){v===1&&_.splice(_.length-2,1),w===1&&_.pop()}static calcMatMulShape(_,v){return _[1]!==v[0]?void 0:[_[0],v[1]]}}n.MatMulUtil=b;class f{static calcShape(_,v,w=!1){const x=_.length,T=v.length;if(x===0)return v;if(T===0)return _;const A=Math.max(_.length,v.length),E=new Array(A);if(w){if(x<2||T<2)return;const O=b.calcMatMulShape([_[x-2],_[x-1]],[v[T-2],v[T-1]]);if(O===void 0)return;[E[A-2],E[A-1]]=O}for(let O=w?3:1;O<=A;O++){const S=x-O<0?1:_[x-O],P=T-O<0?1:v[T-O];if(S!==P&&S>1&&P>1)return;E[A-O]=Math.max(S,P)}return E}static index(_,v){const w=new Array(v.length);return f.fillIndex(_,v,w),w}static fillIndex(_,v,w){const x=_.length-v.length;for(let T=0;T<v.length;T++)w[T]=_[x+T]%v[T]}static calc(_,v,w,x,T){const A=f.calcShape(_.dims,v.dims);if(A){if(x&&!e.areEqual(A,_.dims))return;const E=e.size(A),O=x?_:new m.Tensor(A,T||_.type);if(A.length===0)O.set([],w(_.get([]),v.get([])));else{const S=new Array(A.length),P=new Array(_.dims.length),$=new Array(v.dims.length);let M,j=0,H=0,K=!1,C=!1;_.dims.length===0&&(j=_.get([]),K=!0),v.dims.length===0&&(H=v.get([]),C=!0);for(let L=0;L<E;L++){M=L;for(let oe=A.length-1;oe>=0;oe--)S[oe]=M%A[oe],M=Math.floor(M/A[oe]);K||(f.fillIndex(S,_.dims,P),j=_.get(P)),C||(f.fillIndex(S,v.dims,$),H=v.get($)),O.set(S,w(j,H))}}return O}}static isValidBroadcast(_,v){const w=_.length,x=v.length;if(w>x)return!1;for(let T=1;T<=w;T++)if(_[w-T]!==1&&_[w-T]!==v[x-T])return!1;return!0}static getBroadcastDims(_,v){const w=_.length,x=[];for(let T=0;T<w;T++){const A=w-1-T,E=_[A]||1;(v[v.length-1-T]||1)>1&&E===1&&x.unshift(A)}return x}}n.BroadcastUtil=f,n.arrayCopyHelper=function(y,_,v,w,x){if(w<0||w>=_.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=y.length)throw new Error("targetIndex out of bounds");if(w+x>_.length)throw new Error("source indices to be copied are outside bounds");if(v+x>y.length)throw new Error("target array is too small to hold result");for(let T=0;T<x;T++)y[v+T]=_[w+T]},n.GemmUtil=class{static getShapeOfGemmResult(y,_,v,w,x){if(y.length!==2||v.length!==2)throw new Error("shape need to be of size 2");let T,A,E;_?(T=y[1],A=y[0]):(T=y[0],A=y[1]);let O=-1;if(w?(E=v[0],O=1):(E=v[1],O=0),v[O]!==A)throw new Error("dimension mismatch");if(T<=0||E<=0||A<=0)throw new Error("invalid shape specified");if(x&&!f.isValidBroadcast(x,[T,E]))throw new Error("gemm: invalid bias shape for broadcast");return[T,E,A]}};class s{static tensorDataTypeFromProto(_){switch(_){case c.onnx.TensorProto.DataType.INT8:return"int8";case c.onnx.TensorProto.DataType.UINT8:return"uint8";case c.onnx.TensorProto.DataType.BOOL:return"bool";case c.onnx.TensorProto.DataType.INT16:return"int16";case c.onnx.TensorProto.DataType.UINT16:return"uint16";case c.onnx.TensorProto.DataType.INT32:return"int32";case c.onnx.TensorProto.DataType.UINT32:return"uint32";case c.onnx.TensorProto.DataType.FLOAT:return"float32";case c.onnx.TensorProto.DataType.DOUBLE:return"float64";case c.onnx.TensorProto.DataType.STRING:return"string";case c.onnx.TensorProto.DataType.INT64:return"int32";case c.onnx.TensorProto.DataType.UINT64:return"uint32";default:throw new Error(`unsupported data type: ${c.onnx.TensorProto.DataType[_]}`)}}static tensorDataTypeStringToEnum(_){switch(_){case"int8":return c.onnx.TensorProto.DataType.INT8;case"uint8":return c.onnx.TensorProto.DataType.UINT8;case"bool":return c.onnx.TensorProto.DataType.BOOL;case"int16":return c.onnx.TensorProto.DataType.INT16;case"uint16":return c.onnx.TensorProto.DataType.UINT16;case"int32":return c.onnx.TensorProto.DataType.INT32;case"uint32":return c.onnx.TensorProto.DataType.UINT32;case"float32":return c.onnx.TensorProto.DataType.FLOAT;case"float64":return c.onnx.TensorProto.DataType.DOUBLE;case"string":return c.onnx.TensorProto.DataType.STRING;case"int64":return c.onnx.TensorProto.DataType.INT64;case"uint64":return c.onnx.TensorProto.DataType.UINT64;default:throw new Error(`unsupported data type: ${_}`)}}static tensorDimsFromProto(_){return _.map(v=>d.default.isLong(v)?v.toNumber():v)}static tensorValueTypeFromProto(_){return{tensorType:s.tensorDataTypeFromProto(_.elemType),shape:{dims:s.tensorDimsFromProto(_.shape.dim.map(v=>v.dimValue))}}}static tensorDimsFromORTFormat(_){const v=[];for(let w=0;w<_.dimsLength();w++)v.push(t.longToNumber(_.dims(w)));return v}static tensorAttributesFromORTFormat(_){const v=[];for(let w=0;w<_.attributesLength();w++)v.push(_.attributes(w));return v}}n.ProtoUtil=s;class t{static longToNumber(_,v){return d.default.isLong(_)?_.toNumber():_ instanceof a.flatbuffers.Long?d.default.fromValue({low:_.low,high:_.high,unsigned:v!=null&&v}).toNumber():_}static isLong(_){return d.default.isLong(_)||_ instanceof a.flatbuffers.Long}}n.LongUtil=t;class e{static size(_){return e.getSizeFromDimensionRange(_,0,_.length)}static sizeFromDimension(_,v){if(v<0||v>_.length)throw new Error(`invalid dimension of ${v} for sizeFromDimension as Tensor has ${_.length} dimensions.`);return e.getSizeFromDimensionRange(_,v,_.length)}static sizeToDimension(_,v){if(v<0||v>_.length)throw new Error(`invalid dimension of ${v} for sizeToDimension as Tensor has ${_.length} dimensions.`);return e.getSizeFromDimensionRange(_,0,v)}static getSizeFromDimensionRange(_,v,w){let x=1;for(let T=v;T<w;T++){if(_[T]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");x*=_[T]}return x}static computeStrides(_){const v=_.length;if(v===0)return[];if(v===1)return[1];const w=new Array(v);w[v-1]=1,w[v-2]=_[v-1];for(let x=v-3;x>=0;--x)w[x]=w[x+1]*_[x+1];return w}static transpose(_){return _.slice().reverse()}static indicesToOffset(_,v,w){w===void 0&&(w=_.length);let x=0;for(let T=0;T<w;++T)x+=v[T]*_[T];return x}static offsetToIndices(_,v){const w=v.length;if(w===0)return[];if(w===1)return[_*v[0]];const x=new Array(v.length);for(let T=0;T<x.length-1;++T)x[T]=Math.floor(_/v[T]),_-=x[T]*v[T];return x[x.length-1]=_,x}static normalizeAxis(_,v){if(_<-v&&_>=v)throw new Error("unsupported axis for this operation.");return _<0?_+v:_}static normalizeAxes(_,v){return _.map(w=>this.normalizeAxis(w,v))}static incrementIndex(_,v,w){if(v.length===0||_.length===0)throw new Error("Index incrementing unsupported for scalar Tensor");if(w===void 0)w=v.length;else if(w<=0||w>v.length)throw new Error("Incorrect axis to increment on");for(let x=w-1;x>=0&&(_[x]++,!(_[x]<v[x]));--x)_[x]=0}static calculateReshapedDims(_,v){if(v.length===0){if(_.length===0||e.size(_)===1)return[];throw new Error("cannot reshape to a scalar Tensor")}const w=v.length,x=new Array(w);let T=-1,A=1;for(let O=0;O<w;O++){if(v[O]<-1)throw new Error("a dimension in shape hints cannot be less than -1");if(v[O]===-1){if(T!==-1)throw new Error("at most one dimension in shape hints can be -1");T=O}else{if(v[O]===0){if(O>=_.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");x[O]=_[O]}else x[O]=v[O];A*=x[O]}}const E=e.size(_);if(T!==-1){if(E%A!=0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${_}] Output shape: [${v}]`);x[T]=E/A}else if(A!==E)throw new Error("reshapedDims and originalDims don't have matching sizes");return x}static sortBasedOnPerm(_,v){return v?v.map(w=>_[w]):_.slice().reverse()}static padShape(_,v){const w=_.length;return _.map((x,T)=>x+v[T]+v[T+w])}static areEqual(_,v){return _.length===v.length&&_.every((w,x)=>w===v[x])}static validateDimsAndCalcSize(_){if(_.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");let v=1;for(const w of _){if(!Number.isInteger(w))throw new TypeError(`Invalid shape: ${w} is not an integer`);if(w<0||w>2147483647)throw new TypeError(`Invalid shape: length ${w} is not allowed`);v*=w}return v}static flattenShape(_,v){v<0&&(v+=_.length);const w=_.reduce((T,A)=>T*A,1),x=_.slice(v).reduce((T,A)=>T*A,1);return[w/x,x]}static squeezeShape(_,v){const w=new Array;v=e.normalizeAxes(v,_.length);for(let x=0;x<_.length;x++){const T=v.indexOf(x)>=0;if(T&&_[x]!==1)throw new Error("squeeze an axis of size different than 1");(v.length===0&&_[x]>1||v.length>0&&!T)&&w.push(_[x])}return w}static unsqueezeShape(_,v){const w=new Array(_.length+v.length);w.fill(0);for(let T=0;T<v.length;T++){const A=e.normalizeAxis(v[T],w.length);if(A>=w.length)throw new Error("'axes' has an out of range axis");if(w[A]!==0)throw new Error("'axes' has a duplicate axis");w[A]=1}let x=0;for(let T=0;T<w.length;T++)w[T]===0&&(w[T]=_[x++]);if(x!==_.length)throw new Error("the unsqueezed dimension could not be established");return w}}n.ShapeUtil=e,n.MathUtil=class{static sqr(y,_,v,w,x){if(w<0||w>=_.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=y.length)throw new Error("targetIndex out of bounds");if(w+x>_.length)throw new Error("source indices to be copied are outside bounds");if(v+x>y.length)throw new Error("target array is too small to hold result");for(let T=0;T<x;T++)y[v+T]+=Math.pow(_[w+T],2)}static axpy(y,_,v,w,x,T){if(w<0||w>=_.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=y.length)throw new Error("targetIndex out of bounds");if(w+x>_.length)throw new Error("source indices to be copied are outside bounds");if(v+x>y.length)throw new Error("target array is too small to hold result");for(let A=0;A<x;A++)y[v+A]+=T*_[w+A]}static powx(y,_,v,w,x,T){if(w<0||w>=_.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=y.length)throw new Error("targetIndex out of bounds");if(w+x>_.length)throw new Error("source indices to be copied are outside bounds");if(v+x>y.length)throw new Error("target array is too small to hold result");for(let A=0;A<x;A++)y[v+A]=Math.pow(_[w+A],T)}static mul(y,_,v,w,x){if(w<0||w>=_.length)throw new Error("sourceIndex out of bounds");if(v<0||v>=y.length)throw new Error("targetIndex out of bounds");if(w+x>_.length)throw new Error("source indices to be copied are outside bounds");if(v+x>y.length)throw new Error("target array is too small to hold result");for(let T=0;T<x;T++)y[v+T]=_[w+T]*y[v+T]}};class r{static splitShape(_,v,w,x){if(w.length===0){if(!x)throw new Error("need to know number of outputs when the 'split' attribute is not specified");r.determineSplit(_[v],x,w)}const T=[],A=[0];for(let E=0;E<w.length;++E){E!==0&&A.push(A[E-1]+w[E-1]);const O=_.slice();O[v]=w[E],T.push(O)}return[T,A]}static determineSplit(_,v,w){if(_%v!=0)throw new Error("cannot split tensor to equal sized parts");for(let x=0;x<v;++x)w.push(_/v)}}n.SplitUtil=r;class i{static calcReduce(_,v,w,x,T){const A=_.dims.slice(0);v.length===0&&A.forEach((j,H)=>v.push(H));const E=i.calcReduceShape(A,v,!0),O=e.size(E),S=new m.Tensor(E,_.type),P=e.computeStrides(E),$=e.computeStrides(A),M=new Array(A.length);for(let j=0;j<O;j++){const H=e.offsetToIndices(j,P);f.fillIndex(H,A,M),S.set(H,i.calcReduceByAxis(_.numberData,v,A,0,e.indicesToOffset(M,$),x,T))}return w?S:new m.Tensor(i.calcReduceShape(A,v,w),S.type,void 0,void 0,S.data,S.dataId)}static calcReduceByAxis(_,v,w,x,T,A,E){let O=0;if(x>=v.length)return A(_[T]);const S=v[x],P=S>=w.length?1:e.size(w.slice(S+1));for(let $=0;$<w[S];$++)O=$===0?i.calcReduceByAxis(_,v,w,x+1,T,A,E):E(O,i.calcReduceByAxis(_,v,w,x+1,T,A,E)),T+=P;return O}static calcReduceShape(_,v,w){const x=_.slice();for(let T=0;T<v.length;T++)x[v[T]]=w?1:0;return x.filter(T=>T!==0)}}n.ReduceUtil=i;class g{static adjustPoolAttributes(_,v,w,x,T,A){if(!_&&w.length!==v.length-2)throw new Error("length of specified kernel shapes should be 2 less than length of input dimensions");if(_)for(let E=0;E<v.length-2;E++)E>=w.length?w.push(v[E+2]):w[E]=v[E+2];for(let E=0;E<w.length;E++)if(E<x.length){if(x[E]<0)throw new Error("strides should be greater than or equal to 1")}else x.push(1);for(let E=0;E<w.length;E++)if(E<T.length){if(T[E]<0)throw new Error("dilations should be greater than or equal to 1")}else T.push(1);for(let E=0;E<2*w.length;E++)if(E<A.length){if(A[E]<0)throw new Error("pad should be greater than or equal to 1")}else A.push(0);for(let E=0;E<w.length;E++){if(w[E]<=0)throw new Error("kernel shapes need to be greater than 0");if(A[E]>=w[E]||A[E+w.length]>=w[E])throw new Error("pads should be smaller than kernel")}}static adjustPadsBasedOnAutoPad(_,v,w,x,T,A){if(A){if(T.length!==2*(_.length-2))throw new Error("length of pads should be twice the length of data dimensions");if(v.length!==_.length-2)throw new Error("length of strides should be the length of data dimensions");if(x.length!==_.length-2)throw new Error("length of kernel shapes should be the length of data dimensions");for(let E=0;E<_.length-2;E++)g.adjustPadAndReturnShape(_[E+2],v[E],w[E],x[E],T,E,E+_.length-2,A)}}static computePoolOutputShape(_,v,w,x,T,A,E){if(v.length<=0)throw new Error("input shape must be of size greater than 0");const O=[v[0],v[1]];return g.computeShapeHelper(_,v,O,w,x,T,A,E),O}static computeConvOutputShape(_,v,w,x,T,A,E){if(_.length<=0||v.length<=0)throw new Error("invalid input tensor dims or invalid filter tensor dims");const O=[_[0],v[0]];return g.computeShapeHelper(!1,_,O,w,x,T,A,E),O}static computeShapeHelper(_,v,w,x,T,A,E,O){if(_)for(let S=0;S<v.length-2;S++)w.push(1);else for(let S=0;S<v.length-2;S++)w.push(g.adjustPadAndReturnShape(v[S+2],x[S],T[S],A[S],E,S,S+v.length-2,O))}static adjustPadAndReturnShape(_,v,w,x,T,A,E,O){const S=w*(x-1)+1;if(!O||O==="NOTSET")return Math.floor((_+T[A]+T[E]-S)/v+1);switch(O){case"VALID":return T[A]=0,T[E]=0,Math.floor((_-S)/v+1);case"SAME_LOWER":case"SAME_UPPER":if(w!==1)throw new Error("Dilation not supported for SAME_UPPER or SAME_LOWER");{const P=((_+v-1)/v-1)*v+x-_;return T[A]=Math.floor(O==="SAME_LOWER"?(P+1)/2:P/2),T[E]=P-T[A],Math.floor((_+P-x)/v+1)}default:throw new Error("Unsupported AutoPad type")}}}n.PoolConvUtil=g,n.MIN_CLIP=-34028234663852886e22,n.MAX_CLIP=34028234663852886e22,n.decodeUtf8String=function(y){return new TextDecoder().decode(y)}},7967:(o,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.iterateExtraOptions=void 0,n.iterateExtraOptions=(u,l,a,d)=>{if(typeof u=="object"&&u!==null){if(a.has(u))throw new Error("Circular reference in options");a.add(u)}Object.entries(u).forEach(([c,m])=>{const b=l?l+c:c;if(typeof m=="object")n.iterateExtraOptions(m,b+".",a,d);else if(typeof m=="string"||typeof m=="number")d(b,m.toString());else{if(typeof m!="boolean")throw new Error("Can't handle extra config type: "+typeof m);d(b,m?"1":"0")}})}},2157:function(o,n,u){var l,a=this&&this.__createBinding||(Object.create?function(O,S,P,$){$===void 0&&($=P),Object.defineProperty(O,$,{enumerable:!0,get:function(){return S[P]}})}:function(O,S,P,$){$===void 0&&($=P),O[$]=S[P]}),d=this&&this.__setModuleDefault||(Object.create?function(O,S){Object.defineProperty(O,"default",{enumerable:!0,value:S})}:function(O,S){O.default=S}),c=this&&this.__importStar||function(O){if(O&&O.__esModule)return O;var S={};if(O!=null)for(var P in O)P!=="default"&&Object.prototype.hasOwnProperty.call(O,P)&&a(S,O,P);return d(S,O),S};Object.defineProperty(n,"__esModule",{value:!0}),n.endProfiling=n.run=n.releaseSession=n.createSession=n.initOrt=n.initWasm=void 0;const m=u(2174),b=c(u(349)),f=u(6361),s=()=>!!m.env.wasm.proxy&&typeof document<"u";let t,e,r,i=!1,g=!1,y=!1;const _=[],v=[],w=[],x=[],T=()=>{if(i||!g||y||!t)throw new Error("worker not ready")},A=O=>{switch(O.data.type){case"init-wasm":i=!1,O.data.err?(y=!0,e[1](O.data.err)):(g=!0,e[0]());break;case"init-ort":O.data.err?r[1](O.data.err):r[0]();break;case"create":O.data.err?_.shift()[1](O.data.err):_.shift()[0](O.data.out);break;case"release":O.data.err?v.shift()[1](O.data.err):v.shift()[0]();break;case"run":O.data.err?w.shift()[1](O.data.err):w.shift()[0](O.data.out);break;case"end-profiling":O.data.err?x.shift()[1](O.data.err):x.shift()[0]()}},E=typeof document<"u"?(l=document==null?void 0:document.currentScript)===null||l===void 0?void 0:l.src:void 0;n.initWasm=async()=>{if(s()){if(g)return;if(i)throw new Error("multiple calls to 'initWasm()' detected.");if(y)throw new Error("previous call to 'initWasm()' failed.");return i=!0,m.env.wasm.wasmPaths===void 0&&E&&E.indexOf("blob:")!==0&&(m.env.wasm.wasmPaths=E.substr(0,E.lastIndexOf("/")+1)),new Promise((O,S)=>{t==null||t.terminate(),t=u(9710).Z(),t.onmessage=A,e=[O,S];const P={type:"init-wasm",in:m.env.wasm};t.postMessage(P)})}return f.initializeWebAssembly(m.env.wasm)},n.initOrt=async(O,S)=>{if(s())return T(),new Promise((P,$)=>{r=[P,$];const M={type:"init-ort",in:{numThreads:O,loggingLevel:S}};t.postMessage(M)});b.initOrt(O,S)},n.createSession=async(O,S)=>s()?(T(),new Promise((P,$)=>{_.push([P,$]);const M={type:"create",in:{model:O,options:S}};t.postMessage(M,[O.buffer])})):b.createSession(O,S),n.releaseSession=async O=>{if(s())return T(),new Promise((S,P)=>{v.push([S,P]);const $={type:"release",in:O};t.postMessage($)});b.releaseSession(O)},n.run=async(O,S,P,$,M)=>s()?(T(),new Promise((j,H)=>{w.push([j,H]);const K={type:"run",in:{sessionId:O,inputIndices:S,inputs:P,outputIndices:$,options:M}};t.postMessage(K,b.extractTransferableBuffers(P))})):b.run(O,S,P,$,M),n.endProfiling=async O=>{if(s())return T(),new Promise((S,P)=>{x.push([S,P]);const $={type:"end-profiling",in:O};t.postMessage($)});b.endProfiling(O)}},586:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setRunOptions=void 0;const l=u(7967),a=u(4983),d=u(6361);n.setRunOptions=c=>{const m=d.getInstance();let b=0;const f=[],s=c||{};try{if((c==null?void 0:c.logSeverityLevel)===void 0)s.logSeverityLevel=2;else if(typeof c.logSeverityLevel!="number"||!Number.isInteger(c.logSeverityLevel)||c.logSeverityLevel<0||c.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${c.logSeverityLevel}`);if((c==null?void 0:c.logVerbosityLevel)===void 0)s.logVerbosityLevel=0;else if(typeof c.logVerbosityLevel!="number"||!Number.isInteger(c.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${c.logVerbosityLevel}`);(c==null?void 0:c.terminate)===void 0&&(s.terminate=!1);let t=0;if((c==null?void 0:c.tag)!==void 0&&(t=a.allocWasmString(c.tag,f)),b=m._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,t),b===0)throw new Error("Can't create run options");return(c==null?void 0:c.extra)!==void 0&&l.iterateExtraOptions(c.extra,"",new WeakSet,(e,r)=>{const i=a.allocWasmString(e,f),g=a.allocWasmString(r,f);if(m._OrtAddRunConfigEntry(b,i,g)!==0)throw new Error(`Can't set a run config entry: ${e} - ${r}`)}),[b,f]}catch(t){throw b!==0&&m._OrtReleaseRunOptions(b),f.forEach(m._free),t}}},2306:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.OnnxruntimeWebAssemblySessionHandler=void 0;const l=u(2174),a=u(2157);let d;n.OnnxruntimeWebAssemblySessionHandler=class{async loadModel(c,m){d||(await a.initOrt(l.env.wasm.numThreads,(b=>{switch(b){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${b}`)}})(l.env.logLevel)),d=!0),[this.sessionId,this.inputNames,this.outputNames]=await a.createSession(c,m)}async dispose(){return a.releaseSession(this.sessionId)}async run(c,m,b){const f=[],s=[];Object.entries(c).forEach(i=>{const g=i[0],y=i[1],_=this.inputNames.indexOf(g);if(_===-1)throw new Error(`invalid input '${g}'`);f.push(y),s.push(_)});const t=[];Object.entries(m).forEach(i=>{const g=i[0],y=this.outputNames.indexOf(g);if(y===-1)throw new Error(`invalid output '${g}'`);t.push(y)});const e=await a.run(this.sessionId,s,f.map(i=>[i.type,i.dims,i.data]),t,b),r={};for(let i=0;i<e.length;i++)r[this.outputNames[t[i]]]=new l.Tensor(e[i][0],e[i][2],e[i][1]);return r}startProfiling(){}endProfiling(){a.endProfiling(this.sessionId)}}},4919:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.setSessionOptions=void 0;const l=u(7967),a=u(4983),d=u(6361);n.setSessionOptions=c=>{const m=d.getInstance();let b=0;const f=[],s=c||{};(t=>{t.extra||(t.extra={}),t.extra.session||(t.extra.session={});const e=t.extra.session;e.use_ort_model_bytes_directly||(e.use_ort_model_bytes_directly="1")})(s);try{(c==null?void 0:c.graphOptimizationLevel)===void 0&&(s.graphOptimizationLevel="all");const t=(i=>{switch(i){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${i}`)}})(s.graphOptimizationLevel);(c==null?void 0:c.enableCpuMemArena)===void 0&&(s.enableCpuMemArena=!0),(c==null?void 0:c.enableMemPattern)===void 0&&(s.enableMemPattern=!0),(c==null?void 0:c.executionMode)===void 0&&(s.executionMode="sequential");const e=(i=>{switch(i){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${i}`)}})(s.executionMode);let r=0;if((c==null?void 0:c.logId)!==void 0&&(r=a.allocWasmString(c.logId,f)),(c==null?void 0:c.logSeverityLevel)===void 0)s.logSeverityLevel=2;else if(typeof c.logSeverityLevel!="number"||!Number.isInteger(c.logSeverityLevel)||c.logSeverityLevel<0||c.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${c.logSeverityLevel}`);if((c==null?void 0:c.logVerbosityLevel)===void 0)s.logVerbosityLevel=0;else if(typeof c.logVerbosityLevel!="number"||!Number.isInteger(c.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${c.logVerbosityLevel}`);if((c==null?void 0:c.enableProfiling)===void 0&&(s.enableProfiling=!1),b=m._OrtCreateSessionOptions(t,!!s.enableCpuMemArena,!!s.enableMemPattern,e,!!s.enableProfiling,0,r,s.logSeverityLevel,s.logVerbosityLevel),b===0)throw new Error("Can't create session options");return c!=null&&c.executionProviders&&((i,g,y)=>{for(const _ of g){let v=typeof _=="string"?_:_.name;switch(v){case"xnnpack":v="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${v}`)}const w=a.allocWasmString(v,y);if(d.getInstance()._OrtAppendExecutionProvider(i,w)!==0)throw new Error(`Can't append execution provider: ${v}`)}})(b,c.executionProviders,f),(c==null?void 0:c.extra)!==void 0&&l.iterateExtraOptions(c.extra,"",new WeakSet,(i,g)=>{const y=a.allocWasmString(i,f),_=a.allocWasmString(g,f);if(m._OrtAddSessionConfigEntry(b,y,_)!==0)throw new Error(`Can't set a session config entry: ${i} - ${g}`)}),[b,f]}catch(t){throw b!==0&&m._OrtReleaseSessionOptions(b),f.forEach(m._free),t}}},4983:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.allocWasmString=void 0;const l=u(6361);n.allocWasmString=(a,d)=>{const c=l.getInstance(),m=c.lengthBytesUTF8(a)+1,b=c._malloc(m);return c.stringToUTF8(a,b,m),d.push(b),b}},349:(o,n,u)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.extractTransferableBuffers=n.endProfiling=n.run=n.releaseSession=n.createSession=n.initOrt=void 0;const l=u(586),a=u(4919),d=u(4983),c=u(6361);n.initOrt=(t,e)=>{const r=c.getInstance()._OrtInit(t,e);if(r!==0)throw new Error(`Can't initialize onnxruntime. error code = ${r}`)};const m=new Map;n.createSession=(t,e)=>{const r=c.getInstance(),i=r._malloc(t.byteLength);let g=0,y=0,_=[];try{if([y,_]=a.setSessionOptions(e),r.HEAPU8.set(t,i),g=r._OrtCreateSession(i,t.byteLength,y),g===0)throw new Error("Can't create a session")}finally{r._free(i),r._OrtReleaseSessionOptions(y),_.forEach(r._free)}const v=r._OrtGetInputCount(g),w=r._OrtGetOutputCount(g),x=[],T=[],A=[],E=[];for(let O=0;O<v;O++){const S=r._OrtGetInputName(g,O);if(S===0)throw new Error("Can't get an input name");T.push(S),x.push(r.UTF8ToString(S))}for(let O=0;O<w;O++){const S=r._OrtGetOutputName(g,O);if(S===0)throw new Error("Can't get an output name");E.push(S),A.push(r.UTF8ToString(S))}return m.set(g,[g,T,E]),[g,x,A]},n.releaseSession=t=>{const e=c.getInstance(),r=m.get(t);if(!r)throw new Error("invalid session id");const i=r[0],g=r[1],y=r[2];g.forEach(e._OrtFree),y.forEach(e._OrtFree),e._OrtReleaseSession(i),m.delete(t)};const b=t=>{switch(t){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${t}`)}},f=t=>{switch(t){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${t}`)}},s=t=>{switch(t){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${t}`)}};n.run=(t,e,r,i,g)=>{const y=c.getInstance(),_=m.get(t);if(!_)throw new Error("invalid session id");const v=_[0],w=_[1],x=_[2],T=e.length,A=i.length;let E=0,O=[];const S=[],P=[];try{[E,O]=l.setRunOptions(g);for(let C=0;C<T;C++){const L=r[C][0],oe=r[C][1],X=r[C][2];let me,pe;if(Array.isArray(X)){pe=4*X.length,me=y._malloc(pe),P.push(me);let De=me/4;for(let V=0;V<X.length;V++){if(typeof X[V]!="string")throw new TypeError(`tensor data at index ${V} is not a string`);y.HEAPU32[De++]=d.allocWasmString(X[V],P)}}else pe=X.byteLength,me=y._malloc(pe),P.push(me),y.HEAPU8.set(new Uint8Array(X.buffer,X.byteOffset,pe),me);const _e=y.stackSave(),Ce=y.stackAlloc(4*oe.length);try{let De=Ce/4;oe.forEach(ee=>y.HEAP32[De++]=ee);const V=y._OrtCreateTensor(b(L),me,pe,Ce,oe.length);if(V===0)throw new Error("Can't create a tensor");S.push(V)}finally{y.stackRestore(_e)}}const $=y.stackSave(),M=y.stackAlloc(4*T),j=y.stackAlloc(4*T),H=y.stackAlloc(4*A),K=y.stackAlloc(4*A);try{let C=M/4,L=j/4,oe=H/4,X=K/4;for(let _e=0;_e<T;_e++)y.HEAPU32[C++]=S[_e],y.HEAPU32[L++]=w[e[_e]];for(let _e=0;_e<A;_e++)y.HEAPU32[oe++]=0,y.HEAPU32[X++]=x[i[_e]];let me=y._OrtRun(v,j,M,T,K,A,H,E);const pe=[];if(me===0)for(let _e=0;_e<A;_e++){const Ce=y.HEAPU32[H/4+_e],De=y.stackSave(),V=y.stackAlloc(16);let ee,Q=0;try{if(me=y._OrtGetTensorData(Ce,V,V+4,V+8,V+12),me!==0)throw new Error(`Can't access output tensor data. error code = ${me}`);let ce=V/4;const we=y.HEAPU32[ce++];Q=y.HEAPU32[ce++];const Te=y.HEAPU32[ce++],ye=y.HEAPU32[ce++],D=[];for(let B=0;B<ye;B++)D.push(y.HEAPU32[Te/4+B]);y._OrtFree(Te);const k=D.length===0?1:D.reduce((B,G)=>B*G);if(ee=f(we),ee==="string"){const B=[];let G=Q/4;for(let Y=0;Y<k;Y++){const ne=y.HEAPU32[G++],ue=Y===k-1?void 0:y.HEAPU32[G]-ne;B.push(y.UTF8ToString(ne,ue))}pe.push([ee,D,B])}else{const B=new(s(ee))(k);new Uint8Array(B.buffer,B.byteOffset,B.byteLength).set(y.HEAPU8.subarray(Q,Q+B.byteLength)),pe.push([ee,D,B])}}finally{y.stackRestore(De),ee==="string"&&Q&&y._free(Q),y._OrtReleaseTensor(Ce)}}if(me===0)return pe;throw new Error(`failed to call OrtRun(). error code = ${me}.`)}finally{y.stackRestore($)}}finally{S.forEach(y._OrtReleaseTensor),P.forEach(y._free),y._OrtReleaseRunOptions(E),O.forEach(y._free)}},n.endProfiling=t=>{const e=c.getInstance(),r=m.get(t);if(!r)throw new Error("invalid session id");const i=r[0],g=e._OrtEndProfiling(i);if(g===0)throw new Error("Can't get an profile file name");e._OrtFree(g)},n.extractTransferableBuffers=t=>{const e=[];for(const r of t){const i=r[2];!Array.isArray(i)&&i.buffer&&e.push(i.buffer)}return e}},6361:function(o,n,u){var l=this&&this.__createBinding||(Object.create?function(g,y,_,v){v===void 0&&(v=_),Object.defineProperty(g,v,{enumerable:!0,get:function(){return y[_]}})}:function(g,y,_,v){v===void 0&&(v=_),g[v]=y[_]}),a=this&&this.__setModuleDefault||(Object.create?function(g,y){Object.defineProperty(g,"default",{enumerable:!0,value:y})}:function(g,y){g.default=y}),d=this&&this.__importStar||function(g){if(g&&g.__esModule)return g;var y={};if(g!=null)for(var _ in g)_!=="default"&&Object.prototype.hasOwnProperty.call(g,_)&&l(y,g,_);return a(y,g),y},c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(n,"__esModule",{value:!0}),n.dispose=n.getInstance=n.initializeWebAssembly=void 0;const m=d(u(6449)),b=c(u(932)),f=u(3474);let s,t=!1,e=!1,r=!1;const i=(g,y)=>y?g?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":g?"ort-wasm-simd.wasm":"ort-wasm.wasm";n.initializeWebAssembly=async g=>{if(t)return Promise.resolve();if(e)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(r)throw new Error("previous call to 'initializeWebAssembly()' failed.");e=!0;const y=g.initTimeout,_=g.numThreads,v=g.simd,w=_>1&&(()=>{try{return typeof SharedArrayBuffer<"u"&&(typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch{return!1}})(),x=v&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch{return!1}})(),T=typeof g.wasmPaths=="string"?g.wasmPaths:void 0,A=i(!1,w),E=i(x,w),O=typeof g.wasmPaths=="object"?g.wasmPaths[E]:void 0;let S=!1;const P=[];if(y>0&&P.push(new Promise($=>{setTimeout(()=>{S=!0,$()},y)})),P.push(new Promise(($,M)=>{const j=w?f:b.default,H={locateFile:(K,C)=>w&&K.endsWith(".worker.js")&&typeof Blob<"u"?URL.createObjectURL(new Blob([u(5118)],{type:"text/javascript"})):K===A?O??(T??C)+E:C+K};if(w)if(typeof Blob>"u")H.mainScriptUrlOrBlob=m.join("/","ort-wasm-threaded.js");else{const K=`var ortWasmThreaded=(function(){var _scriptDir;return ${j.toString()}})();`;H.mainScriptUrlOrBlob=new Blob([K],{type:"text/javascript"})}j(H).then(K=>{e=!1,t=!0,s=K,$()},K=>{e=!1,r=!0,M(K)})})),await Promise.race(P),S)throw new Error(`WebAssembly backend initializing failed due to timeout: ${y}ms`)},n.getInstance=()=>{if(t&&s)return s;throw new Error("WebAssembly is not initialized yet.")},n.dispose=()=>{var g;!t||e||r||(e=!0,(g=s.PThread)===null||g===void 0||g.terminateAllThreads(),s=void 0,e=!1,t=!1,r=!0)}},9710:(o,n,u)=>{u.d(n,{Z:()=>d});var l=u(477),a=u.n(l);function d(){return a()('/*!\n* ONNX Runtime Web v1.13.1\n* Copyright (c) Microsoft Corporation. All rights reserved.\n* Licensed under the MIT License.\n*/\n(()=>{var e={474:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){function t(){return C.buffer!=D&&G(C.buffer),F}function r(){return C.buffer!=D&&G(C.buffer),U}function a(){return C.buffer!=D&&G(C.buffer),I}function o(){return C.buffer!=D&&G(C.buffer),L}function i(){return C.buffer!=D&&G(C.buffer),W}var u,s,c;e=e||{},u||(u=void 0!==e?e:{}),u.ready=new Promise((function(e,t){s=e,c=t}));var l,f,p,d,m,g,h=Object.assign({},u),y="./this.program",v=(e,t)=>{throw t},b="object"==typeof window,_="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,O=u.ENVIRONMENT_IS_PTHREAD||!1,S="";function A(e){return u.locateFile?u.locateFile(e,S):S+e}if(w){let t;S=_?n(908).dirname(S)+"/":"//",g=()=>{m||(d=n(384),m=n(908))},l=function(e,t){return g(),e=m.normalize(e),d.readFileSync(e,t?void 0:"utf8")},p=e=>((e=l(e,!0)).buffer||(e=new Uint8Array(e)),e),f=(e,t,n)=>{g(),e=m.normalize(e),d.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(y=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){if(!(e instanceof se))throw e})),process.on("unhandledRejection",(function(e){throw e})),v=(e,t)=>{if(Z())throw process.exitCode=e,t;t instanceof se||x("exiting due to exception: "+t),process.exit(e)},u.inspect=function(){return"[Emscripten Module object]"};try{t=n(925)}catch(e){throw console.error(\'The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?\'),e}n.g.Worker=t.Worker}else(b||_)&&(_?S=self.location.href:"undefined"!=typeof document&&document.currentScript&&(S=document.currentScript.src),_scriptDir&&(S=_scriptDir),S=0!==S.indexOf("blob:")?S.substr(0,S.replace(/[?#].*/,"").lastIndexOf("/")+1):"",w||(l=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},_&&(p=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)}));w&&"undefined"==typeof performance&&(n.g.performance=n(953).performance);var T=console.log.bind(console),E=console.warn.bind(console);w&&(g(),T=e=>d.writeSync(1,e+"\\n"),E=e=>d.writeSync(2,e+"\\n"));var M,R=u.print||T,x=u.printErr||E;Object.assign(u,h),h=null,u.thisProgram&&(y=u.thisProgram),u.quit&&(v=u.quit),u.wasmBinary&&(M=u.wasmBinary);var k=u.noExitRuntime||!1;"object"!=typeof WebAssembly&&ae("no native wasm support detected");var C,P,D,F,U,I,L,W,H=!1,j="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function Y(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&j)return j.decode(e.buffer instanceof SharedArrayBuffer?e.slice(t,n):e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function z(e,t){return(e>>>=0)?Y(r(),e,t):""}function N(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function B(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function G(e){D=e,u.HEAP8=F=new Int8Array(e),u.HEAP16=new Int16Array(e),u.HEAP32=I=new Int32Array(e),u.HEAPU8=U=new Uint8Array(e),u.HEAPU16=new Uint16Array(e),u.HEAPU32=L=new Uint32Array(e),u.HEAPF32=new Float32Array(e),u.HEAPF64=W=new Float64Array(e)}O&&(D=u.buffer);var q=u.INITIAL_MEMORY||16777216;if(O)C=u.wasmMemory,D=u.buffer;else if(u.wasmMemory)C=u.wasmMemory;else if(!((C=new WebAssembly.Memory({initial:q/65536,maximum:65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw x("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),w&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");C&&(D=C.buffer),q=D.byteLength,G(D);var $,V=[],Q=[],X=[],K=[];function Z(){return k||!1}function J(){var e=u.preRun.shift();V.unshift(e)}var ee,te=0,ne=null,re=null;function ae(e){throw O?postMessage({cmd:"onAbort",arg:e}):u.onAbort&&u.onAbort(e),x(e="Aborted("+e+")"),H=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),c(e),e}function oe(){return ee.startsWith("data:application/octet-stream;base64,")}function ie(){var e=ee;try{if(e==ee&&M)return new Uint8Array(M);if(p)return p(e);throw"both async and sync fetching of the wasm failed"}catch(e){ae(e)}}ee="ort-wasm-threaded.wasm",oe()||(ee=A(ee));var ue={};function se(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function ce(e){(e=de.Ma[e])||ae(),de.Xa(e)}function le(e){var t=de.mb();if(!t)return 6;de.Sa.push(t),de.Ma[e.La]=t,t.La=e.La;var n={cmd:"run",start_routine:e.qb,arg:e.jb,pthread_ptr:e.La};return t.Ra=()=>{n.time=performance.now(),t.postMessage(n,e.vb)},t.loaded&&(t.Ra(),delete t.Ra),0}function fe(e){if(O)return ze(1,1,e);Z()||(de.Za(),u.onExit&&u.onExit(e),H=!0),v(e,new se(e))}function pe(e,t){if(!t&&O)throw he(e),"unwind";Z()||O||(lt(),me(X),ct(0),Ze[1].length&&Je(1,10),Ze[2].length&&Je(2,10),de.Za()),fe(e)}var de={Pa:[],Sa:[],ab:[],Ma:{},Va:function(){O&&de.nb()},xb:function(){},nb:function(){de.receiveObjectTransfer=de.pb,de.threadInitTLS=de.$a,de.setExitStatus=de.Ya,k=!1},Ya:function(){},Za:function(){for(var e of Object.values(de.Ma))de.Xa(e);for(e of de.Pa)e.terminate();de.Pa=[]},Xa:function(e){var t=e.La;delete de.Ma[t],de.Pa.push(e),de.Sa.splice(de.Sa.indexOf(e),1),e.La=0,gt(t)},pb:function(){},$a:function(){de.ab.forEach((e=>e()))},ob:function(e,t){e.onmessage=n=>{var r=(n=n.data).cmd;if(e.La&&(de.lb=e.La),n.targetThread&&n.targetThread!=ut()){var a=de.Ma[n.yb];a?a.postMessage(n,n.transferList):x(\'Internal error! Worker sent a message "\'+r+\'" to target pthread \'+n.targetThread+", but that thread no longer exists!")}else"processProxyingQueue"===r?Ie(n.queue):"spawnThread"===r?le(n):"cleanupThread"===r?ce(n.thread):"killThread"===r?(n=n.thread,r=de.Ma[n],delete de.Ma[n],r.terminate(),gt(n),de.Sa.splice(de.Sa.indexOf(r),1),r.La=0):"cancelThread"===r?de.Ma[n.thread].postMessage({cmd:"cancel"}):"loaded"===r?(e.loaded=!0,t&&t(e),e.Ra&&(e.Ra(),delete e.Ra)):"print"===r?R("Thread "+n.threadId+": "+n.text):"printErr"===r?x("Thread "+n.threadId+": "+n.text):"alert"===r?alert("Thread "+n.threadId+": "+n.text):"setimmediate"===n.target?e.postMessage(n):"onAbort"===r?u.onAbort&&u.onAbort(n.arg):r&&x("worker sent an unknown command "+r);de.lb=void 0},e.onerror=e=>{throw x("worker sent an error! "+e.filename+":"+e.lineno+": "+e.message),e},w&&(e.on("message",(function(t){e.onmessage({data:t})})),e.on("error",(function(t){e.onerror(t)})),e.on("detachedExit",(function(){}))),e.postMessage({cmd:"load",urlOrBlob:u.mainScriptUrlOrBlob||_scriptDir,wasmMemory:C,wasmModule:P})},ib:function(){var e=A("ort-wasm-threaded.worker.js");de.Pa.push(new Worker(e))},mb:function(){return 0==de.Pa.length&&(de.ib(),de.ob(de.Pa[0])),de.Pa.pop()}};function me(e){for(;0<e.length;)e.shift()(u)}function ge(e){var t=vt();return e=e(),bt(t),e}function he(e){if(O)return ze(2,0,e);try{pe(e)}catch(e){e instanceof se||"unwind"==e||v(1,e)}}u.PThread=de,u.establishStackSpace=function(){var e=ut(),t=a()[e+44>>2>>>0];e=a()[e+48>>2>>>0],yt(t,t-e),bt(t)};var ye,ve,be=[];function _e(e){this.Qa=e-24,this.hb=function(e){o()[this.Qa+4>>2>>>0]=e},this.eb=function(e){o()[this.Qa+8>>2>>>0]=e},this.fb=function(){a()[this.Qa>>2>>>0]=0},this.cb=function(){t()[this.Qa+12>>0>>>0]=0},this.gb=function(){t()[this.Qa+13>>0>>>0]=0},this.Va=function(e,t){this.bb(),this.hb(e),this.eb(t),this.fb(),this.cb(),this.gb()},this.bb=function(){o()[this.Qa+16>>2>>>0]=0}}function we(e,t,n,r){return O?ze(3,1,e,t,n,r):Oe(e,t,n,r)}function Oe(e,t,n,r){if("undefined"==typeof SharedArrayBuffer)return x("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var a=[];return O&&0===a.length?we(e,t,n,r):(e={qb:n,La:e,jb:r,vb:a},O?(e.wb="spawnThread",postMessage(e,a),0):le(e))}function Se(e,t,n){return O?ze(4,1,e,t,n):0}function Ae(e,t){if(O)return ze(5,1,e,t)}function Te(e,t){if(O)return ze(6,1,e,t)}function Ee(e,t,n){if(O)return ze(7,1,e,t,n)}function Me(e,t,n){return O?ze(8,1,e,t,n):0}function Re(e,t){if(O)return ze(9,1,e,t)}function xe(e,t,n){if(O)return ze(10,1,e,t,n)}function ke(e,t,n,r){if(O)return ze(11,1,e,t,n,r)}function Ce(e,t,n,r){if(O)return ze(12,1,e,t,n,r)}function Pe(e,t,n,r){if(O)return ze(13,1,e,t,n,r)}function De(e){if(O)return ze(14,1,e)}function Fe(e,t){if(O)return ze(15,1,e,t)}function Ue(e,t,n){if(O)return ze(16,1,e,t,n)}function Ie(e){Atomics.store(a(),e>>2,1),ut()&&mt(e),Atomics.compareExchange(a(),e>>2,1,0)}function Le(e){return o()[e>>>2]+4294967296*a()[e+4>>>2]}function We(e,t,n,r,a,o){return O?ze(17,1,e,t,n,r,a,o):-52}function He(e,t,n,r,a,o){if(O)return ze(18,1,e,t,n,r,a,o)}function je(e){var n=B(e)+1,r=st(n);return r&&N(e,t(),r,n),r}function Ye(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}if(O)return ze(19,1,e,t,n);var i=(new Date).getFullYear(),u=new Date(i,0,1),s=new Date(i,6,1);i=u.getTimezoneOffset();var c=s.getTimezoneOffset(),l=Math.max(i,c);a()[e>>2>>>0]=60*l,a()[t>>2>>>0]=Number(i!=c),e=r(u),t=r(s),e=je(e),t=je(t),c<i?(o()[n>>2>>>0]=e,o()[n+4>>2>>>0]=t):(o()[n>>2>>>0]=t,o()[n+4>>2>>>0]=e)}function ze(e,t){var n=arguments.length-2,r=arguments;return ge((()=>{for(var a=_t(8*n),o=a>>3,u=0;u<n;u++){var s=r[2+u];i()[o+u>>>0]=s}return dt(e,n,a,t)}))}u.invokeEntryPoint=function(e,t){var n=be[e];n||(e>=be.length&&(be.length=e+1),be[e]=n=$.get(e)),e=n(t),Z()?de.Ya(e):ht(e)},u.executeNotifiedProxyingQueue=Ie,ve=w?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:O?()=>performance.now()-u.__performance_now_clock_drift:()=>performance.now();var Ne,Be=[],Ge={};function qe(){if(!Ne){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"};for(e in Ge)void 0===Ge[e]?delete t[e]:t[e]=Ge[e];var n=[];for(e in t)n.push(e+"="+t[e]);Ne=n}return Ne}function $e(e,n){if(O)return ze(20,1,e,n);var r=0;return qe().forEach((function(a,i){var u=n+r;for(i=o()[e+4*i>>2>>>0]=u,u=0;u<a.length;++u)t()[i++>>0>>>0]=a.charCodeAt(u);t()[i>>0>>>0]=0,r+=a.length+1})),0}function Ve(e,t){if(O)return ze(21,1,e,t);var n=qe();o()[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),o()[t>>2>>>0]=r,0}function Qe(e){return O?ze(22,1,e):52}function Xe(e,t,n,r){return O?ze(23,1,e,t,n,r):52}function Ke(e,t,n,r,a){return O?ze(24,1,e,t,n,r,a):70}var Ze=[null,[],[]];function Je(e,t){var n=Ze[e];0===t||10===t?((1===e?R:x)(Y(n,0)),n.length=0):n.push(t)}function et(e,t,n,a){if(O)return ze(25,1,e,t,n,a);for(var i=0,u=0;u<n;u++){var s=o()[t>>2>>>0],c=o()[t+4>>2>>>0];t+=8;for(var l=0;l<c;l++)Je(e,r()[s+l>>>0]);i+=c}return o()[a>>2>>>0]=i,0}function tt(e){return 0==e%4&&(0!=e%100||0==e%400)}var nt=[31,29,31,30,31,30,31,31,30,31,30,31],rt=[31,28,31,30,31,30,31,31,30,31,30,31];function at(e,n,r,o){function i(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function u(e,t){return i(e,t,"0")}function s(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function l(e){var t=e.Na;for(e=new Date(new Date(e.Oa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(tt(e.getFullYear())?nt:rt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=c(new Date(e.getFullYear(),0,4)),n=c(n),0>=s(t,e)?0>=s(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var f=a()[o+40>>2>>>0];for(var p in o={tb:a()[o>>2>>>0],sb:a()[o+4>>2>>>0],Ta:a()[o+8>>2>>>0],Wa:a()[o+12>>2>>>0],Ua:a()[o+16>>2>>>0],Oa:a()[o+20>>2>>>0],Ka:a()[o+24>>2>>>0],Na:a()[o+28>>2>>>0],zb:a()[o+32>>2>>>0],rb:a()[o+36>>2>>>0],ub:f?z(f):""},r=z(r),f={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})r=r.replace(new RegExp(p,"g"),f[p]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),m="January February March April May June July August September October November December".split(" ");for(p in f={"%a":function(e){return d[e.Ka].substring(0,3)},"%A":function(e){return d[e.Ka]},"%b":function(e){return m[e.Ua].substring(0,3)},"%B":function(e){return m[e.Ua]},"%C":function(e){return u((e.Oa+1900)/100|0,2)},"%d":function(e){return u(e.Wa,2)},"%e":function(e){return i(e.Wa,2," ")},"%g":function(e){return l(e).toString().substring(2)},"%G":function(e){return l(e)},"%H":function(e){return u(e.Ta,2)},"%I":function(e){return 0==(e=e.Ta)?e=12:12<e&&(e-=12),u(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.Ua-1;t+=(tt(e.Oa+1900)?nt:rt)[n++]);return u(e.Wa+t,3)},"%m":function(e){return u(e.Ua+1,2)},"%M":function(e){return u(e.sb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.Ta&&12>e.Ta?"AM":"PM"},"%S":function(e){return u(e.tb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.Ka||7},"%U":function(e){return u(Math.floor((e.Na+7-e.Ka)/7),2)},"%V":function(e){var t=Math.floor((e.Na+7-(e.Ka+6)%7)/7);if(2>=(e.Ka+371-e.Na-2)%7&&t++,t)53==t&&(4==(n=(e.Ka+371-e.Na)%7)||3==n&&tt(e.Oa)||(t=1));else{t=52;var n=(e.Ka+7-e.Na-1)%7;(4==n||5==n&&tt(e.Oa%400-1))&&t++}return u(t,2)},"%w":function(e){return e.Ka},"%W":function(e){return u(Math.floor((e.Na+7-(e.Ka+6)%7)/7),2)},"%y":function(e){return(e.Oa+1900).toString().substring(2)},"%Y":function(e){return e.Oa+1900},"%z":function(e){var t=0<=(e=e.rb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.ub},"%%":function(){return"%"}},r=r.replace(/%%/g,"\\0\\0"),f)r.includes(p)&&(r=r.replace(new RegExp(p,"g"),f[p](o)));return p=function(e){var t=Array(B(e)+1);return N(e,t,0,t.length),t}(r=r.replace(/\\0\\0/g,"%")),p.length>n?0:(function(e,n){t().set(e,n>>>0)}(p,e),p.length-1)}de.Va();var ot=[null,fe,he,we,Se,Ae,Te,Ee,Me,Re,xe,ke,Ce,Pe,De,Fe,Ue,We,He,Ye,$e,Ve,Qe,Xe,Ke,et],it={b:function(e){return st(e+24)+24},c:function(e,t,n){throw new _e(e).Va(t,n),e},L:function(e){ft(e,!_,1,!b),de.$a()},m:function(e){O?postMessage({cmd:"cleanupThread",thread:e}):ce(e)},D:Oe,i:Se,S:Ae,y:Te,B:Ee,t:Me,Q:Re,I:xe,P:ke,o:Ce,z:Pe,w:De,R:Fe,x:Ue,q:function(){},j:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},r:function(){ae("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){return Date.now()},E:function(){return 2097152},U:function(){return!0},F:function(e,t,n,r){if(e==t)setTimeout((()=>Ie(r)));else if(O)postMessage({targetThread:e,cmd:"processProxyingQueue",queue:r});else{if(!(e=de.Ma[e]))return;e.postMessage({cmd:"processProxyingQueue",queue:r})}return 1},K:function(){return-1},V:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getUTCSeconds(),a()[t+4>>2>>>0]=e.getUTCMinutes(),a()[t+8>>2>>>0]=e.getUTCHours(),a()[t+12>>2>>>0]=e.getUTCDate(),a()[t+16>>2>>>0]=e.getUTCMonth(),a()[t+20>>2>>>0]=e.getUTCFullYear()-1900,a()[t+24>>2>>>0]=e.getUTCDay(),e=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,a()[t+28>>2>>>0]=e},W:function(e,t){e=new Date(1e3*Le(e)),a()[t>>2>>>0]=e.getSeconds(),a()[t+4>>2>>>0]=e.getMinutes(),a()[t+8>>2>>>0]=e.getHours(),a()[t+12>>2>>>0]=e.getDate(),a()[t+16>>2>>>0]=e.getMonth(),a()[t+20>>2>>>0]=e.getFullYear()-1900,a()[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1),r=(e.getTime()-n.getTime())/864e5|0;a()[t+28>>2>>>0]=r,a()[t+36>>2>>>0]=-60*e.getTimezoneOffset(),r=new Date(e.getFullYear(),6,1).getTimezoneOffset(),e=0|(r!=(n=n.getTimezoneOffset())&&e.getTimezoneOffset()==Math.min(n,r)),a()[t+32>>2>>>0]=e},X:function(e){var t=new Date(a()[e+20>>2>>>0]+1900,a()[e+16>>2>>>0],a()[e+12>>2>>>0],a()[e+8>>2>>>0],a()[e+4>>2>>>0],a()[e>>2>>>0],0),n=a()[e+32>>2>>>0],r=t.getTimezoneOffset(),o=new Date(t.getFullYear(),0,1),i=new Date(t.getFullYear(),6,1).getTimezoneOffset(),u=o.getTimezoneOffset(),s=Math.min(u,i);return 0>n?a()[e+32>>2>>>0]=Number(i!=u&&s==r):0<n!=(s==r)&&(i=Math.max(u,i),t.setTime(t.getTime()+6e4*((0<n?s:i)-r))),a()[e+24>>2>>>0]=t.getDay(),n=(t.getTime()-o.getTime())/864e5|0,a()[e+28>>2>>>0]=n,a()[e>>2>>>0]=t.getSeconds(),a()[e+4>>2>>>0]=t.getMinutes(),a()[e+8>>2>>>0]=t.getHours(),a()[e+12>>2>>>0]=t.getDate(),a()[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},G:We,H:He,Y:function e(t,n,r){e.kb||(e.kb=!0,Ye(t,n,r))},d:function(){ae("")},n:function(){if(!w&&!_){var e="Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread";ye||(ye={}),ye[e]||(ye[e]=1,w&&(e="warning: "+e),x(e))}},v:function(){return 4294901760},f:ve,O:function(e,t,n){r().copyWithin(e>>>0,t>>>0,t+n>>>0)},g:function(){return w?n(993).cpus().length:navigator.hardwareConcurrency},J:function(e,t,n){Be.length=t,n>>=3;for(var r=0;r<t;r++)Be[r]=i()[n+r>>>0];return(0>e?ue[-e-1]:ot[e]).apply(null,Be)},u:function(e){var t=r().length;if((e>>>=0)<=t||4294901760<e)return!1;for(var n=1;4>=n;n*=2){var a=t*(1+.2/n);a=Math.min(a,e+100663296);var o=Math;a=Math.max(e,a),o=o.min.call(o,4294901760,a+(65536-a%65536)%65536);e:{try{C.grow(o-D.byteLength+65535>>>16),G(C.buffer);var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},T:function(){throw"unwind"},M:$e,N:Ve,C:pe,h:Qe,l:Xe,s:Ke,k:et,a:C||u.wasmMemory,A:at,e:function(e,t,n,r){return at(e,t,n,r)}};!function(){function e(e,t){u.asm=e.exports,de.ab.push(u.asm.wa),$=u.asm.ya,Q.unshift(u.asm.Z),P=t,O||(te--,u.monitorRunDependencies&&u.monitorRunDependencies(te),0==te&&(null!==ne&&(clearInterval(ne),ne=null),re&&(e=re,re=null,e())))}function t(t){e(t.instance,t.module)}function n(e){return function(){if(!M&&(b||_)){if("function"==typeof fetch&&!ee.startsWith("file://"))return fetch(ee,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+ee+"\'";return e.arrayBuffer()})).catch((function(){return ie()}));if(f)return new Promise((function(e,t){f(ee,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return ie()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then((function(e){return e})).then(e,(function(e){x("failed to asynchronously prepare wasm: "+e),ae(e)}))}var r={a:it};if(O||(te++,u.monitorRunDependencies&&u.monitorRunDependencies(te)),u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(e){return x("Module.instantiateWasm callback failed with error: "+e),!1}(M||"function"!=typeof WebAssembly.instantiateStreaming||oe()||ee.startsWith("file://")||w||"function"!=typeof fetch?n(t):fetch(ee,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return x("wasm streaming compile failed: "+e),x("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(c)}(),u.___wasm_call_ctors=function(){return(u.___wasm_call_ctors=u.asm.Z).apply(null,arguments)},u._OrtInit=function(){return(u._OrtInit=u.asm._).apply(null,arguments)},u._OrtCreateSessionOptions=function(){return(u._OrtCreateSessionOptions=u.asm.$).apply(null,arguments)},u._OrtAppendExecutionProvider=function(){return(u._OrtAppendExecutionProvider=u.asm.aa).apply(null,arguments)},u._OrtAddSessionConfigEntry=function(){return(u._OrtAddSessionConfigEntry=u.asm.ba).apply(null,arguments)},u._OrtReleaseSessionOptions=function(){return(u._OrtReleaseSessionOptions=u.asm.ca).apply(null,arguments)},u._OrtCreateSession=function(){return(u._OrtCreateSession=u.asm.da).apply(null,arguments)},u._OrtReleaseSession=function(){return(u._OrtReleaseSession=u.asm.ea).apply(null,arguments)},u._OrtGetInputCount=function(){return(u._OrtGetInputCount=u.asm.fa).apply(null,arguments)},u._OrtGetOutputCount=function(){return(u._OrtGetOutputCount=u.asm.ga).apply(null,arguments)},u._OrtGetInputName=function(){return(u._OrtGetInputName=u.asm.ha).apply(null,arguments)},u._OrtGetOutputName=function(){return(u._OrtGetOutputName=u.asm.ia).apply(null,arguments)},u._OrtFree=function(){return(u._OrtFree=u.asm.ja).apply(null,arguments)},u._OrtCreateTensor=function(){return(u._OrtCreateTensor=u.asm.ka).apply(null,arguments)},u._OrtGetTensorData=function(){return(u._OrtGetTensorData=u.asm.la).apply(null,arguments)},u._OrtReleaseTensor=function(){return(u._OrtReleaseTensor=u.asm.ma).apply(null,arguments)},u._OrtCreateRunOptions=function(){return(u._OrtCreateRunOptions=u.asm.na).apply(null,arguments)},u._OrtAddRunConfigEntry=function(){return(u._OrtAddRunConfigEntry=u.asm.oa).apply(null,arguments)},u._OrtReleaseRunOptions=function(){return(u._OrtReleaseRunOptions=u.asm.pa).apply(null,arguments)},u._OrtRun=function(){return(u._OrtRun=u.asm.qa).apply(null,arguments)},u._OrtEndProfiling=function(){return(u._OrtEndProfiling=u.asm.ra).apply(null,arguments)};var ut=u._pthread_self=function(){return(ut=u._pthread_self=u.asm.sa).apply(null,arguments)},st=u._malloc=function(){return(st=u._malloc=u.asm.ta).apply(null,arguments)};u._free=function(){return(u._free=u.asm.ua).apply(null,arguments)};var ct=u._fflush=function(){return(ct=u._fflush=u.asm.va).apply(null,arguments)};u.__emscripten_tls_init=function(){return(u.__emscripten_tls_init=u.asm.wa).apply(null,arguments)};var lt=u.___funcs_on_exit=function(){return(lt=u.___funcs_on_exit=u.asm.xa).apply(null,arguments)},ft=u.__emscripten_thread_init=function(){return(ft=u.__emscripten_thread_init=u.asm.za).apply(null,arguments)};u.__emscripten_thread_crashed=function(){return(u.__emscripten_thread_crashed=u.asm.Aa).apply(null,arguments)};var pt,dt=u._emscripten_run_in_main_runtime_thread_js=function(){return(dt=u._emscripten_run_in_main_runtime_thread_js=u.asm.Ba).apply(null,arguments)},mt=u.__emscripten_proxy_execute_task_queue=function(){return(mt=u.__emscripten_proxy_execute_task_queue=u.asm.Ca).apply(null,arguments)},gt=u.__emscripten_thread_free_data=function(){return(gt=u.__emscripten_thread_free_data=u.asm.Da).apply(null,arguments)},ht=u.__emscripten_thread_exit=function(){return(ht=u.__emscripten_thread_exit=u.asm.Ea).apply(null,arguments)},yt=u._emscripten_stack_set_limits=function(){return(yt=u._emscripten_stack_set_limits=u.asm.Fa).apply(null,arguments)},vt=u.stackSave=function(){return(vt=u.stackSave=u.asm.Ga).apply(null,arguments)},bt=u.stackRestore=function(){return(bt=u.stackRestore=u.asm.Ha).apply(null,arguments)},_t=u.stackAlloc=function(){return(_t=u.stackAlloc=u.asm.Ia).apply(null,arguments)};function wt(){function e(){if(!pt&&(pt=!0,u.calledRun=!0,!H)&&(O||me(Q),s(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),!O)){if(u.postRun)for("function"==typeof u.postRun&&(u.postRun=[u.postRun]);u.postRun.length;){var e=u.postRun.shift();K.unshift(e)}me(K)}}if(!(0<te))if(O)s(u),O||me(Q),postMessage({cmd:"loaded"});else{if(u.preRun)for("function"==typeof u.preRun&&(u.preRun=[u.preRun]);u.preRun.length;)J();me(V),0<te||(u.setStatus?(u.setStatus("Running..."),setTimeout((function(){setTimeout((function(){u.setStatus("")}),1),e()}),1)):e())}}if(u.___cxa_is_pointer_type=function(){return(u.___cxa_is_pointer_type=u.asm.Ja).apply(null,arguments)},u.UTF8ToString=z,u.stringToUTF8=function(e,t,n){return N(e,r(),t,n)},u.lengthBytesUTF8=B,u.keepRuntimeAlive=Z,u.wasmMemory=C,u.stackSave=vt,u.stackRestore=bt,u.stackAlloc=_t,u.ExitStatus=se,u.PThread=de,re=function e(){pt||wt(),pt||(re=e)},u.preInit)for("function"==typeof u.preInit&&(u.preInit=[u.preInit]);0<u.preInit.length;)u.preInit.pop()();return wt(),e.ready});e.exports=r},118:e=>{"use strict";e.exports=\'"use strict";var e={},t="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node;if(t){var r=require("worker_threads"),a=r.parentPort;a.on("message",(e=>onmessage({data:e})));var o=require("fs");Object.assign(global,{self:global,require:require,Module:e,location:{href:__filename},Worker:r.Worker,importScripts:function(e){(0,eval)(o.readFileSync(e,"utf8"))},postMessage:function(e){a.postMessage(e)},performance:global.performance||{now:function(){return Date.now()}}})}var s=!1,n=[],i=function(){var e=Array.prototype.slice.call(arguments).join(" ");t?o.writeSync(2,e+"\\\\n"):console.error(e)};self.alert=function(){var t=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:t,threadId:e._pthread_self()})},e.instantiateWasm=(t,r)=>{var a=new WebAssembly.Instance(e.wasmModule,t);return r(a),e.wasmModule=null,a.exports},self.onunhandledrejection=e=>{throw e.reason??e},self.onmessage=t=>{try{if("load"===t.data.cmd){if(e.wasmModule=t.data.wasmModule,e.wasmMemory=t.data.wasmMemory,e.buffer=e.wasmMemory.buffer,e.ENVIRONMENT_IS_PTHREAD=!0,"string"==typeof t.data.urlOrBlob)importScripts(t.data.urlOrBlob);else{var r=URL.createObjectURL(t.data.urlOrBlob);importScripts(r),URL.revokeObjectURL(r)}ortWasmThreaded(e).then((function(t){e=t}))}else if("run"===t.data.cmd){e.__performance_now_clock_drift=performance.now()-t.data.time,e.__emscripten_thread_init(t.data.pthread_ptr,0,0,1),e.establishStackSpace(),e.PThread.receiveObjectTransfer(t.data),e.PThread.threadInitTLS(),s||(n.forEach((t=>{e.executeNotifiedProxyingQueue(t)})),n=[],s=!0);try{e.invokeEntryPoint(t.data.start_routine,t.data.arg)}catch(t){if("unwind"!=t){if(!(t instanceof e.ExitStatus))throw t;e.keepRuntimeAlive()||e.__emscripten_thread_exit(t.status)}}}else"cancel"===t.data.cmd?e._pthread_self()&&e.__emscripten_thread_exit(-1):"setimmediate"===t.data.target||("processProxyingQueue"===t.data.cmd?s?e.executeNotifiedProxyingQueue(t.data.queue):n.push(t.data.queue):(i("worker.js received unknown command "+t.data.cmd),i(t.data)))}catch(t){throw i("worker.js onmessage() captured an uncaught exception: "+t),t&&t.stack&&i(t.stack),e.__emscripten_thread_crashed&&e.__emscripten_thread_crashed(),t}};\\n\'},932:(e,t,n)=>{var _scriptDir,r=(_scriptDir=(_scriptDir="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(e){var t,r,a;e=e||{},t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var o,i,u,s,c,l,f=Object.assign({},t),p="./this.program",d="object"==typeof window,m="function"==typeof importScripts,g="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,h="";g?(h=m?n(908).dirname(h)+"/":"//",l=()=>{c||(s=n(384),c=n(908))},o=function(e,t){return l(),e=c.normalize(e),s.readFileSync(e,t?void 0:"utf8")},u=e=>((e=o(e,!0)).buffer||(e=new Uint8Array(e)),e),i=(e,t,n)=>{l(),e=c.normalize(e),s.readFile(e,(function(e,r){e?n(e):t(r.buffer)}))},1<process.argv.length&&(p=process.argv[1].replace(/\\\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(e){throw e})),process.on("unhandledRejection",(function(e){throw e})),t.inspect=function(){return"[Emscripten Module object]"}):(d||m)&&(m?h=self.location.href:"undefined"!=typeof document&&document.currentScript&&(h=document.currentScript.src),_scriptDir&&(h=_scriptDir),h=0!==h.indexOf("blob:")?h.substr(0,h.replace(/[?#].*/,"").lastIndexOf("/")+1):"",o=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},m&&(u=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),i=(e,t,n)=>{var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=()=>{200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var y,v=t.print||console.log.bind(console),b=t.printErr||console.warn.bind(console);Object.assign(t,f),f=null,t.thisProgram&&(p=t.thisProgram),t.wasmBinary&&(y=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&Y("no native wasm support detected");var _,w,O,S,A,T,E=!1,M="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,n){var r=(t>>>=0)+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.buffer&&M)return M.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function x(e,t){return(e>>>=0)?R(S,e,t):""}function k(e,t,n,r){if(!(0<r))return 0;var a=n>>>=0;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o)),127>=i){if(n>=r)break;t[n++>>>0]=i}else{if(2047>=i){if(n+1>=r)break;t[n++>>>0]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++>>>0]=224|i>>12}else{if(n+3>=r)break;t[n++>>>0]=240|i>>18,t[n++>>>0]=128|i>>12&63}t[n++>>>0]=128|i>>6&63}t[n++>>>0]=128|63&i}}return t[n>>>0]=0,n-a}function C(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);127>=r?t++:2047>=r?t+=2:55296<=r&&57343>=r?(t+=4,++n):t+=3}return t}function P(){var e=_.buffer;w=e,t.HEAP8=O=new Int8Array(e),t.HEAP16=new Int16Array(e),t.HEAP32=A=new Int32Array(e),t.HEAPU8=S=new Uint8Array(e),t.HEAPU16=new Uint16Array(e),t.HEAPU32=T=new Uint32Array(e),t.HEAPF32=new Float32Array(e),t.HEAPF64=new Float64Array(e)}var D=[],F=[],U=[];function I(){var e=t.preRun.shift();D.unshift(e)}var L,W=0,H=null,j=null;function Y(e){throw t.onAbort&&t.onAbort(e),b(e="Aborted("+e+")"),E=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),a(e),e}function z(){return L.startsWith("data:application/octet-stream;base64,")}if(L="ort-wasm.wasm",!z()){var N=L;L=t.locateFile?t.locateFile(N,h):h+N}function B(){var e=L;try{if(e==L&&y)return new Uint8Array(y);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(e){Y(e)}}function G(e){for(;0<e.length;)e.shift()(t)}function q(e){this.ra=e-24,this.Ga=function(e){T[this.ra+4>>2>>>0]=e},this.za=function(e){T[this.ra+8>>2>>>0]=e},this.Aa=function(){A[this.ra>>2>>>0]=0},this.ya=function(){O[this.ra+12>>0>>>0]=0},this.Fa=function(){O[this.ra+13>>0>>>0]=0},this.wa=function(e,t){this.xa(),this.Ga(e),this.za(t),this.Aa(),this.ya(),this.Fa()},this.xa=function(){T[this.ra+16>>2>>>0]=0}}function $(e){var t=C(e)+1,n=re(t);return n&&k(e,O,n,t),n}var V={};function Q(){if(!X){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:p||"./this.program"};for(e in V)void 0===V[e]?delete t[e]:t[e]=V[e];var n=[];for(e in t)n.push(e+"="+t[e]);X=n}return X}var X,K=[null,[],[]];function Z(e){return 0==e%4&&(0!=e%100||0==e%400)}var J=[31,29,31,30,31,30,31,31,30,31,30,31],ee=[31,28,31,30,31,30,31,31,30,31,30,31];function te(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){var t=e.pa;for(e=new Date(new Date(e.qa+1900,0,1).getTime());0<t;){var n=e.getMonth(),r=(Z(e.getFullYear())?J:ee)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return n=new Date(e.getFullYear()+1,0,4),t=u(new Date(e.getFullYear(),0,4)),n=u(n),0>=i(t,e)?0>=i(n,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=A[r+40>>2>>>0];for(var l in r={Da:A[r>>2>>>0],Ca:A[r+4>>2>>>0],sa:A[r+8>>2>>>0],ua:A[r+12>>2>>>0],ta:A[r+16>>2>>>0],qa:A[r+20>>2>>>0],ka:A[r+24>>2>>>0],pa:A[r+28>>2>>>0],Ha:A[r+32>>2>>>0],Ba:A[r+36>>2>>>0],Ea:c?x(c):""},n=x(n),c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),p="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.ka].substring(0,3)},"%A":function(e){return f[e.ka]},"%b":function(e){return p[e.ta].substring(0,3)},"%B":function(e){return p[e.ta]},"%C":function(e){return o((e.qa+1900)/100|0,2)},"%d":function(e){return o(e.ua,2)},"%e":function(e){return a(e.ua,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return o(e.sa,2)},"%I":function(e){return 0==(e=e.sa)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){for(var t=0,n=0;n<=e.ta-1;t+=(Z(e.qa+1900)?J:ee)[n++]);return o(e.ua+t,3)},"%m":function(e){return o(e.ta+1,2)},"%M":function(e){return o(e.Ca,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.sa&&12>e.sa?"AM":"PM"},"%S":function(e){return o(e.Da,2)},"%t":function(){return"\\t"},"%u":function(e){return e.ka||7},"%U":function(e){return o(Math.floor((e.pa+7-e.ka)/7),2)},"%V":function(e){var t=Math.floor((e.pa+7-(e.ka+6)%7)/7);if(2>=(e.ka+371-e.pa-2)%7&&t++,t)53==t&&(4==(n=(e.ka+371-e.pa)%7)||3==n&&Z(e.qa)||(t=1));else{t=52;var n=(e.ka+7-e.pa-1)%7;(4==n||5==n&&Z(e.qa%400-1))&&t++}return o(t,2)},"%w":function(e){return e.ka},"%W":function(e){return o(Math.floor((e.pa+7-(e.ka+6)%7)/7),2)},"%y":function(e){return(e.qa+1900).toString().substring(2)},"%Y":function(e){return e.qa+1900},"%z":function(e){var t=0<=(e=e.Ba);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Ea},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(C(e)+1);return k(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(O.set(l,e>>>0),l.length-1)}var ne={a:function(e){return re(e+24)+24},b:function(e,t,n){throw new q(e).wa(t,n),e},g:function(){return 0},J:function(){},w:function(){},z:function(){},s:function(){return 0},H:function(){},C:function(){},G:function(){},k:function(){},y:function(){},u:function(){},I:function(){},v:function(){},o:function(){},q:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},p:function(){Y("To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking")},l:function(){return Date.now()},K:function(){return!0},L:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getUTCSeconds(),A[t+4>>2>>>0]=e.getUTCMinutes(),A[t+8>>2>>>0]=e.getUTCHours(),A[t+12>>2>>>0]=e.getUTCDate(),A[t+16>>2>>>0]=e.getUTCMonth(),A[t+20>>2>>>0]=e.getUTCFullYear()-1900,A[t+24>>2>>>0]=e.getUTCDay(),A[t+28>>2>>>0]=(e.getTime()-Date.UTC(e.getUTCFullYear(),0,1,0,0,0,0))/864e5|0},M:function(e,t){e=new Date(1e3*(T[e>>>2]+4294967296*A[e+4>>>2])),A[t>>2>>>0]=e.getSeconds(),A[t+4>>2>>>0]=e.getMinutes(),A[t+8>>2>>>0]=e.getHours(),A[t+12>>2>>>0]=e.getDate(),A[t+16>>2>>>0]=e.getMonth(),A[t+20>>2>>>0]=e.getFullYear()-1900,A[t+24>>2>>>0]=e.getDay();var n=new Date(e.getFullYear(),0,1);A[t+28>>2>>>0]=(e.getTime()-n.getTime())/864e5|0,A[t+36>>2>>>0]=-60*e.getTimezoneOffset();var r=new Date(e.getFullYear(),6,1).getTimezoneOffset();n=n.getTimezoneOffset(),A[t+32>>2>>>0]=0|(r!=n&&e.getTimezoneOffset()==Math.min(n,r))},m:function(e){var t=new Date(A[e+20>>2>>>0]+1900,A[e+16>>2>>>0],A[e+12>>2>>>0],A[e+8>>2>>>0],A[e+4>>2>>>0],A[e>>2>>>0],0),n=A[e+32>>2>>>0],r=t.getTimezoneOffset(),a=new Date(t.getFullYear(),0,1),o=new Date(t.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),u=Math.min(i,o);return 0>n?A[e+32>>2>>>0]=Number(o!=i&&u==r):0<n!=(u==r)&&(o=Math.max(i,o),t.setTime(t.getTime()+6e4*((0<n?u:o)-r))),A[e+24>>2>>>0]=t.getDay(),A[e+28>>2>>>0]=(t.getTime()-a.getTime())/864e5|0,A[e>>2>>>0]=t.getSeconds(),A[e+4>>2>>>0]=t.getMinutes(),A[e+8>>2>>>0]=t.getHours(),A[e+12>>2>>>0]=t.getDate(),A[e+16>>2>>>0]=t.getMonth(),t.getTime()/1e3|0},A:function(){return-52},B:function(){},n:function e(t,n,r){e.va||(e.va=!0,function(e,t,n){function r(e){return(e=e.toTimeString().match(/\\(([A-Za-z ]+)\\)$/))?e[1]:"GMT"}var a=(new Date).getFullYear(),o=new Date(a,0,1),i=new Date(a,6,1);a=o.getTimezoneOffset();var u=i.getTimezoneOffset();A[e>>2>>>0]=60*Math.max(a,u),A[t>>2>>>0]=Number(a!=u),e=r(o),t=r(i),e=$(e),t=$(t),u<a?(T[n>>2>>>0]=e,T[n+4>>2>>>0]=t):(T[n>>2>>>0]=t,T[n+4>>2>>>0]=e)}(t,n,r))},d:function(){Y("")},t:function(){return 4294901760},h:g?()=>{var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:()=>performance.now(),F:function(e,t,n){S.copyWithin(e>>>0,t>>>0,t+n>>>0)},f:function(e){var t=S.length;if(4294901760<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,4294901760,r+(65536-r%65536)%65536);e:{try{_.grow(a-w.byteLength+65535>>>16),P();var o=1;break e}catch(e){}o=void 0}if(o)return!0}return!1},D:function(e,t){var n=0;return Q().forEach((function(r,a){var o=t+n;for(a=T[e+4*a>>2>>>0]=o,o=0;o<r.length;++o)O[a++>>0>>>0]=r.charCodeAt(o);O[a>>0>>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=Q();T[e>>2>>>0]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),T[t>>2>>>0]=r,0},e:function(){return 52},j:function(){return 52},r:function(){return 70},i:function(e,t,n,r){for(var a=0,o=0;o<n;o++){var i=T[t>>2>>>0],u=T[t+4>>2>>>0];t+=8;for(var s=0;s<u;s++){var c=S[i+s>>>0],l=K[e];0===c||10===c?((1===e?v:b)(R(l,0)),l.length=0):l.push(c)}a+=u}return T[r>>2>>>0]=a,0},x:te,c:function(e,t,n,r){return te(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,_=t.asm.N,P(),F.unshift(t.asm.O),W--,t.monitorRunDependencies&&t.monitorRunDependencies(W),0==W&&(null!==H&&(clearInterval(H),H=null),j&&(e=j,j=null,e()))}function n(t){e(t.instance)}function r(e){return function(){if(!y&&(d||m)){if("function"==typeof fetch&&!L.startsWith("file://"))return fetch(L,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+L+"\'";return e.arrayBuffer()})).catch((function(){return B()}));if(i)return new Promise((function(e,t){i(L,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return B()}))}().then((function(e){return WebAssembly.instantiate(e,o)})).then((function(e){return e})).then(e,(function(e){b("failed to asynchronously prepare wasm: "+e),Y(e)}))}var o={a:ne};if(W++,t.monitorRunDependencies&&t.monitorRunDependencies(W),t.instantiateWasm)try{return t.instantiateWasm(o,e)}catch(e){return b("Module.instantiateWasm callback failed with error: "+e),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||z()||L.startsWith("file://")||g||"function"!=typeof fetch?r(n):fetch(L,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,o).then(n,(function(e){return b("wasm streaming compile failed: "+e),b("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.O).apply(null,arguments)},t._OrtInit=function(){return(t._OrtInit=t.asm.P).apply(null,arguments)},t._OrtCreateSessionOptions=function(){return(t._OrtCreateSessionOptions=t.asm.Q).apply(null,arguments)},t._OrtAppendExecutionProvider=function(){return(t._OrtAppendExecutionProvider=t.asm.R).apply(null,arguments)},t._OrtAddSessionConfigEntry=function(){return(t._OrtAddSessionConfigEntry=t.asm.S).apply(null,arguments)},t._OrtReleaseSessionOptions=function(){return(t._OrtReleaseSessionOptions=t.asm.T).apply(null,arguments)},t._OrtCreateSession=function(){return(t._OrtCreateSession=t.asm.U).apply(null,arguments)},t._OrtReleaseSession=function(){return(t._OrtReleaseSession=t.asm.V).apply(null,arguments)},t._OrtGetInputCount=function(){return(t._OrtGetInputCount=t.asm.W).apply(null,arguments)},t._OrtGetOutputCount=function(){return(t._OrtGetOutputCount=t.asm.X).apply(null,arguments)},t._OrtGetInputName=function(){return(t._OrtGetInputName=t.asm.Y).apply(null,arguments)},t._OrtGetOutputName=function(){return(t._OrtGetOutputName=t.asm.Z).apply(null,arguments)},t._OrtFree=function(){return(t._OrtFree=t.asm._).apply(null,arguments)},t._OrtCreateTensor=function(){return(t._OrtCreateTensor=t.asm.$).apply(null,arguments)},t._OrtGetTensorData=function(){return(t._OrtGetTensorData=t.asm.aa).apply(null,arguments)},t._OrtReleaseTensor=function(){return(t._OrtReleaseTensor=t.asm.ba).apply(null,arguments)},t._OrtCreateRunOptions=function(){return(t._OrtCreateRunOptions=t.asm.ca).apply(null,arguments)},t._OrtAddRunConfigEntry=function(){return(t._OrtAddRunConfigEntry=t.asm.da).apply(null,arguments)},t._OrtReleaseRunOptions=function(){return(t._OrtReleaseRunOptions=t.asm.ea).apply(null,arguments)},t._OrtRun=function(){return(t._OrtRun=t.asm.fa).apply(null,arguments)},t._OrtEndProfiling=function(){return(t._OrtEndProfiling=t.asm.ga).apply(null,arguments)};var re=t._malloc=function(){return(re=t._malloc=t.asm.ha).apply(null,arguments)};t._free=function(){return(t._free=t.asm.ia).apply(null,arguments)},t._fflush=function(){return(t._fflush=t.asm.ja).apply(null,arguments)};var ae,oe=t.stackSave=function(){return(oe=t.stackSave=t.asm.la).apply(null,arguments)},ie=t.stackRestore=function(){return(ie=t.stackRestore=t.asm.ma).apply(null,arguments)},ue=t.stackAlloc=function(){return(ue=t.stackAlloc=t.asm.na).apply(null,arguments)};function se(){function e(){if(!ae&&(ae=!0,t.calledRun=!0,!E)){if(G(F),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();U.unshift(e)}G(U)}}if(!(0<W)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)I();G(D),0<W||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.___cxa_is_pointer_type=function(){return(t.___cxa_is_pointer_type=t.asm.oa).apply(null,arguments)},t.UTF8ToString=x,t.stringToUTF8=function(e,t,n){return k(e,S,t,n)},t.lengthBytesUTF8=C,t.stackSave=oe,t.stackRestore=ie,t.stackAlloc=ue,j=function e(){ae||se(),ae||(j=e)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return se(),e.ready});e.exports=r},967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iterateExtraOptions=void 0,t.iterateExtraOptions=(e,n,r,a)=>{if("object"==typeof e&&null!==e){if(r.has(e))throw new Error("Circular reference in options");r.add(e)}Object.entries(e).forEach((([e,o])=>{const i=n?n+e:e;if("object"==typeof o)t.iterateExtraOptions(o,i+".",r,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can\'t handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},586:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setRunOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setRunOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};try{if(void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);void 0===(null==e?void 0:e.terminate)&&(u.terminate=!1);let o=0;if(void 0!==(null==e?void 0:e.tag)&&(o=a.allocWasmString(e.tag,i)),n=t._OrtCreateRunOptions(u.logSeverityLevel,u.logVerbosityLevel,!!u.terminate,o),0===n)throw new Error("Can\'t create run options");return void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddRunConfigEntry(n,o,u))throw new Error(`Can\'t set a run config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseRunOptions(n),i.forEach(t._free),e}}},919:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSessionOptions=void 0;const r=n(967),a=n(983),o=n(361);t.setSessionOptions=e=>{const t=o.getInstance();let n=0;const i=[],u=e||{};(e=>{e.extra||(e.extra={}),e.extra.session||(e.extra.session={});const t=e.extra.session;t.use_ort_model_bytes_directly||(t.use_ort_model_bytes_directly="1")})(u);try{void 0===(null==e?void 0:e.graphOptimizationLevel)&&(u.graphOptimizationLevel="all");const s=(e=>{switch(e){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${e}`)}})(u.graphOptimizationLevel);void 0===(null==e?void 0:e.enableCpuMemArena)&&(u.enableCpuMemArena=!0),void 0===(null==e?void 0:e.enableMemPattern)&&(u.enableMemPattern=!0),void 0===(null==e?void 0:e.executionMode)&&(u.executionMode="sequential");const c=(e=>{switch(e){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${e}`)}})(u.executionMode);let l=0;if(void 0!==(null==e?void 0:e.logId)&&(l=a.allocWasmString(e.logId,i)),void 0===(null==e?void 0:e.logSeverityLevel))u.logSeverityLevel=2;else if("number"!=typeof e.logSeverityLevel||!Number.isInteger(e.logSeverityLevel)||e.logSeverityLevel<0||e.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${e.logSeverityLevel}`);if(void 0===(null==e?void 0:e.logVerbosityLevel))u.logVerbosityLevel=0;else if("number"!=typeof e.logVerbosityLevel||!Number.isInteger(e.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${e.logVerbosityLevel}`);if(void 0===(null==e?void 0:e.enableProfiling)&&(u.enableProfiling=!1),n=t._OrtCreateSessionOptions(s,!!u.enableCpuMemArena,!!u.enableMemPattern,c,!!u.enableProfiling,0,l,u.logSeverityLevel,u.logVerbosityLevel),0===n)throw new Error("Can\'t create session options");return(null==e?void 0:e.executionProviders)&&((e,t,n)=>{for(const r of t){let t="string"==typeof r?r:r.name;switch(t){case"xnnpack":t="XNNPACK";break;case"wasm":case"cpu":continue;default:throw new Error(`not supported EP: ${t}`)}const i=a.allocWasmString(t,n);if(0!==o.getInstance()._OrtAppendExecutionProvider(e,i))throw new Error(`Can\'t append execution provider: ${t}`)}})(n,e.executionProviders,i),void 0!==(null==e?void 0:e.extra)&&r.iterateExtraOptions(e.extra,"",new WeakSet,((e,r)=>{const o=a.allocWasmString(e,i),u=a.allocWasmString(r,i);if(0!==t._OrtAddSessionConfigEntry(n,o,u))throw new Error(`Can\'t set a session config entry: ${e} - ${r}`)})),[n,i]}catch(e){throw 0!==n&&t._OrtReleaseSessionOptions(n),i.forEach(t._free),e}}},983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allocWasmString=void 0;const r=n(361);t.allocWasmString=(e,t)=>{const n=r.getInstance(),a=n.lengthBytesUTF8(e)+1,o=n._malloc(a);return n.stringToUTF8(e,o,a),t.push(o),o}},349:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractTransferableBuffers=t.endProfiling=t.run=t.releaseSession=t.createSession=t.initOrt=void 0;const r=n(586),a=n(919),o=n(983),i=n(361);t.initOrt=(e,t)=>{const n=i.getInstance()._OrtInit(e,t);if(0!==n)throw new Error(`Can\'t initialize onnxruntime. error code = ${n}`)};const u=new Map;t.createSession=(e,t)=>{const n=i.getInstance(),r=n._malloc(e.byteLength);let o=0,s=0,c=[];try{if([s,c]=a.setSessionOptions(t),n.HEAPU8.set(e,r),o=n._OrtCreateSession(r,e.byteLength,s),0===o)throw new Error("Can\'t create a session")}finally{n._free(r),n._OrtReleaseSessionOptions(s),c.forEach(n._free)}const l=n._OrtGetInputCount(o),f=n._OrtGetOutputCount(o),p=[],d=[],m=[],g=[];for(let e=0;e<l;e++){const t=n._OrtGetInputName(o,e);if(0===t)throw new Error("Can\'t get an input name");d.push(t),p.push(n.UTF8ToString(t))}for(let e=0;e<f;e++){const t=n._OrtGetOutputName(o,e);if(0===t)throw new Error("Can\'t get an output name");g.push(t),m.push(n.UTF8ToString(t))}return u.set(o,[o,d,g]),[o,p,m]},t.releaseSession=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=n[1],o=n[2];a.forEach(t._OrtFree),o.forEach(t._OrtFree),t._OrtReleaseSession(r),u.delete(e)};const s=e=>{switch(e){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${e}`)}},c=e=>{switch(e){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:return"int32";case 12:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";case 7:return"int64";case 13:return"uint64";default:throw new Error(`unsupported data type: ${e}`)}},l=e=>{switch(e){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${e}`)}};t.run=(e,t,n,a,f)=>{const p=i.getInstance(),d=u.get(e);if(!d)throw new Error("invalid session id");const m=d[0],g=d[1],h=d[2],y=t.length,v=a.length;let b=0,_=[];const w=[],O=[];try{[b,_]=r.setRunOptions(f);for(let e=0;e<y;e++){const t=n[e][0],r=n[e][1],a=n[e][2];let i,u;if(Array.isArray(a)){u=4*a.length,i=p._malloc(u),O.push(i);let e=i/4;for(let t=0;t<a.length;t++){if("string"!=typeof a[t])throw new TypeError(`tensor data at index ${t} is not a string`);p.HEAPU32[e++]=o.allocWasmString(a[t],O)}}else u=a.byteLength,i=p._malloc(u),O.push(i),p.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,u),i);const c=p.stackSave(),l=p.stackAlloc(4*r.length);try{let e=l/4;r.forEach((t=>p.HEAP32[e++]=t));const n=p._OrtCreateTensor(s(t),i,u,l,r.length);if(0===n)throw new Error("Can\'t create a tensor");w.push(n)}finally{p.stackRestore(c)}}const e=p.stackSave(),i=p.stackAlloc(4*y),u=p.stackAlloc(4*y),d=p.stackAlloc(4*v),S=p.stackAlloc(4*v);try{let n=i/4,r=u/4,o=d/4,s=S/4;for(let e=0;e<y;e++)p.HEAPU32[n++]=w[e],p.HEAPU32[r++]=g[t[e]];for(let e=0;e<v;e++)p.HEAPU32[o++]=0,p.HEAPU32[s++]=h[a[e]];let f=p._OrtRun(m,u,i,y,S,v,d,b);const _=[];if(0===f)for(let e=0;e<v;e++){const t=p.HEAPU32[d/4+e],n=p.stackSave(),r=p.stackAlloc(16);let a,o=0;try{if(f=p._OrtGetTensorData(t,r,r+4,r+8,r+12),0!==f)throw new Error(`Can\'t access output tensor data. error code = ${f}`);let e=r/4;const i=p.HEAPU32[e++];o=p.HEAPU32[e++];const u=p.HEAPU32[e++],s=p.HEAPU32[e++],d=[];for(let e=0;e<s;e++)d.push(p.HEAPU32[u/4+e]);p._OrtFree(u);const m=0===d.length?1:d.reduce(((e,t)=>e*t));if(a=c(i),"string"===a){const e=[];let t=o/4;for(let n=0;n<m;n++){const r=p.HEAPU32[t++],a=n===m-1?void 0:p.HEAPU32[t]-r;e.push(p.UTF8ToString(r,a))}_.push([a,d,e])}else{const e=new(l(a))(m);new Uint8Array(e.buffer,e.byteOffset,e.byteLength).set(p.HEAPU8.subarray(o,o+e.byteLength)),_.push([a,d,e])}}finally{p.stackRestore(n),"string"===a&&o&&p._free(o),p._OrtReleaseTensor(t)}}if(0===f)return _;throw new Error(`failed to call OrtRun(). error code = ${f}.`)}finally{p.stackRestore(e)}}finally{w.forEach(p._OrtReleaseTensor),O.forEach(p._free),p._OrtReleaseRunOptions(b),_.forEach(p._free)}},t.endProfiling=e=>{const t=i.getInstance(),n=u.get(e);if(!n)throw new Error("invalid session id");const r=n[0],a=t._OrtEndProfiling(r);if(0===a)throw new Error("Can\'t get an profile file name");t._OrtFree(a)},t.extractTransferableBuffers=e=>{const t=[];for(const n of e){const e=n[2];!Array.isArray(e)&&e.buffer&&t.push(e.buffer)}return t}},361:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.dispose=t.getInstance=t.initializeWebAssembly=void 0;const u=o(n(449)),s=i(n(932)),c=n(474);let l,f=!1,p=!1,d=!1;const m=(e,t)=>t?e?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":e?"ort-wasm-simd.wasm":"ort-wasm.wasm";t.initializeWebAssembly=async e=>{if(f)return Promise.resolve();if(p)throw new Error("multiple calls to \'initializeWebAssembly()\' detected.");if(d)throw new Error("previous call to \'initializeWebAssembly()\' failed.");p=!0;const t=e.initTimeout,r=e.numThreads,a=e.simd,o=r>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(e){return!1}})(),i=a&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(e){return!1}})(),g="string"==typeof e.wasmPaths?e.wasmPaths:void 0,h=m(!1,o),y=m(i,o),v="object"==typeof e.wasmPaths?e.wasmPaths[y]:void 0;let b=!1;const _=[];if(t>0&&_.push(new Promise((e=>{setTimeout((()=>{b=!0,e()}),t)}))),_.push(new Promise(((e,t)=>{const r=o?c:s.default,a={locateFile:(e,t)=>{if(o&&e.endsWith(".worker.js")&&"undefined"!=typeof Blob)return URL.createObjectURL(new Blob([n(118)],{type:"text/javascript"}));if(e===h){const e=null!=g?g:t;return null!=v?v:e+y}return t+e}};if(o)if("undefined"==typeof Blob)a.mainScriptUrlOrBlob=u.join("/","ort-wasm-threaded.js");else{const e=`var ortWasmThreaded=(function(){var _scriptDir;return ${r.toString()}})();`;a.mainScriptUrlOrBlob=new Blob([e],{type:"text/javascript"})}r(a).then((t=>{p=!1,f=!0,l=t,e()}),(e=>{p=!1,d=!0,t(e)}))}))),await Promise.race(_),b)throw new Error(`WebAssembly backend initializing failed due to timeout: ${t}ms`)},t.getInstance=()=>{if(f&&l)return l;throw new Error("WebAssembly is not initialized yet.")},t.dispose=()=>{var e;!f||p||d||(p=!0,null===(e=l.PThread)||void 0===e||e.terminateAllThreads(),l=void 0,p=!1,f=!1,d=!0)}},384:()=>{},993:()=>{},908:()=>{},953:()=>{},925:()=>{},449:()=>{}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{"use strict";const e=n(349),t=n(361);self.onmessage=n=>{switch(n.data.type){case"init-wasm":t.initializeWebAssembly(n.data.in).then((()=>postMessage({type:"init-wasm"})),(e=>postMessage({type:"init-wasm",err:e})));break;case"init-ort":try{const{numThreads:t,loggingLevel:r}=n.data.in;e.initOrt(t,r),postMessage({type:"init-ort"})}catch(e){postMessage({type:"init-ort",err:e})}break;case"create":try{const{model:t,options:r}=n.data.in,a=e.createSession(t,r);postMessage({type:"create",out:a})}catch(e){postMessage({type:"create",err:e})}break;case"release":try{const t=n.data.in;e.releaseSession(t),postMessage({type:"release"})}catch(e){postMessage({type:"release",err:e})}break;case"run":try{const{sessionId:t,inputIndices:r,inputs:a,outputIndices:o,options:i}=n.data.in,u=e.run(t,r,a,o,i);postMessage({type:"run",out:u},e.extractTransferableBuffers(u))}catch(e){postMessage({type:"run",err:e})}break;case"end-profiling":try{const t=n.data.in;e.endProfiling(t),postMessage({type:"end-profiling"})}catch(e){postMessage({type:"end-profiling",err:e})}}}})()})();\n',"Worker",void 0,void 0)}},477:o=>{o.exports=function(n,u,l,a){var d=self||window;try{try{var c;try{c=new d.Blob([n])}catch{(c=new(d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder)).append(n),c=c.getBlob()}var m=d.URL||d.webkitURL,b=m.createObjectURL(c),f=new d[u](b,l);return m.revokeObjectURL(b),f}catch{return new d[u]("data:application/javascript,".concat(encodeURIComponent(n)),l)}}catch{if(!a)throw Error("Inline worker is not supported");return new d[u](a,l)}}},2174:o=>{o.exports=__WEBPACK_EXTERNAL_MODULE__2174__},7067:()=>{},1296:()=>{},1384:()=>{},3993:()=>{},908:()=>{},6953:()=>{},9925:()=>{},6449:()=>{},2203:()=>{},5381:()=>{},8022:()=>{}},__webpack_module_cache__={};function __webpack_require__(o){var n=__webpack_module_cache__[o];if(n!==void 0)return n.exports;var u=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o].call(u.exports,u,u.exports,__webpack_require__),u.exports}__webpack_require__.n=o=>{var n=o&&o.__esModule?()=>o.default:()=>o;return __webpack_require__.d(n,{a:n}),n},__webpack_require__.d=(o,n)=>{for(var u in n)__webpack_require__.o(n,u)&&!__webpack_require__.o(o,u)&&Object.defineProperty(o,u,{enumerable:!0,get:n[u]})},__webpack_require__.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),__webpack_require__.o=(o,n)=>Object.prototype.hasOwnProperty.call(o,n),__webpack_require__.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__(6018);return __webpack_exports__})()})})(ortWeb_min);const modelUrl="/assets/yolo-6b4417ab.onnx";var ndarrayOps={};function unique_pred(o,n){for(var u=1,l=o.length,a=o[0],d=o[0],c=1;c<l;++c)if(d=a,a=o[c],n(a,d)){if(c===u){u++;continue}o[u++]=a}return o.length=u,o}function unique_eq(o){for(var n=1,u=o.length,l=o[0],a=o[0],d=1;d<u;++d,a=l)if(a=l,l=o[d],l!==a){if(d===n){n++;continue}o[n++]=l}return o.length=n,o}function unique(o,n,u){return o.length===0?o:n?(u||o.sort(n),unique_pred(o,n)):(u||o.sort(),unique_eq(o))}var uniq$1=unique,uniq=uniq$1;function innerFill(o,n,u){var l=o.length,a=n.arrayArgs.length,d=n.indexArgs.length>0,c=[],m=[],b=0,f=0,s,t;for(s=0;s<l;++s)m.push(["i",s,"=0"].join(""));for(t=0;t<a;++t)for(s=0;s<l;++s)f=b,b=o[s],s===0?m.push(["d",t,"s",s,"=t",t,"p",b].join("")):m.push(["d",t,"s",s,"=(t",t,"p",b,"-s",f,"*t",t,"p",f,")"].join(""));for(m.length>0&&c.push("var "+m.join(",")),s=l-1;s>=0;--s)b=o[s],c.push(["for(i",s,"=0;i",s,"<s",b,";++i",s,"){"].join(""));for(c.push(u),s=0;s<l;++s){for(f=b,b=o[s],t=0;t<a;++t)c.push(["p",t,"+=d",t,"s",s].join(""));d&&(s>0&&c.push(["index[",f,"]-=s",f].join("")),c.push(["++index[",b,"]"].join(""))),c.push("}")}return c.join(`
`)}function outerFill(o,n,u,l){for(var a=n.length,d=u.arrayArgs.length,c=u.blockSize,m=u.indexArgs.length>0,b=[],f=0;f<d;++f)b.push(["var offset",f,"=p",f].join(""));for(var f=o;f<a;++f)b.push(["for(var j"+f+"=SS[",n[f],"]|0;j",f,">0;){"].join("")),b.push(["if(j",f,"<",c,"){"].join("")),b.push(["s",n[f],"=j",f].join("")),b.push(["j",f,"=0"].join("")),b.push(["}else{s",n[f],"=",c].join("")),b.push(["j",f,"-=",c,"}"].join("")),m&&b.push(["index[",n[f],"]=j",f].join(""));for(var f=0;f<d;++f){for(var s=["offset"+f],t=o;t<a;++t)s.push(["j",t,"*t",f,"p",n[t]].join(""));b.push(["p",f,"=(",s.join("+"),")"].join(""))}b.push(innerFill(n,u,l));for(var f=o;f<a;++f)b.push("}");return b.join(`
`)}function countMatches(o){for(var n=0,u=o[0].length;n<u;){for(var l=1;l<o.length;++l)if(o[l][n]!==o[0][n])return n;++n}return n}function processBlock(o,n,u){for(var l=o.body,a=[],d=[],c=0;c<o.args.length;++c){var m=o.args[c];if(!(m.count<=0)){var b=new RegExp(m.name,"g"),f="",s=n.arrayArgs.indexOf(c);switch(n.argTypes[c]){case"offset":var t=n.offsetArgIndex.indexOf(c),e=n.offsetArgs[t];s=e.array,f="+q"+t;case"array":f="p"+s+f;var r="l"+c,i="a"+s;if(n.arrayBlockIndices[s]===0)m.count===1?u[s]==="generic"?m.lvalue?(a.push(["var ",r,"=",i,".get(",f,")"].join("")),l=l.replace(b,r),d.push([i,".set(",f,",",r,")"].join(""))):l=l.replace(b,[i,".get(",f,")"].join("")):l=l.replace(b,[i,"[",f,"]"].join("")):u[s]==="generic"?(a.push(["var ",r,"=",i,".get(",f,")"].join("")),l=l.replace(b,r),m.lvalue&&d.push([i,".set(",f,",",r,")"].join(""))):(a.push(["var ",r,"=",i,"[",f,"]"].join("")),l=l.replace(b,r),m.lvalue&&d.push([i,"[",f,"]=",r].join("")));else{for(var g=[m.name],y=[f],_=0;_<Math.abs(n.arrayBlockIndices[s]);_++)g.push("\\s*\\[([^\\]]+)\\]"),y.push("$"+(_+1)+"*t"+s+"b"+_);if(b=new RegExp(g.join(""),"g"),f=y.join("+"),u[s]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");l=l.replace(b,[i,"[",f,"]"].join(""))}break;case"scalar":l=l.replace(b,"Y"+n.scalarArgs.indexOf(c));break;case"index":l=l.replace(b,"index");break;case"shape":l=l.replace(b,"shape");break}}}return[a.join(`
`),l,d.join(`
`)].join(`
`).trim()}function typeSummary(o){for(var n=new Array(o.length),u=!0,l=0;l<o.length;++l){var a=o[l],d=a.match(/\d+/);d?d=d[0]:d="",a.charAt(0)===0?n[l]="u"+a.charAt(1)+d:n[l]=a.charAt(0)+d,l>0&&(u=u&&n[l]===n[l-1])}return u?n[0]:n.join("")}function generateCWiseOp(o,n){for(var u=n[1].length-Math.abs(o.arrayBlockIndices[0])|0,l=new Array(o.arrayArgs.length),a=new Array(o.arrayArgs.length),d=0;d<o.arrayArgs.length;++d)a[d]=n[2*d],l[d]=n[2*d+1];for(var c=[],m=[],b=[],f=[],s=[],d=0;d<o.arrayArgs.length;++d){o.arrayBlockIndices[d]<0?(b.push(0),f.push(u),c.push(u),m.push(u+o.arrayBlockIndices[d])):(b.push(o.arrayBlockIndices[d]),f.push(o.arrayBlockIndices[d]+u),c.push(0),m.push(o.arrayBlockIndices[d]));for(var t=[],e=0;e<l[d].length;e++)b[d]<=l[d][e]&&l[d][e]<f[d]&&t.push(l[d][e]-b[d]);s.push(t)}for(var r=["SS"],i=["'use strict'"],g=[],e=0;e<u;++e)g.push(["s",e,"=SS[",e,"]"].join(""));for(var d=0;d<o.arrayArgs.length;++d){r.push("a"+d),r.push("t"+d),r.push("p"+d);for(var e=0;e<u;++e)g.push(["t",d,"p",e,"=t",d,"[",b[d]+e,"]"].join(""));for(var e=0;e<Math.abs(o.arrayBlockIndices[d]);++e)g.push(["t",d,"b",e,"=t",d,"[",c[d]+e,"]"].join(""))}for(var d=0;d<o.scalarArgs.length;++d)r.push("Y"+d);if(o.shapeArgs.length>0&&g.push("shape=SS.slice(0)"),o.indexArgs.length>0){for(var y=new Array(u),d=0;d<u;++d)y[d]="0";g.push(["index=[",y.join(","),"]"].join(""))}for(var d=0;d<o.offsetArgs.length;++d){for(var _=o.offsetArgs[d],v=[],e=0;e<_.offset.length;++e)_.offset[e]!==0&&(_.offset[e]===1?v.push(["t",_.array,"p",e].join("")):v.push([_.offset[e],"*t",_.array,"p",e].join("")));v.length===0?g.push("q"+d+"=0"):g.push(["q",d,"=",v.join("+")].join(""))}var w=uniq([].concat(o.pre.thisVars).concat(o.body.thisVars).concat(o.post.thisVars));g=g.concat(w),g.length>0&&i.push("var "+g.join(","));for(var d=0;d<o.arrayArgs.length;++d)i.push("p"+d+"|=0");o.pre.body.length>3&&i.push(processBlock(o.pre,o,a));var x=processBlock(o.body,o,a),T=countMatches(s);T<u?i.push(outerFill(T,s[0],o,x)):i.push(innerFill(s[0],o,x)),o.post.body.length>3&&i.push(processBlock(o.post,o,a)),o.debug&&console.log("-----Generated cwise routine for ",n,`:
`+i.join(`
`)+`
----------`);var A=[o.funcName||"unnamed","_cwise_loop_",l[0].join("s"),"m",T,typeSummary(a)].join(""),E=new Function(["function ",A,"(",r.join(","),"){",i.join(`
`),"} return ",A].join(""));return E()}var compile$1=generateCWiseOp,compile=compile$1;function createThunk$1(o){var n=["'use strict'","var CACHED={}"],u=[],l=o.funcName+"_cwise_thunk";n.push(["return function ",l,"(",o.shimArgs.join(","),"){"].join(""));for(var a=[],d=[],c=[["array",o.arrayArgs[0],".shape.slice(",Math.max(0,o.arrayBlockIndices[0]),o.arrayBlockIndices[0]<0?","+o.arrayBlockIndices[0]+")":")"].join("")],m=[],b=[],f=0;f<o.arrayArgs.length;++f){var s=o.arrayArgs[f];u.push(["t",s,"=array",s,".dtype,","r",s,"=array",s,".order"].join("")),a.push("t"+s),a.push("r"+s),d.push("t"+s),d.push("r"+s+".join()"),c.push("array"+s+".data"),c.push("array"+s+".stride"),c.push("array"+s+".offset|0"),f>0&&(m.push("array"+o.arrayArgs[0]+".shape.length===array"+s+".shape.length+"+(Math.abs(o.arrayBlockIndices[0])-Math.abs(o.arrayBlockIndices[f]))),b.push("array"+o.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,o.arrayBlockIndices[0])+"]===array"+s+".shape[shapeIndex+"+Math.max(0,o.arrayBlockIndices[f])+"]"))}o.arrayArgs.length>1&&(n.push("if (!("+m.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),n.push("for(var shapeIndex=array"+o.arrayArgs[0]+".shape.length-"+Math.abs(o.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),n.push("if (!("+b.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),n.push("}"));for(var f=0;f<o.scalarArgs.length;++f)c.push("scalar"+o.scalarArgs[f]);u.push(["type=[",d.join(","),"].join()"].join("")),u.push("proc=CACHED[type]"),n.push("var "+u.join(",")),n.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",c.join(","),")}"].join("")),o.debug&&console.log(`-----Generated thunk:
`+n.join(`
`)+`
----------`);var t=new Function("compile",n.join(`
`));return t(compile.bind(void 0,o))}var thunk=createThunk$1,createThunk=thunk;function Procedure(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function compileCwise(o){var n=new Procedure;n.pre=o.pre,n.body=o.body,n.post=o.post;var u=o.args.slice(0);n.argTypes=u;for(var l=0;l<u.length;++l){var a=u[l];if(a==="array"||typeof a=="object"&&a.blockIndices){if(n.argTypes[l]="array",n.arrayArgs.push(l),n.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),n.shimArgs.push("array"+l),l<n.pre.args.length&&n.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array args");if(l<n.post.args.length&&n.post.args[l].count>0)throw new Error("cwise: post() block may not reference array args")}else if(a==="scalar")n.scalarArgs.push(l),n.shimArgs.push("scalar"+l);else if(a==="index"){if(n.indexArgs.push(l),l<n.pre.args.length&&n.pre.args[l].count>0)throw new Error("cwise: pre() block may not reference array index");if(l<n.body.args.length&&n.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array index");if(l<n.post.args.length&&n.post.args[l].count>0)throw new Error("cwise: post() block may not reference array index")}else if(a==="shape"){if(n.shapeArgs.push(l),l<n.pre.args.length&&n.pre.args[l].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(l<n.body.args.length&&n.body.args[l].lvalue)throw new Error("cwise: body() block may not write to array shape");if(l<n.post.args.length&&n.post.args[l].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof a=="object"&&a.offset)n.argTypes[l]="offset",n.offsetArgs.push({array:a.array,offset:a.offset}),n.offsetArgIndex.push(l);else throw new Error("cwise: Unknown argument type "+u[l])}if(n.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(n.pre.args.length>u.length)throw new Error("cwise: Too many arguments in pre() block");if(n.body.args.length>u.length)throw new Error("cwise: Too many arguments in body() block");if(n.post.args.length>u.length)throw new Error("cwise: Too many arguments in post() block");return n.debug=!!o.printCode||!!o.debug,n.funcName=o.funcName||"cwise",n.blockSize=o.blockSize||64,createThunk(n)}var compiler=compileCwise;(function(o){var n=compiler,u={body:"",args:[],thisVars:[],localVars:[]};function l(e){if(!e)return u;for(var r=0;r<e.args.length;++r){var i=e.args[r];r===0?e.args[r]={name:i,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:e.args[r]={name:i,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){return n({args:e.args,pre:l(e.pre),body:l(e.body),post:l(e.proc),funcName:e.funcName})}function d(e){for(var r=[],i=0;i<e.args.length;++i)r.push("a"+i);var g=new Function("P",["return function ",e.funcName,"_ndarrayops(",r.join(","),") {P(",r.join(","),");return a0}"].join(""));return g(a(e))}var c={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var e in c){var r=c[e];o[e]=d({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),o[e+"eq"]=d({args:["array","array"],body:{args:["a","b"],body:"a"+r+"=b"},rvalue:!0,funcName:e+"eq"}),o[e+"s"]=d({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),o[e+"seq"]=d({args:["array","scalar"],body:{args:["a","s"],body:"a"+r+"=s"},rvalue:!0,funcName:e+"seq"})}})();var m={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var e in m){var r=m[e];o[e]=d({args:["array","array"],body:{args:["a","b"],body:"a="+r+"b"},funcName:e}),o[e+"eq"]=d({args:["array"],body:{args:["a"],body:"a="+r+"a"},rvalue:!0,count:2,funcName:e+"eq"})}})();var b={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var e in b){var r=b[e];o[e]=d({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+r+"c"},funcName:e}),o[e+"s"]=d({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+r+"s"},funcName:e+"s"}),o[e+"eq"]=d({args:["array","array"],body:{args:["a","b"],body:"a=a"+r+"b"},rvalue:!0,count:2,funcName:e+"eq"}),o[e+"seq"]=d({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+r+"s"},rvalue:!0,count:2,funcName:e+"seq"})}})();var f=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var e=0;e<f.length;++e){var r=f[e];o[r]=d({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:r}),o[r+"eq"]=d({args:["array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"})}})();var s=["max","min","atan2","pow"];(function(){for(var e=0;e<s.length;++e){var r=s[e];o[r]=d({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r}),o[r+"s"]=d({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:r+"s"}),o[r+"eq"]=d({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"eq"}),o[r+"seq"]=d({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"seq"})}})();var t=["atan2","pow"];(function(){for(var e=0;e<t.length;++e){var r=t[e];o[r+"op"]=d({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"op"}),o[r+"ops"]=d({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:r+"ops"}),o[r+"opeq"]=d({args:["array","array"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opeq"}),o[r+"opseq"]=d({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+r,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:r+"opseq"})}})(),o.any=n({args:["array"],pre:u,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),o.all=n({args:["array"],pre:u,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),o.sum=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),o.prod=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),o.norm2squared=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),o.norm2=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),o.norminf=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),o.norm1=n({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),o.sup=n({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),o.inf=n({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),o.argmin=n({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),o.argmax=n({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),o.random=d({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),o.assign=d({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),o.assigns=d({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),o.equals=n({args:["array","array"],pre:u,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})})(ndarrayOps);function iota$1(o){for(var n=new Array(o),u=0;u<o;++u)n[u]=u;return n}var iota_1=iota$1;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var isBuffer_1=function(o){return o!=null&&(isBuffer$1(o)||isSlowBuffer(o)||!!o._isBuffer)};function isBuffer$1(o){return!!o.constructor&&typeof o.constructor.isBuffer=="function"&&o.constructor.isBuffer(o)}function isSlowBuffer(o){return typeof o.readFloatLE=="function"&&typeof o.slice=="function"&&isBuffer$1(o.slice(0,0))}var iota=iota_1,isBuffer=isBuffer_1,hasTypedArrays=typeof Float64Array<"u";function compare1st(o,n){return o[0]-n[0]}function order(){var o=this.stride,n=new Array(o.length),u;for(u=0;u<n.length;++u)n[u]=[Math.abs(o[u]),u];n.sort(compare1st);var l=new Array(n.length);for(u=0;u<l.length;++u)l[u]=n[u][1];return l}function compileConstructor(o,n){var u=["View",n,"d",o].join("");n<0&&(u="View_Nil"+o);var l=o==="generic";if(n===-1){var a="function "+u+"(a){this.data=a;};var proto="+u+".prototype;proto.dtype='"+o+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+u+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+u+"(a){return new "+u+"(a);}",g=new Function(a);return g()}else if(n===0){var a="function "+u+"(a,d) {this.data = a;this.offset = d};var proto="+u+".prototype;proto.dtype='"+o+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+u+"_copy() {return new "+u+"(this.data,this.offset)};proto.pick=function "+u+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+u+"_get(){return "+(l?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+u+"_set(v){return "+(l?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+u+"(a,b,c,d){return new "+u+"(a,d)}",g=new Function("TrivialArray",a);return g(CACHED_CONSTRUCTORS[o][0])}var a=["'use strict'"],d=iota(n),c=d.map(function(y){return"i"+y}),m="this.offset+"+d.map(function(y){return"this.stride["+y+"]*i"+y}).join("+"),b=d.map(function(y){return"b"+y}).join(","),f=d.map(function(y){return"c"+y}).join(",");a.push("function "+u+"(a,"+b+","+f+",d){this.data=a","this.shape=["+b+"]","this.stride=["+f+"]","this.offset=d|0}","var proto="+u+".prototype","proto.dtype='"+o+"'","proto.dimension="+n),a.push("Object.defineProperty(proto,'size',{get:function "+u+"_size(){return "+d.map(function(y){return"this.shape["+y+"]"}).join("*"),"}})"),n===1?a.push("proto.order=[0]"):(a.push("Object.defineProperty(proto,'order',{get:"),n<4?(a.push("function "+u+"_order(){"),n===2?a.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):n===3&&a.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):a.push("ORDER})")),a.push("proto.set=function "+u+"_set("+c.join(",")+",v){"),l?a.push("return this.data.set("+m+",v)}"):a.push("return this.data["+m+"]=v}"),a.push("proto.get=function "+u+"_get("+c.join(",")+"){"),l?a.push("return this.data.get("+m+")}"):a.push("return this.data["+m+"]}"),a.push("proto.index=function "+u+"_index(",c.join(),"){return "+m+"}"),a.push("proto.hi=function "+u+"_hi("+c.join(",")+"){return new "+u+"(this.data,"+d.map(function(y){return["(typeof i",y,"!=='number'||i",y,"<0)?this.shape[",y,"]:i",y,"|0"].join("")}).join(",")+","+d.map(function(y){return"this.stride["+y+"]"}).join(",")+",this.offset)}");var s=d.map(function(y){return"a"+y+"=this.shape["+y+"]"}),t=d.map(function(y){return"c"+y+"=this.stride["+y+"]"});a.push("proto.lo=function "+u+"_lo("+c.join(",")+"){var b=this.offset,d=0,"+s.join(",")+","+t.join(","));for(var e=0;e<n;++e)a.push("if(typeof i"+e+"==='number'&&i"+e+">=0){d=i"+e+"|0;b+=c"+e+"*d;a"+e+"-=d}");a.push("return new "+u+"(this.data,"+d.map(function(y){return"a"+y}).join(",")+","+d.map(function(y){return"c"+y}).join(",")+",b)}"),a.push("proto.step=function "+u+"_step("+c.join(",")+"){var "+d.map(function(y){return"a"+y+"=this.shape["+y+"]"}).join(",")+","+d.map(function(y){return"b"+y+"=this.stride["+y+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var e=0;e<n;++e)a.push("if(typeof i"+e+"==='number'){d=i"+e+"|0;if(d<0){c+=b"+e+"*(a"+e+"-1);a"+e+"=ceil(-a"+e+"/d)}else{a"+e+"=ceil(a"+e+"/d)}b"+e+"*=d}");a.push("return new "+u+"(this.data,"+d.map(function(y){return"a"+y}).join(",")+","+d.map(function(y){return"b"+y}).join(",")+",c)}");for(var r=new Array(n),i=new Array(n),e=0;e<n;++e)r[e]="a[i"+e+"]",i[e]="b[i"+e+"]";a.push("proto.transpose=function "+u+"_transpose("+c+"){"+c.map(function(y,_){return y+"=("+y+"===undefined?"+_+":"+y+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+u+"(this.data,"+r.join(",")+","+i.join(",")+",this.offset)}"),a.push("proto.pick=function "+u+"_pick("+c+"){var a=[],b=[],c=this.offset");for(var e=0;e<n;++e)a.push("if(typeof i"+e+"==='number'&&i"+e+">=0){c=(c+this.stride["+e+"]*i"+e+")|0}else{a.push(this.shape["+e+"]);b.push(this.stride["+e+"])}");a.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),a.push("return function construct_"+u+"(data,shape,stride,offset){return new "+u+"(data,"+d.map(function(y){return"shape["+y+"]"}).join(",")+","+d.map(function(y){return"stride["+y+"]"}).join(",")+",offset)}");var g=new Function("CTOR_LIST","ORDER",a.join(`
`));return g(CACHED_CONSTRUCTORS[o],order)}function arrayDType(o){if(isBuffer(o))return"buffer";if(hasTypedArrays)switch(Object.prototype.toString.call(o)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(o)?"array":"generic"}var CACHED_CONSTRUCTORS={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function wrappedNDArrayCtor(o,n,u,l){if(o===void 0){var f=CACHED_CONSTRUCTORS.array[0];return f([])}else typeof o=="number"&&(o=[o]);n===void 0&&(n=[o.length]);var a=n.length;if(u===void 0){u=new Array(a);for(var d=a-1,c=1;d>=0;--d)u[d]=c,c*=n[d]}if(l===void 0){l=0;for(var d=0;d<a;++d)u[d]<0&&(l-=(n[d]-1)*u[d])}for(var m=arrayDType(o),b=CACHED_CONSTRUCTORS[m];b.length<=a+1;)b.push(compileConstructor(m,b.length-1));var f=b[a+1];return f(o,n,u,l)}var ndarray=wrappedNDArrayCtor;class BroadcastUtil{static calcShape(n,u,l=!1){const a=n.length,d=u.length,c=Math.max(n.length,u.length),m=new Array(c);if(l){if(a<2||d<2)return;const b=BroadcastUtil.calcMatMulShape([n[a-2],n[a-1]],[u[d-2],u[d-1]]);if(b===void 0)return;[m[c-2],m[c-1]]=b}for(let b=l?3:1;b<=c;b++){const f=a-b<0?1:n[a-b],s=d-b<0?1:u[d-b];if(f!==s&&f>1&&s>1)return;m[c-b]=Math.max(f,s)}return m}static calcMatMulShape(n,u){return n[1]!==u[0]?void 0:[n[0],u[1]]}static index(n,u,l=!1){const a=n.length-u.length,d=n.slice(a),c=l?d.length-2:d.length;for(let m=0;m<c;m++)d[m]=n[a+m]%u[m];return d}static calc(n,u,l){const a=BroadcastUtil.calcShape(n.shape,u.shape);if(a){const d=ShapeUtil.size(a),c=ndarray(new n.data.constructor(d),a),m=new Array(a.length);for(let b=0;b<d;b++){let f=b;for(let e=a.length-1;e>=0;e--)m[e]=f%a[e],f=Math.floor(f/a[e]);const s=BroadcastUtil.index(m,n.shape),t=BroadcastUtil.index(m,u.shape);c.set(...m.concat(l(n.get(...s),u.get(...t))))}return c}}static isValidBroadcast(n,u){const l=n.length,a=u.length;if(l>a)return!1;for(let d=1;d<=l;d++)if(n[l-d]!==1&&n[l-d]!==u[a-d])return!1;return!0}}function arrayCopyHelper(o,n,u,l,a){if(l<0||l>=n.length)throw new Error("sourceIndex out of bounds");if(u<0||u>=o.length)throw new Error("targetIndex out of bounds");if(l+a>n.length)throw new Error("source indices to be copied are outside bounds");if(u+a>o.length)throw new Error("target array is too small to hold result");for(let d=0;d<a;d++)o[u+d]=n[l+d]}class TypeUtil{static validateSameTypes(n){if(n.length<2)throw new Error("must contain atleast 2 types to compare equality");const u=n[0];for(let l=0;l<n.length;++l)if(n[l]!==u)throw new Error("input types are ")}}class ShapeUtil{static validateEqualDims(n){if(n.length<2)throw new Error("must contain atleast 2 shapes to compare equality");const u=n[0],l=u.length;for(let a=1;a<n.length;++a){const d=n[a];if(d.length!==l)throw new Error("rank is not the same for given inpu shapes");for(let c=0;c<l;++c)if(u[c]!==d[c])throw new Error("input shapes are not the same")}}static validateDims(n){if(n.length<0||n.length>6)throw new TypeError("Only rank 0 to 6 is supported for tensor shape.");if(n.length===0)throw new RangeError("Scaler tensor is not implemented yet");for(const u of n){if(!Number.isInteger(u))throw new TypeError(`Invalid shape: ${u} is not an integer`);if(u<=0||u>2147483647)throw new TypeError(`Invalid shape: length ${u} is not allowed`)}}static size(n){return ShapeUtil.getSizeFromDimensionRange(n,0,n.length)}static sizeFromDimension(n,u){if(u>n.length)throw new Error(`invalid dimension of ${u} for sizeFromDimension as Tensor has ${n.length} dimensions.`);return ShapeUtil.getSizeFromDimensionRange(n,u,n.length)}static sizeToDimension(n,u){if(u>n.length)throw new Error(`invalid dimension of ${u} for sizeToDimension as Tensor has ${n.length} dimensions.`);return ShapeUtil.getSizeFromDimensionRange(n,0,u)}static getSizeFromDimensionRange(n,u,l){let a=1;for(let d=u;d<l;d++){if(n[d]<=0)throw new Error("cannot get valid size from specified dimension range. Most likely the range contains 0 or negative values in them.");a*=n[d]}return a}static computeOffset(n,u,l){l===void 0&&(l=n.length);let a=0;for(let d=0;d<l;++d)a+=n[d]*u[d];return a}static computeStrides(n){const u=n.length;if(u<2)return[1];const l=new Array(u);l[u-1]=1,l[u-2]=n[u-1];for(let a=u-3;a>=0;--a)l[a]=l[a+1]*n[a+1];return l}static transpose(n){return n.reverse()}static indicesToOffset(n,u){if(u.length===0)return 0;let a=n[n.length-1];for(let d=0;d<n.length-1;++d)a+=u[d]*n[d];return a}static offsetToIndices(n,u){const l=u.length;if(l===0)return[];if(l===1)return[n];const a=new Array(u.length);for(let d=0;d<a.length-1;++d)a[d]=Math.floor(n/u[d]),n-=a[d]*u[d];return a[a.length-1]=n,a}static getActualAxisFromNegativeValue(n,u){if(n<-u&&n>=u-1)throw new Error("unsupported axis for this operation.");return n<0?n+u:n}static incrementIndex(n,u,l){l===void 0&&(l=u.length);for(let a=l-1;a>=0&&(n[a]++,!(n[a]<u[a]));--a)n[a]=0}static calculateReshapedDims(n,u){const l=u.length,a=new Array(l);let d=-1,c=1;for(let m=0;m<l;m++){if(u[m]<-1)throw new Error("a dimension cannot be less than -1");if(u[m]===-1){if(d!==-1)throw new Error("at most one dimension can be -1");d=m}else{if(u[m]===0){if(m>=n.length)throw new Error("the dimension with value zero exceeds the dimension size of the input tensor");a[m]=n[m]}else a[m]=u[m];c*=a[m]}}if(d!==-1){const m=ShapeUtil.size(n);if(m%c!==0)throw new Error(`the input tensor cannot be reshaped to the requested shape. Input shape: [${n}] Output shape: [${u}]`);a[d]=m/c}return a}static sortBasedOnPerm(n,u){return u?u.map(l=>n[l]):n.slice().reverse()}static padShape(n,u){const l=n.length;return n.map((a,d)=>a+u[d]+u[d+l])}static areEqual(n,u){return n.length!==u.length?!1:n.every((l,a)=>l===u[a])}static splitDimsIntoTwo(n,u){const l=[],a=[];for(let d=0;d<n.length;++d)d===u?l.push(n[d]):a.push(n[d]);return[l,a]}}class TypedArrayUtil{static createTypedArray(n,u){switch(n){case"bool":return new Uint8Array(u);case"int32":return new Int32Array(u);case"float32":return new Float32Array(u);default:throw new Error("Unsupported type")}}}function binaryOp(o,n,u,l){const a=BroadcastUtil.calc(ndarray(o.data,o.dims?o.dims.slice(0):[o.data.length]),ndarray(n.data,n.dims?n.dims.slice(0):[n.data.length]),u);if(!a)throw new Error("not broadcastable");const d=l||o.type;return new ortWeb_minExports.Tensor(d,d==="bool"?Uint8Array.from(a.data):a.data,a.shape)}function concat$1(o,n){const u=o[0],l=u.dims?u.dims:[u.data.length];if(n>=l.length||n<-1*l.length)throw new Error("axis specified for concat doesn't match input dimensionality");n<0&&(n=l.length+n);let a=l[n];const d=new Array(l.length);for(let s=1;s<o.length;s++){const t=o[s],e=t.dims?t.dims:[t.data.length];for(let r=0;r<l.length;r++){if(r===n&&(a+=e[r]),l[r]!==e[r])throw new Error("non concat dimensions must match");d[r]=e[r]}}d[n]=a;const c=new ortWeb_minExports.Tensor(u.type,TypedArrayUtil.createTypedArray(o[0].type,ShapeUtil.size(d)),d),m=c.data;let b=1;for(let s=d.length-1;s>=n;s--)b*=d[s];let f=0;for(let s=0;s<o.length;s++){const t=o[s],e=t.dims?t.dims:[t.data.length];let r=1;for(let _=e.length-1;_>=n;_--)r*=e[_];const i=t.data,g=ShapeUtil.size(e);let y=f;for(let _=0,v=0;_<g;_++)m[y+_]=i[_],++v===r&&(y+=b-r,v=0);f+=r}return c}function reshape$1(o,n){const u=ShapeUtil.calculateReshapedDims(o.dims,n),l=new ortWeb_minExports.Tensor(o.type,TypedArrayUtil.createTypedArray(o.type,o.data.length),u),a=o.data,d=l.data;for(let c=0;c<o.data.length;++c)d[c]=a[c];return l}function softmax$1(o,n){const u=o.dims?o.dims:[o.data.length],l=u.length,a=ShapeUtil.getActualAxisFromNegativeValue(n,l),d=ShapeUtil.sizeToDimension(u,a),c=ShapeUtil.sizeFromDimension(u,a),m=o.data,b=TypedArrayUtil.createTypedArray(o.type,o.data.length);for(let f=0;f<d;f++){const s=f*c;let t=Number.MIN_VALUE;for(let r=0;r<c;r++)m[s+r]>t&&(t=m[s+r]);let e=0;for(let r=0;r<c;r++){const i=m[s+r]-t;b[s+r]=Math.exp(i),e+=Math.exp(i)}for(let r=0;r<c;r++)e===0?b[s+r]=0:b[s+r]/=e}return new ortWeb_minExports.Tensor(o.type,b,u)}function transpose$1(o,n){const u=o.dims?o.dims:[o.data.length],l=u.length;let a=new Array(l);if(n&&n.length===l)a=n;else for(let i=0;i<l;i++)a[i]=l-i-1;const d=new Array(l),c=new Array(l);for(let i=0;i<l;i++){const g=a[i];d[i]=u[g],g+1<l?c[i]=ShapeUtil.sizeFromDimension(u,g+1):c[i]=1}const m=new ortWeb_minExports.Tensor(o.type,TypedArrayUtil.createTypedArray(o.type,ShapeUtil.size(d)),d),b=o.data,f=m.data;let s=0,t=1,e=1,r=!0;for(let i=l-1;i>=0;--i){const g=a[i];r&&g===i?t*=u[g]:(r=!1,e*=u[g],++s)}return e===1?doTransposeSingleBlock(t,f,b):t===1?doTransposeEltWise(s,d,e,c,f,b):doTranspose(s,d,e,t,c,f,b),m}function doTranspose(o,n,u,l,a,d,c){const m=new Array(o).fill(0),b=0;let f=0;for(let s=0;s<u;++s){const t=ShapeUtil.computeOffset(m,a,o);arrayCopyHelper(d,c,f,b+t,l),ShapeUtil.incrementIndex(m,n,o),f+=l}}function doTransposeEltWise(o,n,u,l,a,d){const c=new Array(o).fill(0);let m=0;for(let b=0;b<u;++b){const f=ShapeUtil.computeOffset(c,l,o);a[m++]=d[f],ShapeUtil.incrementIndex(c,n,o)}}function doTransposeSingleBlock(o,n,u){arrayCopyHelper(n,u,0,0,o)}function sigmoid$1(o){const n=o.data,u=TypedArrayUtil.createTypedArray(o.type,n.length);for(let l=0;l<n.length;l++)u[l]=1/(1+Math.exp(-n[l]));return new ortWeb_minExports.Tensor(o.type,u,o.dims?o.dims:[o.data.length])}function exp$1(o){if(o.type==="string")throw new Error("Unsupported type for transform");const n=o.data,u=TypedArrayUtil.createTypedArray(o.type,n.length);for(let l=0;l<n.length;l++)u[l]=Math.exp(n[l]);return new ortWeb_minExports.Tensor(o.type,u,o.dims?o.dims:[o.data.length])}function as1D(o){return reshape(o,[o.data.length])}function scalar(o,n="float32"){if(n!=="float32"&&n!=="int32")throw new Error("Unsupported type for this transformation");const u=TypedArrayUtil.createTypedArray(n,1);return u[0]=o,new ortWeb_minExports.Tensor(n,u,[1])}function zeros(o,n="float32"){if(n!=="float32"&&n!=="int32"&&n!=="bool")throw new Error("Unsupported type for creating all zero Tensor");return ShapeUtil.validateDims(o),new ortWeb_minExports.Tensor(n,TypedArrayUtil.createTypedArray(n,ShapeUtil.size(o)),o)}function linspace(o,n,u){if(u===0)throw new Error("Must request atleast one sample");const l=(n-o)/(u-1),a=TypedArrayUtil.createTypedArray("float32",u);a[0]=o;for(let d=1;d<a.length;d++)a[d]=a[d-1]+l;return new ortWeb_minExports.Tensor("float32",a,[u])}function range(o,n,u=1,l="float32"){if(u===0)throw new Error("Step size of 0 is not acceptable");if(n<u&&u===1&&(u=-1),o===u||o<n&&u<0||n<o&&u>0)return new ortWeb_minExports.Tensor(l,TypedArrayUtil.createTypedArray(l,1),[1]);const a=Math.abs(Math.ceil((n-o)/u)),d=TypedArrayUtil.createTypedArray(l,a);d[0]=o;for(let c=1;c<d.length;c++)d[c]=d[c-1]+u;return new ortWeb_minExports.Tensor(l,d,[a])}function sigmoid(o){if(o.type!=="float32"&&o.type!=="int32")throw new Error("Unsupported type for transform");return sigmoid$1(o)}function exp(o){if(o.type!=="float32"&&o.type!=="int32")throw new Error("Unsupported type for transform");return exp$1(o)}function add(o,n){if(o.type!=="float32"&&o.type!=="int32"||n.type!=="float32"&&n.type!=="int32")throw new Error("Unsupported type for transform");if(o.type!==n.type)throw new Error("Types are not homogeneous");return binaryOp(o,n,(u,l)=>u+l,o.type)}function sub(o,n){if(o.type!=="float32"&&o.type!=="int32"||n.type!=="float32"&&n.type!=="int32")throw new Error("Unsupported type for transform");if(o.type!==n.type)throw new Error("Types are not homogeneous");return binaryOp(o,n,(u,l)=>u-l,o.type)}function mul(o,n){if(o.type!=="float32"&&o.type!=="int32"||n.type!=="float32"&&n.type!=="int32")throw new Error("Unsupported type for transform");if(o.type!==n.type)throw new Error("Types are not homogeneous");return binaryOp(o,n,(u,l)=>u*l,o.type)}function div(o,n){if(o.type!=="float32"&&o.type!=="int32"||n.type!=="float32"&&n.type!=="int32")throw new Error("Unsupported type for transform");if(o.type!==n.type)throw new Error("Types are not homogeneous");return binaryOp(o,n,(u,l)=>u/l,o.type)}function softmax(o,n=-1){if(o.type!=="float32"&&o.type!=="int32")throw new Error("Unsupported type for transform");return softmax$1(o,n)}function concat(o,n=0,u=!0){if(o.length<2)throw new Error("Must have atleast 2 tensors to concatenate");if(u){const l=[];o.forEach(a=>{l.push(a.type)}),TypeUtil.validateSameTypes(l)}return concat$1(o,n)}function stack(o,n=0){if(o.length<2)throw new Error("Must have atleast 2 tensors to stack");const u=[],l=[];o.forEach(c=>{u.push(c.type),l.push(c.dims?c.dims:[c.data.length])}),TypeUtil.validateSameTypes(u),ShapeUtil.validateEqualDims(l);const a=o[0].dims?o[0].dims.length:1;n=ShapeUtil.getActualAxisFromNegativeValue(n,a);const d=o.map(c=>expandDims(c,n));return concat(d,n,!1)}function gather(o,n,u=0){if(o.type==="string")throw new Error("Unspported type for this transformation");if(n.type!=="int32"||n.dims&&n.dims.length>1)throw new Error("Indices tensor not of specified format");const l=o.dims?o.dims.slice():[o.data.length],a=l,d=n.data;a[u]=d.length;const c=ShapeUtil.computeStrides(l),m=ShapeUtil.computeStrides(a),b=TypedArrayUtil.createTypedArray(o.type,ShapeUtil.size(a)),f=o.data;for(let s=0;s<b.length;++s){const t=ShapeUtil.offsetToIndices(s,m),e=t.slice();e[u]=d[t[u]];const r=ShapeUtil.indicesToOffset(e,c);b[s]=f[r]}return new ortWeb_minExports.Tensor(o.type,b,a)}function slice(o,n,u){if(o.type==="string")throw new Error("Unspported type for this transformation");const l=ShapeUtil.computeStrides(u),a=ShapeUtil.computeStrides(o.dims?o.dims:[o.data.length]),d=o.data,c=TypedArrayUtil.createTypedArray(o.type,ShapeUtil.size(u));for(let m=0;m<c.length;++m){const f=ShapeUtil.offsetToIndices(m,l).map((t,e)=>t+n[e]),s=ShapeUtil.indicesToOffset(f,a);c[m]=d[s]}return new ortWeb_minExports.Tensor(o.type,c,u)}function tile(o,n){if(o.type==="string")throw new Error("Unspported type for this transformation");const u=o.dims?o.dims:[o.data.length],l=u.length,a=new Array(l);if(l!==n.length)throw new Error("Repetitions must be of the same rank as input dims");for(let f=0;f<l;f++)a[f]=u[f]*n[f];const d=ShapeUtil.computeStrides(u),c=ShapeUtil.computeStrides(a),m=TypedArrayUtil.createTypedArray(o.type,ShapeUtil.size(a)),b=o.data;for(let f=0;f<m.length;++f){const s=ShapeUtil.offsetToIndices(f,c),t=new Array(l);for(let r=0;r<l;++r)t[r]=s[r]%o.dims[r];const e=ShapeUtil.indicesToOffset(t,d);m[f]=b[e]}return new ortWeb_minExports.Tensor(o.type,m,a)}function transpose(o,n){return transpose$1(o,n)}function expandDims(o,n=0){n=ShapeUtil.getActualAxisFromNegativeValue(n,o.dims?o.dims.length:1);const u=o.dims?o.dims:[o.data.length],l=u.length+1,a=new Array(l);let d=0;for(let c=0;c<l;++c)c===n?a[c]=1:a[c]=u[d++];return new ortWeb_minExports.Tensor(o.type,o.data,a)}function greaterEqual(o,n){if(o.type!=="float32"&&o.type!=="int32"&&o.type!=="bool"||n.type!=="float32"&&n.type!=="int32"&&n.type!=="bool")throw new Error("Unsupported type for transform");if(o.type!==n.type)throw new Error("Types are not homogeneous");return binaryOp(o,n,(u,l)=>u>=l?1:0,"bool")}function where(o,n,u){if(ShapeUtil.areEqual(n.dims?n.dims:[n.data.length],u.dims?u.dims:[u.data.length]),TypeUtil.validateSameTypes([n.type,u.type]),o.type!=="bool")throw new Error("Condition tensor must be bool type");const l=n.dims?n.dims:[n.data.length],a=new ortWeb_minExports.Tensor(n.type,TypedArrayUtil.createTypedArray(n.type,ShapeUtil.size(l)),l),d=a.data,c=o.data,m=n.data,b=u.data;if(!o.dims||o.dims.length===1){const f=o.dims?o.dims:[o.data.length],s=n.dims?n.dims:[n.data.length];if(f[0]!==s[0])throw new Error("Outermost dimensions of input tensors and condition tensor must match");let t=1;if(n.dims&&n.dims.length>1)for(let e=1;e<n.dims.length;++e)t*=n.dims[e];for(let e=0;e<c.length;++e)for(let r=0;r<t;++r)d[e*t+r]=c[e]>0?m[e*t+r]:b[e*t+r]}else{ShapeUtil.areEqual(o.dims,u.dims?u.dims:[u.data.length]);for(let f=0;f<c.length;++f)d[f]=c[f]>0?m[f]:b[f]}return a}function cast(o,n){switch(n){case"int32":return new ortWeb_minExports.Tensor("int32",Int32Array.from(o.data),o.dims?o.dims:[o.data.length]);case"float32":return new ortWeb_minExports.Tensor("float32",Float32Array.from(o.data),o.dims?o.dims:[o.data.length]);case"bool":return new ortWeb_minExports.Tensor("bool",Uint8Array.from(o.data),o.dims?o.dims:[o.data.length]);default:throw new Error("Unsupported type for casting")}}function reshape(o,n){return reshape$1(o,n)}function argMax(o,n=0){if(o.type!=="float32"&&o.type!=="int32")throw new Error("Unsupported type for transform");const u=o.dims?o.dims.length:1;n=ShapeUtil.getActualAxisFromNegativeValue(n,u);const[l,a]=ShapeUtil.splitDimsIntoTwo(o.dims?o.dims:[o.data.length],n),d=o.data,c=TypedArrayUtil.createTypedArray("int32",a.length===0?1:ShapeUtil.size(a)),m=l[0];for(let b=0;b<c.length;++b){const f=m*b;let s=d[f],t=0;for(let e=0;e<m;++e){const r=d[f+e];r>s&&(s=r,t=e)}c[b]=t}return new ortWeb_minExports.Tensor("int32",c,a.length===0?[1]:a)}function max(o,n=0,u=!1){if(o.type!=="float32"&&o.type!=="int32")throw new Error("Unsupported type for transform");const l=o.dims?o.dims.length:1;n=ShapeUtil.getActualAxisFromNegativeValue(n,l);const[a,d]=ShapeUtil.splitDimsIntoTwo(o.dims?o.dims:[o.data.length],n),c=o.data,m=TypedArrayUtil.createTypedArray(o.type,d.length===0?1:ShapeUtil.size(d)),b=a[0];for(let s=0;s<m.length;++s){const t=b*s;let e=c[t];for(let r=0;r<b;++r){const i=c[t+r];i>e&&(e=i)}m[s]=e}let f=[];if(u){const s=o.dims?o.dims:[o.data.length];for(let t=0;t<s.length;++t)t===n?f.push(1):f.push(s[t])}else f=d;return new ortWeb_minExports.Tensor(o.type,m,f.length===0?[1]:f)}const classNames=["Aeroplane","Bicycle","Bird","Boat","Bottle","Bus","Car","Cat","Chair","Cow","Diningtable","Dog","Horse","Motorbike","Person","Pottedplant","Sheep","Sofa","Train","Tvmonitor"],YOLO_ANCHORS=new ortWeb_minExports.Tensor("float32",Float32Array.from([1.08,1.19,3.42,4.41,6.63,11.38,9.42,5.11,16.62,10.52]),[5,2]),DEFAULT_FILTER_BOXES_THRESHOLD=.01,DEFAULT_IOU_THRESHOLD=.4,DEFAULT_CLASS_PROB_THRESHOLD=.3,INPUT_DIM=416;async function postprocess(o,n){const[u,l,a,d]=yolo_head(o,YOLO_ANCHORS,20),c=yolo_boxes_to_corners(u,l),[m,b,f]=await yolo_filter_boxes(c,a,d,DEFAULT_FILTER_BOXES_THRESHOLD);if(m==null)return[];const s=scalar(INPUT_DIM),t=scalar(INPUT_DIM),e=reshape(stack([t,s,t,s]),[1,4]),r=mul(m,e),[i,g]=await Promise.all([r.data,b.data]),[y,_,v]=non_max_suppression(i,g,DEFAULT_IOU_THRESHOLD),w=await gather(f,new ortWeb_minExports.Tensor("int32",y)).data,x=[];return w.forEach((T,A)=>{const E=v[A];if(E<DEFAULT_CLASS_PROB_THRESHOLD)return;const O=classNames[T];let[S,P,$,M]=_[A];S=Math.max(0,S),P=Math.max(0,P),$=Math.min(416,$),M=Math.min(416,M);const j={className:O,classProb:E,bottom:$,top:S,left:P,right:M};x.push(j)}),x}async function yolo_filter_boxes(o,n,u,l){const a=mul(n,u),d=argMax(a,-1),c=max(a,-1),m=as1D(greaterEqual(c,scalar(l))),b=m.size,f=cast(linspace(0,b-1,b),"int32"),s=zeros([b],"int32"),t=where(m,f,s);return[gather(reshape(o,[b,4]),t),gather(as1D(c),t),gather(as1D(d),t)]}function yolo_boxes_to_corners(o,n){const u=new ortWeb_minExports.Tensor("float32",[2]),l=sub(o,div(n,u)),a=add(o,div(n,u)),d=l.dims[0],c=l.dims[1],m=l.dims[2],b=[d,c,m,1];return concat([slice(l,[0,0,0,1],b),slice(l,[0,0,0,0],b),slice(a,[0,0,0,1],b),slice(a,[0,0,0,0],b)],3)}function non_max_suppression(o,n,u){const l=[];for(let c=0;c<n.length;c++)l.push([n[c],[o[4*c],o[4*c+1],o[4*c+2],o[4*c+3]],c]);const a=l.sort((c,m)=>m[0]-c[0]),d=[];return a.forEach(c=>{let m=!0;for(let b=0;b<d.length;b++)if(box_iou(c[1],d[b][1])>u){m=!1;break}m&&d.push(c)}),[d.map(c=>c[2]),d.map(c=>c[1]),d.map(c=>c[0])]}function yolo_head(o,n,u){const l=n.dims[0],a=reshape(n,[1,1,l,2]),d=o.dims.slice(1,3),c=d[0],m=d[1];let b=range(0,d[0]),f=range(0,d[1]);b=tile(b,[d[1]]),f=tile(expandDims(f,0),[d[0],1]),f=as1D(transpose(f));let s=transpose(stack([b,f]));s=reshape(s,[d[0],d[1],1,2]),s=cast(s,o.type),o=reshape(o,[d[0],d[1],l,u+5]);const t=cast(reshape(new ortWeb_minExports.Tensor("int32",d),[1,1,1,2]),o.type);let e=sigmoid(slice(o,[0,0,0,0],[c,m,l,2])),r=exp(slice(o,[0,0,0,2],[c,m,l,2]));const i=sigmoid(slice(o,[0,0,0,4],[c,m,l,1])),g=softmax(slice(o,[0,0,0,5],[c,m,l,u]));return e=div(add(e,s),t),r=div(mul(r,a),t),[e,r,i,g]}function box_intersection(o,n){const u=Math.min(o[3],n[3])-Math.max(o[1],n[1]),l=Math.min(o[2],n[2])-Math.max(o[0],n[0]);return u<0||l<0?0:u*l}function box_union(o,n){const u=box_intersection(o,n);return(o[3]-o[1])*(o[2]-o[0])+(n[3]-n[1])*(n[2]-n[0])-u}function box_iou(o,n){return box_intersection(o,n)/box_union(o,n)}var jsExports={},js={get exports(){return jsExports},set exports(o){jsExports=o}},loadImageExports={},loadImage$1={get exports(){return loadImageExports},set exports(o){loadImageExports=o}};(function(o){(function(n){var u=n.URL||n.webkitURL;function l(f){return u?u.createObjectURL(f):!1}function a(f){return u?u.revokeObjectURL(f):!1}function d(f,s){f&&f.slice(0,5)==="blob:"&&!(s&&s.noRevoke)&&a(f)}function c(f,s,t,e){if(!n.FileReader)return!1;var r=new FileReader;r.onload=function(){s.call(r,this.result)},t&&(r.onabort=r.onerror=function(){t.call(r,this.error)});var i=r[e||"readAsDataURL"];if(i)return i.call(r,f),r}function m(f,s){return Object.prototype.toString.call(s)==="[object "+f+"]"}function b(f,s,t){function e(r,i){var g=document.createElement("img"),y;function _(w,x){if(r===i){r&&r(w,x);return}else if(w instanceof Error){i(w);return}x=x||{},x.image=w,r(x)}function v(w,x){x&&n.console&&console.log(x),w&&m("Blob",w)?(f=w,y=l(f)):(y=f,t&&t.crossOrigin&&(g.crossOrigin=t.crossOrigin)),g.src=y}if(g.onerror=function(w){d(y,t),i&&i.call(g,w)},g.onload=function(){d(y,t);var w={originalWidth:g.naturalWidth||g.width,originalHeight:g.naturalHeight||g.height};try{b.transform(g,t,_,f,w)}catch(x){i&&i(x)}},typeof f=="string")return b.requiresMetaData(t)?b.fetchBlob(f,v,t):v(),g;if(m("Blob",f)||m("File",f))return y=l(f),y?(g.src=y,g):c(f,function(w){g.src=w},i)}return n.Promise&&typeof s!="function"?(t=s,new Promise(e)):e(s,s)}b.requiresMetaData=function(f){return f&&f.meta},b.fetchBlob=function(f,s){s()},b.transform=function(f,s,t,e,r){t(f,r)},b.global=n,b.readFile=c,b.isInstanceOf=m,b.createObjectURL=l,b.revokeObjectURL=a,o.exports?o.exports=b:n.loadImage=b})(typeof window<"u"&&window||commonjsGlobal)})(loadImage$1);var loadImageScaleExports={},loadImageScale={get exports(){return loadImageScaleExports},set exports(o){loadImageScaleExports=o}};(function(o){(function(n){o.exports?n(loadImageExports):n(window.loadImage)})(function(n){var u=n.transform;n.createCanvas=function(l,a,d){if(d&&n.global.OffscreenCanvas)return new OffscreenCanvas(l,a);var c=document.createElement("canvas");return c.width=l,c.height=a,c},n.transform=function(l,a,d,c,m){u.call(n,n.scale(l,a,m),a,d,c,m)},n.transformCoordinates=function(){},n.getTransformedOptions=function(l,a){var d=a.aspectRatio,c,m,b,f;if(!d)return a;c={};for(m in a)Object.prototype.hasOwnProperty.call(a,m)&&(c[m]=a[m]);return c.crop=!0,b=l.naturalWidth||l.width,f=l.naturalHeight||l.height,b/f>d?(c.maxWidth=f*d,c.maxHeight=f):(c.maxWidth=b,c.maxHeight=b/d),c},n.drawImage=function(l,a,d,c,m,b,f,s,t){var e=a.getContext("2d");return t.imageSmoothingEnabled===!1?(e.msImageSmoothingEnabled=!1,e.imageSmoothingEnabled=!1):t.imageSmoothingQuality&&(e.imageSmoothingQuality=t.imageSmoothingQuality),e.drawImage(l,d,c,m,b,0,0,f,s),e},n.requiresCanvas=function(l){return l.canvas||l.crop||!!l.aspectRatio},n.scale=function(l,a,d){a=a||{},d=d||{};var c=l.getContext||n.requiresCanvas(a)&&!!n.global.HTMLCanvasElement,m=l.naturalWidth||l.width,b=l.naturalHeight||l.height,f=m,s=b,t,e,r,i,g,y,_,v,w,x,T,A;function E(){var S=Math.max((r||f)/f,(i||s)/s);S>1&&(f*=S,s*=S)}function O(){var S=Math.min((t||f)/f,(e||s)/s);S<1&&(f*=S,s*=S)}if(c&&(a=n.getTransformedOptions(l,a,d),_=a.left||0,v=a.top||0,a.sourceWidth?(g=a.sourceWidth,a.right!==void 0&&a.left===void 0&&(_=m-g-a.right)):g=m-_-(a.right||0),a.sourceHeight?(y=a.sourceHeight,a.bottom!==void 0&&a.top===void 0&&(v=b-y-a.bottom)):y=b-v-(a.bottom||0),f=g,s=y),t=a.maxWidth,e=a.maxHeight,r=a.minWidth,i=a.minHeight,c&&t&&e&&a.crop?(f=t,s=e,T=g/y-t/e,T<0?(y=e*g/t,a.top===void 0&&a.bottom===void 0&&(v=(b-y)/2)):T>0&&(g=t*y/e,a.left===void 0&&a.right===void 0&&(_=(m-g)/2))):((a.contain||a.cover)&&(r=t=t||r,i=e=e||i),a.cover?(O(),E()):(E(),O())),c){if(w=a.pixelRatio,w>1&&!(l.style.width&&Math.floor(parseFloat(l.style.width,10))===Math.floor(m/w))&&(f*=w,s*=w),n.orientationCropBug&&!l.getContext&&(_||v||g!==m||y!==b)&&(T=l,l=n.createCanvas(m,b,!0),n.drawImage(T,l,0,0,m,b,m,b,a)),x=a.downsamplingRatio,x>0&&x<1&&f<g&&s<y)for(;g*x>f;)A=n.createCanvas(g*x,y*x,!0),n.drawImage(l,A,_,v,g,y,A.width,A.height,a),_=0,v=0,g=A.width,y=A.height,l=A;return A=n.createCanvas(f,s),n.transformCoordinates(A,a,d),w>1&&(A.style.width=A.width/w+"px"),n.drawImage(l,A,_,v,g,y,f,s,a).setTransform(1,0,0,1,0,0),A}return l.width=f,l.height=s,l}})})(loadImageScale);var loadImageMetaExports={},loadImageMeta={get exports(){return loadImageMetaExports},set exports(o){loadImageMetaExports=o}};(function(o){(function(n){o.exports?n(loadImageExports):n(window.loadImage)})(function(n){var u=n.global,l=n.transform,a=u.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),d=u.ArrayBuffer&&ArrayBuffer.prototype.slice||function(s,t){t=t||this.byteLength-s;var e=new Uint8Array(this,s,t),r=new Uint8Array(t);return r.set(e),r.buffer},c={jpeg:{65505:[],65517:[]}};function m(s,t,e,r){var i=this;function g(y,_){if(!(u.DataView&&a&&s&&s.size>=12&&s.type==="image/jpeg"))return y(r);var v=e.maxMetaDataSize||262144;n.readFile(a.call(s,0,v),function(w){var x=new DataView(w);if(x.getUint16(0)!==65496)return _(new Error("Invalid JPEG file: Missing JPEG marker."));for(var T=2,A=x.byteLength-4,E=T,O,S,P,$;T<A&&(O=x.getUint16(T),O>=65504&&O<=65519||O===65534);){if(S=x.getUint16(T+2)+2,T+S>x.byteLength){console.log("Invalid JPEG metadata: Invalid segment size.");break}if(P=c.jpeg[O],P&&!e.disableMetaDataParsers)for($=0;$<P.length;$+=1)P[$].call(i,x,T,S,r,e);T+=S,E=T}!e.disableImageHead&&E>6&&(r.imageHead=d.call(w,0,E)),y(r)},_,"readAsArrayBuffer")||y(r)}return e=e||{},u.Promise&&typeof t!="function"?(e=t||{},r=e,new Promise(g)):(r=r||{},g(t,t))}function b(s,t,e){return!s||!t||!e?null:new Blob([e,a.call(s,t.byteLength)],{type:"image/jpeg"})}function f(s,t,e){var r={maxMetaDataSize:1024,disableMetaDataParsers:!0};if(!e&&u.Promise)return m(s,r).then(function(i){return b(s,i.imageHead,t)});m(s,function(i){e(b(s,i.imageHead,t))},r)}n.transform=function(s,t,e,r,i){n.requiresMetaData(t)?(i=i||{},m(r,function(g){g!==i&&(u.console&&console.log(g),g=i),l.call(n,s,t,e,r,g)},t,i)):l.apply(n,arguments)},n.blobSlice=a,n.bufferSlice=d,n.replaceHead=f,n.parseMetaData=m,n.metaDataParsers=c})})(loadImageMeta);var loadImageFetchExports={},loadImageFetch={get exports(){return loadImageFetchExports},set exports(o){loadImageFetchExports=o}};(function(o){(function(n){o.exports?n(loadImageExports):n(window.loadImage)})(function(n){var u=n.global;u.fetch&&u.Request&&u.Response&&u.Response.prototype.blob?n.fetchBlob=function(l,a,d){function c(m){return m.blob()}if(u.Promise&&typeof a!="function")return fetch(new Request(l,a)).then(c);fetch(new Request(l,d)).then(c).then(a).catch(function(m){a(null,m)})}:u.XMLHttpRequest&&new XMLHttpRequest().responseType===""&&(n.fetchBlob=function(l,a,d){function c(m,b){d=d||{};var f=new XMLHttpRequest;f.open(d.method||"GET",l),d.headers&&Object.keys(d.headers).forEach(function(s){f.setRequestHeader(s,d.headers[s])}),f.withCredentials=d.credentials==="include",f.responseType="blob",f.onload=function(){m(f.response)},f.onerror=f.onabort=f.ontimeout=function(s){m===b?b(null,s):b(s)},f.send(d.body)}return u.Promise&&typeof a!="function"?(d=a,new Promise(c)):c(a,a)})})})(loadImageFetch);var loadImageExifExports={},loadImageExif={get exports(){return loadImageExifExports},set exports(o){loadImageExifExports=o}};(function(o){(function(n){o.exports?n(loadImageExports,loadImageMetaExports):n(window.loadImage)})(function(n){function u(f){f&&(Object.defineProperty(this,"map",{value:this.ifds[f].map}),Object.defineProperty(this,"tags",{value:this.tags&&this.tags[f]||{}}))}u.prototype.map={Orientation:274,Thumbnail:"ifd1",Blob:513,Exif:34665,GPSInfo:34853,Interoperability:40965},u.prototype.ifds={ifd1:{name:"Thumbnail",map:u.prototype.map},34665:{name:"Exif",map:{}},34853:{name:"GPSInfo",map:{}},40965:{name:"Interoperability",map:{}}},u.prototype.get=function(f){return this[f]||this[this.map[f]]};function l(f,s,t){if(t){if(s+t>f.byteLength){console.log("Invalid Exif data: Invalid thumbnail data.");return}return new Blob([n.bufferSlice.call(f.buffer,s,s+t)],{type:"image/jpeg"})}}var a={1:{getValue:function(f,s){return f.getUint8(s)},size:1},2:{getValue:function(f,s){return String.fromCharCode(f.getUint8(s))},size:1,ascii:!0},3:{getValue:function(f,s,t){return f.getUint16(s,t)},size:2},4:{getValue:function(f,s,t){return f.getUint32(s,t)},size:4},5:{getValue:function(f,s,t){return f.getUint32(s,t)/f.getUint32(s+4,t)},size:8},9:{getValue:function(f,s,t){return f.getInt32(s,t)},size:4},10:{getValue:function(f,s,t){return f.getInt32(s,t)/f.getInt32(s+4,t)},size:8}};a[7]=a[1];function d(f,s,t,e,r,i){var g=a[e],y,_,v,w,x,T;if(!g){console.log("Invalid Exif data: Invalid tag type.");return}if(y=g.size*r,_=y>4?s+f.getUint32(t+8,i):t+8,_+y>f.byteLength){console.log("Invalid Exif data: Invalid data offset.");return}if(r===1)return g.getValue(f,_,i);for(v=[],w=0;w<r;w+=1)v[w]=g.getValue(f,_+w*g.size,i);if(g.ascii){for(x="",w=0;w<v.length&&(T=v[w],T!=="\0");w+=1)x+=T;return x}return v}function c(f,s,t){return(!f||f[t])&&(!s||s[t]!==!0)}function m(f,s,t,e,r,i,g,y){var _,v,w,x,T,A;if(t+6>f.byteLength){console.log("Invalid Exif data: Invalid directory offset.");return}if(_=f.getUint16(t,e),v=t+2+12*_,v+4>f.byteLength){console.log("Invalid Exif data: Invalid directory size.");return}for(w=0;w<_;w+=1)x=t+2+12*w,T=f.getUint16(x,e),c(g,y,T)&&(A=d(f,s,x,f.getUint16(x+2,e),f.getUint32(x+4,e),e),r[T]=A,i&&(i[T]=x));return f.getUint32(v,e)}function b(f,s,t,e,r,i,g){var y=f.exif[s];y&&(f.exif[s]=new u(s),f.exifOffsets&&(f.exifOffsets[s]=new u(s)),m(t,e,e+y,r,f.exif[s],f.exifOffsets&&f.exifOffsets[s],i&&i[s],g&&g[s]))}n.parseExifData=function(f,s,t,e,r){if(!r.disableExif){var i=r.includeExifTags,g=r.excludeExifTags||{34665:{37500:!0}},y=s+10,_,v,w;if(f.getUint32(s+4)===1165519206){if(y+8>f.byteLength){console.log("Invalid Exif data: Invalid segment size.");return}if(f.getUint16(s+8)!==0){console.log("Invalid Exif data: Missing byte alignment offset.");return}switch(f.getUint16(y)){case 18761:_=!0;break;case 19789:_=!1;break;default:console.log("Invalid Exif data: Invalid byte alignment marker.");return}if(f.getUint16(y+2,_)!==42){console.log("Invalid Exif data: Missing TIFF marker.");return}v=f.getUint32(y+4,_),e.exif=new u,r.disableExifOffsets||(e.exifOffsets=new u,e.exifTiffOffset=y,e.exifLittleEndian=_),v=m(f,y,y+v,_,e.exif,e.exifOffsets,i,g),v&&c(i,g,"ifd1")&&(e.exif.ifd1=v,e.exifOffsets&&(e.exifOffsets.ifd1=y+v)),Object.keys(e.exif.ifds).forEach(function(x){b(e,x,f,y,_,i,g)}),w=e.exif.ifd1,w&&w[513]&&(w[513]=l(f,y+w[513],w[514]))}}},n.metaDataParsers.jpeg[65505].push(n.parseExifData),n.exifWriters={274:function(f,s,t){var e=s.exifOffsets[274];if(!e)return f;var r=new DataView(f,e+8,2);return r.setUint16(0,t,s.exifLittleEndian),f}},n.writeExifData=function(f,s,t,e){return n.exifWriters[s.exif.map[t]](f,s,e)},n.ExifMap=u})})(loadImageExif);var loadImageExifMapExports={},loadImageExifMap={get exports(){return loadImageExifMapExports},set exports(o){loadImageExifMapExports=o}};(function(o){(function(n){o.exports?n(loadImageExports,loadImageExifExports):n(window.loadImage)})(function(n){var u=n.ExifMap.prototype;u.tags={256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",34665:{36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",36880:"OffsetTime",36881:"OffsetTimeOriginal",36882:"OffsetTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber"},34853:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},40965:{1:"InteroperabilityIndex"}},u.tags.ifd1=u.tags,u.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"Original",2:"Horizontal flip",3:"Rotate 180° CCW",4:"Vertical flip",5:"Vertical flip + Rotate 90° CW",6:"Rotate 90° CW",7:"Horizontal flip + Rotate 90° CW",8:"Rotate 90° CCW"}},u.getText=function(l){var a=this.get(l);switch(l){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[l][a];case"ExifVersion":case"FlashpixVersion":return a?String.fromCharCode(a[0],a[1],a[2],a[3]):void 0;case"ComponentsConfiguration":return a?this.stringValues[l][a[0]]+this.stringValues[l][a[1]]+this.stringValues[l][a[2]]+this.stringValues[l][a[3]]:void 0;case"GPSVersionID":return a?a[0]+"."+a[1]+"."+a[2]+"."+a[3]:void 0}return String(a)},u.getAll=function(){var l={},a,d,c;for(a in this)Object.prototype.hasOwnProperty.call(this,a)&&(d=this[a],d&&d.getAll?l[this.ifds[a].name]=d.getAll():(c=this.tags[a],c&&(l[c]=this.getText(c))));return l},u.getName=function(l){var a=this.tags[l];return typeof a=="object"?this.ifds[l].name:a},function(){var l=u.tags,a,d,c;for(a in l)if(Object.prototype.hasOwnProperty.call(l,a))if(d=u.ifds[a],d){c=l[a];for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(d.map[c[a]]=Number(a))}else u.map[l[a]]=Number(a)}()})})(loadImageExifMap);var loadImageIptcExports={},loadImageIptc={get exports(){return loadImageIptcExports},set exports(o){loadImageIptcExports=o}};(function(o){(function(n){o.exports?n(loadImageExports,loadImageMetaExports):n(window.loadImage)})(function(n){function u(){}u.prototype.map={ObjectName:5},u.prototype.types={0:"Uint16",200:"Uint16",201:"Uint16",202:"binary"},u.prototype.get=function(f){return this[f]||this[this.map[f]]};function l(f,s,t){for(var e="",r=s+t,i=s;i<r;i+=1)e+=String.fromCharCode(f.getUint8(i));return e}function a(f,s,t,e,r){return s.types[f]==="binary"?new Blob([t.buffer.slice(e,e+r)]):s.types[f]==="Uint16"?t.getUint16(e):l(t,e,r)}function d(f,s){return f===void 0?s:f instanceof Array?(f.push(s),f):[f,s]}function c(f,s,t,e,r,i){for(var g,y,_,v=s+t,w=s;w<v;)f.getUint8(w)===28&&f.getUint8(w+1)===2&&(_=f.getUint8(w+2),(!r||r[_])&&(!i||!i[_])&&(y=f.getInt16(w+3),g=a(_,e.iptc,f,w+5,y),e.iptc[_]=d(e.iptc[_],g),e.iptcOffsets&&(e.iptcOffsets[_]=w))),w+=1}function m(f,s){return f.getUint32(s)===943868237&&f.getUint16(s+4)===1028}function b(f,s){var t=f.getUint8(s+7);return t%2!==0&&(t+=1),t===0&&(t=4),t}n.parseIptcData=function(f,s,t,e,r){if(!r.disableIptc)for(var i=s+t;s+8<i;){if(m(f,s)){var g=b(f,s),y=s+8+g;if(y>i){console.log("Invalid IPTC data: Invalid segment offset.");break}var _=f.getUint16(s+6+g);if(s+_>i){console.log("Invalid IPTC data: Invalid segment size.");break}e.iptc=new u,r.disableIptcOffsets||(e.iptcOffsets=new u),c(f,y,_,e,r.includeIptcTags,r.excludeIptcTags||{202:!0});return}s+=1}},n.metaDataParsers.jpeg[65517].push(n.parseIptcData),n.IptcMap=u})})(loadImageIptc);var loadImageIptcMapExports={},loadImageIptcMap={get exports(){return loadImageIptcMapExports},set exports(o){loadImageIptcMapExports=o}};(function(o){(function(n){o.exports?n(loadImageExports,loadImageIptcExports):n(window.loadImage)})(function(n){var u=n.IptcMap.prototype;u.tags={0:"ApplicationRecordVersion",3:"ObjectTypeReference",4:"ObjectAttributeReference",5:"ObjectName",7:"EditStatus",8:"EditorialUpdate",10:"Urgency",12:"SubjectReference",15:"Category",20:"SupplementalCategories",22:"FixtureIdentifier",25:"Keywords",26:"ContentLocationCode",27:"ContentLocationName",30:"ReleaseDate",35:"ReleaseTime",37:"ExpirationDate",38:"ExpirationTime",40:"SpecialInstructions",42:"ActionAdvised",45:"ReferenceService",47:"ReferenceDate",50:"ReferenceNumber",55:"DateCreated",60:"TimeCreated",62:"DigitalCreationDate",63:"DigitalCreationTime",65:"OriginatingProgram",70:"ProgramVersion",75:"ObjectCycle",80:"Byline",85:"BylineTitle",90:"City",92:"Sublocation",95:"State",100:"CountryCode",101:"Country",103:"OriginalTransmissionReference",105:"Headline",110:"Credit",115:"Source",116:"CopyrightNotice",118:"Contact",120:"Caption",121:"LocalCaption",122:"Writer",125:"RasterizedCaption",130:"ImageType",131:"ImageOrientation",135:"LanguageIdentifier",150:"AudioType",151:"AudioSamplingRate",152:"AudioSamplingResolution",153:"AudioDuration",154:"AudioOutcue",184:"JobID",185:"MasterDocumentID",186:"ShortDocumentID",187:"UniqueDocumentID",188:"OwnerID",200:"ObjectPreviewFileFormat",201:"ObjectPreviewFileVersion",202:"ObjectPreviewData",221:"Prefs",225:"ClassifyState",228:"SimilarityIndex",230:"DocumentNotes",231:"DocumentHistory",232:"ExifCameraInfo",255:"CatalogSets"},u.stringValues={10:{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"},75:{a:"Morning",b:"Both Morning and Evening",p:"Evening"},131:{L:"Landscape",P:"Portrait",S:"Square"}},u.getText=function(l){var a=this.get(l),d=this.map[l],c=this.stringValues[d];return c?c[a]:String(a)},u.getAll=function(){var l={},a,d;for(a in this)Object.prototype.hasOwnProperty.call(this,a)&&(d=this.tags[a],d&&(l[d]=this.getText(d)));return l},u.getName=function(l){return this.tags[l]},function(){var l=u.tags,a=u.map||{},d;for(d in l)Object.prototype.hasOwnProperty.call(l,d)&&(a[l[d]]=Number(d))}()})})(loadImageIptcMap);var loadImageOrientationExports={},loadImageOrientation={get exports(){return loadImageOrientationExports},set exports(o){loadImageOrientationExports=o}};(function(o){(function(n){o.exports?n(loadImageExports,loadImageScaleExports,loadImageMetaExports):n(window.loadImage)})(function(n){var u=n.transform,l=n.requiresCanvas,a=n.requiresMetaData,d=n.transformCoordinates,c=n.getTransformedOptions;(function(s){if(s.global.document){var t="data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAIAAwMBEQACEQEDEQH/xABRAAEAAAAAAAAAAAAAAAAAAAAKEAEBAQADAQEAAAAAAAAAAAAGBQQDCAkCBwEBAAAAAAAAAAAAAAAAAAAAABEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEQMRAD8AG8T9NfSMEVMhQvoP3fFiRZ+MTHDifa/95OFSZU5OzRzxkyejv8ciEfhSceSXGjS8eSdLnZc2HDm4M3BxcXwH/9k=",e=document.createElement("img");e.onload=function(){if(s.orientation=e.width===2&&e.height===3,s.orientation){var r=s.createCanvas(1,1,!0),i=r.getContext("2d");i.drawImage(e,1,1,1,1,0,0,1,1),s.orientationCropBug=i.getImageData(0,0,1,1).data.toString()!=="255,255,255,255"}},e.src=t}})(n);function m(s,t){var e=s&&s.orientation;return e===!0&&!n.orientation||e===1&&n.orientation||(!t||n.orientation)&&e>1&&e<9}function b(s,t){return s!==t&&(s===1&&t>1&&t<9||s>1&&s<9)}function f(s,t){if(t>1&&t<9)switch(s){case 2:case 4:return t>4;case 5:case 7:return t%2===0;case 6:case 8:return t===2||t===4||t===5||t===7}return!1}n.requiresCanvas=function(s){return m(s)||l.call(n,s)},n.requiresMetaData=function(s){return m(s,!0)||a.call(n,s)},n.transform=function(s,t,e,r,i){u.call(n,s,t,function(g,y){if(y){var _=n.orientation&&y.exif&&y.exif.get("Orientation");if(_>4&&_<9){var v=y.originalWidth,w=y.originalHeight;y.originalWidth=w,y.originalHeight=v}}e(g,y)},r,i)},n.getTransformedOptions=function(s,t,e){var r=c.call(n,s,t),i=e.exif&&e.exif.get("Orientation"),g=r.orientation,y=n.orientation&&i;if(g===!0&&(g=i),!b(g,y))return r;var _=r.top,v=r.right,w=r.bottom,x=r.left,T={};for(var A in r)Object.prototype.hasOwnProperty.call(r,A)&&(T[A]=r[A]);if(T.orientation=g,(g>4&&!(y>4)||g<5&&y>4)&&(T.maxWidth=r.maxHeight,T.maxHeight=r.maxWidth,T.minWidth=r.minHeight,T.minHeight=r.minWidth,T.sourceWidth=r.sourceHeight,T.sourceHeight=r.sourceWidth),y>1){switch(y){case 2:v=r.left,x=r.right;break;case 3:_=r.bottom,v=r.left,w=r.top,x=r.right;break;case 4:_=r.bottom,w=r.top;break;case 5:_=r.left,v=r.bottom,w=r.right,x=r.top;break;case 6:_=r.left,v=r.top,w=r.right,x=r.bottom;break;case 7:_=r.right,v=r.top,w=r.left,x=r.bottom;break;case 8:_=r.right,v=r.bottom,w=r.left,x=r.top;break}if(f(g,y)){var E=_,O=v;_=w,v=x,w=E,x=O}}switch(T.top=_,T.right=v,T.bottom=w,T.left=x,g){case 2:T.right=x,T.left=v;break;case 3:T.top=w,T.right=x,T.bottom=_,T.left=v;break;case 4:T.top=w,T.bottom=_;break;case 5:T.top=x,T.right=w,T.bottom=v,T.left=_;break;case 6:T.top=v,T.right=w,T.bottom=x,T.left=_;break;case 7:T.top=v,T.right=_,T.bottom=x,T.left=w;break;case 8:T.top=x,T.right=_,T.bottom=v,T.left=w;break}return T},n.transformCoordinates=function(s,t,e){d.call(n,s,t,e);var r=t.orientation,i=n.orientation&&e.exif&&e.exif.get("Orientation");if(b(r,i)){var g=s.getContext("2d"),y=s.width,_=s.height,v=y,w=_;switch((r>4&&!(i>4)||r<5&&i>4)&&(s.width=_,s.height=y),r>4&&(v=_,w=y),i){case 2:g.translate(v,0),g.scale(-1,1);break;case 3:g.translate(v,w),g.rotate(Math.PI);break;case 4:g.translate(0,w),g.scale(1,-1);break;case 5:g.rotate(-.5*Math.PI),g.scale(-1,1);break;case 6:g.rotate(-.5*Math.PI),g.translate(-v,0);break;case 7:g.rotate(-.5*Math.PI),g.translate(-v,w),g.scale(1,-1);break;case 8:g.rotate(.5*Math.PI),g.translate(0,-w);break}switch(f(r,i)&&(g.translate(v,w),g.rotate(Math.PI)),r){case 2:g.translate(y,0),g.scale(-1,1);break;case 3:g.translate(y,_),g.rotate(Math.PI);break;case 4:g.translate(0,_),g.scale(1,-1);break;case 5:g.rotate(.5*Math.PI),g.scale(1,-1);break;case 6:g.rotate(.5*Math.PI),g.translate(0,-_);break;case 7:g.rotate(.5*Math.PI),g.translate(y,-_),g.scale(-1,1);break;case 8:g.rotate(-.5*Math.PI),g.translate(-y,0);break}}}})})(loadImageOrientation);(function(o){o.exports=loadImageExports})(js);const loadImage=getDefaultExportFromCjs(jsExports),img_bird_url="/assets/bird-76ebf3e7.jpg",_withScopeId=o=>(pushScopeId("data-v-030e62d7"),o=o(),popScopeId(),o),_hoisted_1=_withScopeId(()=>createBaseVNode("h1",null,"Yolo",-1)),_hoisted_2=_withScopeId(()=>createBaseVNode("div",{class:"webcam-container",id:"webcam-container",display:"none"},[createBaseVNode("video",{playsinline:"",muted:"",id:"webcam",width:"416",height:"416"}),createBaseVNode("canvas",{id:"input-canvas",width:"416",height:"416",style:{position:"absolute"}})],-1)),_hoisted_3=_withScopeId(()=>createBaseVNode("div",null,[createBaseVNode("span",null,"UPLOAD IMAGE")],-1)),_hoisted_4={id:"result"},_sfc_main=defineComponent({__name:"YoloView",setup(o){const u=ref("webgl"),l=ref("");let a,d;(async()=>{const t=await(await fetch(modelUrl)).arrayBuffer();a=document.getElementById("webcam-container"),console.info("Creating session...");try{d=u.value=="webgl"?await ortWeb_minExports.InferenceSession.create(t,{executionProviders:["webgl"]}):await await ortWeb_minExports.InferenceSession.create(t,{executionProviders:["wasm"]})}catch(e){throw console.error(e),new Error("Error: Backend not supported. ")}console.info("Warming up model..."),c(d,[1,3,416,416]),console.info("Done"),f(img_bird_url)})();async function c(s,t){const e=t.reduce((i,g)=>i*g),r=new ortWeb_minExports.Tensor("float32",new Float32Array(e),t);for(let i=0;i<e;i++)r.data[i]=Math.random()*2-1;try{const i={};i[s.inputNames[0]]=r,await s.run(i)}catch(i){console.error(i)}}async function m(){const s=document.getElementById("input-canvas").getContext("2d"),t=y(s);console.info("Running model...");let e,r;[e,r]=await g(d,t),i(),console.info("post process..."),_(e,r),console.info("Done inference!"),console.info(e);return;function i(){for(;a.childNodes.length>2;)a.removeChild(a.childNodes[2])}async function g(v,w){const x=new Date;try{const T={};T[v.inputNames[0]]=w;const A=await v.run(T),O=new Date().getTime()-x.getTime();return[A[v.outputNames[0]],O]}catch(T){throw T}}function y(v){const w=v.getImageData(0,0,v.canvas.width,v.canvas.height),{data:x,width:T,height:A}=w,E=ndarray(new Float32Array(x),[T,A,4]),O=ndarray(new Float32Array(T*A*3),[1,3,T,A]);ndarrayOps.assign(O.pick(0,0,null,null),E.pick(null,null,0)),ndarrayOps.assign(O.pick(0,1,null,null),E.pick(null,null,1)),ndarrayOps.assign(O.pick(0,2,null,null),E.pick(null,null,2));const S=new ortWeb_minExports.Tensor("float32",new Float32Array(T*A*3),[1,3,T,A]);return S.data.set(O.data),S}async function _(v,w){try{const T=new ortWeb_minExports.Tensor("float32",v.data,[1,125,13,13]),A=transpose(T,[0,2,3,1]);(await postprocess(A,20)).forEach(O=>{const{top:S,left:P,bottom:$,right:M,classProb:j,className:H}=O;l.value=`${H} Confidence: ${Math.round(j*100)}% Time: ${w.toFixed(1)}ms`,x(P,S,M-P,$-S,l.value)})}catch(T){alert("Model is not valid!"),console.error(T)}return;function x(T,A,E,O,S="",P="red"){const $=document.getElementById("webcam-container"),[M,j]=[($.offsetWidth-416)/2,($.offsetHeight-416)/2],H=document.createElement("div");H.style.cssText=`top: ${A+j}px; left: ${T+M}px; width: ${E}px; height: ${O}px; border-color: ${P};`;const K=document.createElement("div");K.innerText=S,H.appendChild(K),$.appendChild(H)}}}function b(s){f(s.target.files[0]),m()}function f(s){if(!s){t();return}loadImage(s,e=>{if(e.type==="error")console.error("Error on loading image");else{const r=document.getElementById("input-canvas");if(r){const i=r.getContext("2d");i&&i.drawImage(e,0,0)}}},{maxWidth:416,maxHeight:416,cover:!0,crop:!0,canvas:!0,crossOrigin:"Anonymous"});function t(){const e=document.getElementById("input-canvas");if(e){const i=e.getContext("2d");i&&i.clearRect(0,0,i.canvas.width,i.canvas.height)}const r=document.getElementById("input-upload-image");r&&(r.value="")}}return(s,t)=>(openBlock(),createElementBlock("main",null,[_hoisted_1,_hoisted_2,_hoisted_3,createBaseVNode("input",{type:"file",id:"input-upload-image",onChange:b},null,32),createBaseVNode("div",null,[createBaseVNode("button",{type:"button",id:"run-button",onClick:t[0]||(t[0]=e=>m())},"Infer!")]),createBaseVNode("div",_hoisted_4,toDisplayString(l.value),1)]))}}),YoloView_vue_vue_type_style_index_0_scoped_030e62d7_lang="",YoloView=_export_sfc(_sfc_main,[["__scopeId","data-v-030e62d7"]]),router=createRouter({history:createWebHistory("/"),routes:[{path:"/",name:"home",component:_sfc_main$1},{path:"/about",name:"about",component:()=>__vitePreload(()=>import("./AboutView-9b974a35.js"),["assets/AboutView-9b974a35.js","assets/AboutView-4d995ba2.css"])},{path:"/yolo",name:"yolo",component:YoloView}]}),main="",app=createApp(App);app.use(router);app.mount("#app");export{_export_sfc as _,createBaseVNode as a,createElementBlock as c,openBlock as o};
